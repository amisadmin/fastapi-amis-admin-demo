{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u9879\u76ee\u4ecb\u7ecd \u00b6 FastAPI-Amis-Admin fastapi-amis-admin\u662f\u4e00\u4e2a\u62e5\u6709\u9ad8\u6027\u80fd,\u9ad8\u6548\u7387,\u6613\u62d3\u5c55\u7684fastapi\u7ba1\u7406\u540e\u53f0\u6846\u67b6 \u542f\u53d1\u81eaDjango-Admin,\u5e76\u4e14\u62e5\u6709\u4e0d\u900a\u8272\u4e8eDjango-Admin\u7684\u5f3a\u5927\u529f\u80fd. \u6e90\u7801 \u00b7 \u6587\u6863 \u00b7 \u5728\u7ebf\u6f14\u793a \u00b7 \u5f00\u59cb\u4f7f\u7528 fastapi-amis-admin \u662f\u4e00\u4e2a\u57fa\u4e8e fastapi + amis \u5f00\u53d1\u7684\u9ad8\u6027\u80fd\u5e76\u4e14\u9ad8\u6548\u7387 web-admin \u6846\u67b6\uff0c\u4f7f\u7528 Python 3.6+ \u5e76\u57fa\u4e8e\u6807\u51c6\u7684 Python \u7c7b\u578b\u63d0\u793a\u3002 fastapi-amis-admin \u5f00\u53d1\u7684\u521d\u8877\u662f\u4e3a\u4e86\u5b8c\u5584 fastapi \u5e94\u7528\u751f\u6001, \u4e3a fastapi web\u5e94\u7528\u7a0b\u5e8f\u5feb\u901f\u751f\u6210\u4e00\u4e2a\u53ef\u89c6\u5316\u7ba1\u7406\u540e\u53f0. fastapi-amis-admin \u9075\u5faa Apache2.0 \u534f\u8bae\u514d\u8d39\u5f00\u6e90, \u4f46\u662f\u4e3a\u4e86\u66f4\u597d\u7684\u957f\u671f\u8fd0\u8425\u4e0e\u7ef4\u62a4\u6b64\u9879\u76ee, fastapi-amis-admin \u975e\u5e38\u5e0c\u671b\u80fd\u591f\u5f97\u5230\u5927\u5bb6\u7684\u8d5e\u52a9\u4e0e\u652f\u6301. \u5173\u952e\u7279\u6027 \u00b6 \u6027\u80fd\u6781\u9ad8 \uff1a\u57fa\u4e8e FastAPI , \u53ef\u4eab\u53d7FastAPI\u7684\u5168\u90e8\u4f18\u52bf\u3002 \u6548\u7387\u66f4\u5feb \uff1a\u5b8c\u5584\u7684\u7f16\u7801\u7c7b\u578b\u63d0\u793a, \u4ee3\u7801\u53ef\u91cd\u7528\u6027\u66f4\u9ad8. \u652f\u6301\u5f02\u6b65\u548c\u540c\u6b65\u6df7\u5408\u7f16\u5199 : ORM \u57fa\u4e8e SQLModel + Sqlalchemy , \u53ef\u81ea\u7531\u5b9a\u5236\u6570\u636e\u5e93\u7c7b\u578b, \u652f\u6301\u540c\u6b65\u53ca\u5f02\u6b65\u6a21\u5f0f, \u53ef\u62d3\u5c55\u6027\u5f3a. \u524d\u540e\u7aef\u5206\u79bb : \u524d\u7aef\u7531 Amis \u6e32\u67d3, \u540e\u7aef\u63a5\u53e3\u7531 fastapi-amis-admin \u81ea\u52a8\u751f\u6210, \u63a5\u53e3\u53ef\u91cd\u590d\u5229\u7528. \u53ef\u62d3\u5c55\u6027\u5f3a : \u540e\u53f0\u9875\u9762\u652f\u6301 Amis \u9875\u9762\u53ca\u666e\u901a html \u9875\u9762,\u5f00\u53d1\u8005\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u81ea\u7531\u5b9a\u5236\u754c\u9762. \u81ea\u52a8\u751f\u6210API\u6587\u6863 : \u7531 FastAPI \u81ea\u52a8\u751f\u6210\u63a5\u53e3\u6587\u6863,\u65b9\u4fbf\u5f00\u53d1\u8005\u8c03\u8bd5,\u4ee5\u53ca\u63a5\u53e3\u5206\u4eab. \u6838\u5fc3\u4f9d\u8d56 \u00b6 Fastapi \u8d1f\u8d23 web \u90e8\u5206 SQLModel \u8d1f\u8d23ORM\u6a21\u578b\u6620\u5c04(\u5b8c\u7f8e\u7ed3\u5408 SQLAlchemy + Pydantic , \u62e5\u6709 SQLAlchemy \u548c Pydantic \u7684\u6240\u6709\u529f\u80fd) Amis \u8d1f\u8d23Admin\u540e\u53f0\u9875\u9762\u5c55\u793a \u9879\u76ee\u7ec4\u6210 \u00b6 fastapi-amis-admin \u7531\u4e09\u90e8\u5206\u6838\u5fc3\u6a21\u5757\u7ec4\u6210,\u5176\u4e2d python_amis , fastapi_crud \u53ef\u4f5c\u4e3a\u72ec\u7acb\u6a21\u5757\u5355\u72ec\u4f7f\u7528, amis_admin \u57fa\u4e8e\u524d\u8005\u5171\u540c\u6784\u5efa. python_amis : \u57fa\u4e8e baidu amis \u7684 pydantic \u6570\u636e\u6a21\u578b\u6784\u5efa\u5e93,\u7528\u4e8e\u5feb\u901f\u751f\u6210,\u89e3\u6790 amis json \u6570\u636e. fastapi_crud : \u57fa\u4e8e FastAPI + SQLModel , \u7528\u4e8e\u5feb\u901f\u6784\u5efaCreate,Read,Update,Delete\u901a\u7528API\u63a5\u53e3. amis_admin : \u542f\u53d1\u81ea Django-Admin , \u7ed3\u5408 python_amis+fastapi_crud , \u7528\u4e8e\u5feb\u901f\u6784\u5efaWeb Admin\u7ba1\u7406\u540e\u53f0. \u672a\u6765\u8ba1\u5212 \u00b6 bug\u4fee\u590d,\u7ec6\u8282\u5b8c\u5584. \u5b8c\u5584\u7528\u6237\u6559\u7a0b\u6587\u6863. \u4e0d\u65ad\u62d3\u5c55\u4e0e\u5b8c\u5584\u6838\u5fc3\u529f\u80fd. \u589e\u52a0\u7528\u6237\u8ba4\u8bc1\u4e0e\u6388\u6743\u7cfb\u7edf. \u8bb8\u53ef\u534f\u8bae \u00b6 fastapi-amis-admin \u57fa\u4e8e Apache2.0 \u5f00\u6e90\u514d\u8d39\u4f7f\u7528\uff0c\u53ef\u4ee5\u514d\u8d39\u7528\u4e8e\u5546\u4e1a\u7528\u9014\uff0c\u4f46\u8bf7\u5728\u5c55\u793a\u754c\u9762\u4e2d\u660e\u786e\u663e\u793a\u5173\u4e8eFastAPI-Amis-Admin\u7684\u7248\u6743\u4fe1\u606f. \u754c\u9762\u9884\u89c8 \u00b6","title":"\u9879\u76ee\u4ecb\u7ecd"},{"location":"#_1","text":"","title":"\u9879\u76ee\u4ecb\u7ecd"},{"location":"#_2","text":"\u6027\u80fd\u6781\u9ad8 \uff1a\u57fa\u4e8e FastAPI , \u53ef\u4eab\u53d7FastAPI\u7684\u5168\u90e8\u4f18\u52bf\u3002 \u6548\u7387\u66f4\u5feb \uff1a\u5b8c\u5584\u7684\u7f16\u7801\u7c7b\u578b\u63d0\u793a, \u4ee3\u7801\u53ef\u91cd\u7528\u6027\u66f4\u9ad8. \u652f\u6301\u5f02\u6b65\u548c\u540c\u6b65\u6df7\u5408\u7f16\u5199 : ORM \u57fa\u4e8e SQLModel + Sqlalchemy , \u53ef\u81ea\u7531\u5b9a\u5236\u6570\u636e\u5e93\u7c7b\u578b, \u652f\u6301\u540c\u6b65\u53ca\u5f02\u6b65\u6a21\u5f0f, \u53ef\u62d3\u5c55\u6027\u5f3a. \u524d\u540e\u7aef\u5206\u79bb : \u524d\u7aef\u7531 Amis \u6e32\u67d3, \u540e\u7aef\u63a5\u53e3\u7531 fastapi-amis-admin \u81ea\u52a8\u751f\u6210, \u63a5\u53e3\u53ef\u91cd\u590d\u5229\u7528. \u53ef\u62d3\u5c55\u6027\u5f3a : \u540e\u53f0\u9875\u9762\u652f\u6301 Amis \u9875\u9762\u53ca\u666e\u901a html \u9875\u9762,\u5f00\u53d1\u8005\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u81ea\u7531\u5b9a\u5236\u754c\u9762. \u81ea\u52a8\u751f\u6210API\u6587\u6863 : \u7531 FastAPI \u81ea\u52a8\u751f\u6210\u63a5\u53e3\u6587\u6863,\u65b9\u4fbf\u5f00\u53d1\u8005\u8c03\u8bd5,\u4ee5\u53ca\u63a5\u53e3\u5206\u4eab.","title":"\u5173\u952e\u7279\u6027"},{"location":"#_3","text":"Fastapi \u8d1f\u8d23 web \u90e8\u5206 SQLModel \u8d1f\u8d23ORM\u6a21\u578b\u6620\u5c04(\u5b8c\u7f8e\u7ed3\u5408 SQLAlchemy + Pydantic , \u62e5\u6709 SQLAlchemy \u548c Pydantic \u7684\u6240\u6709\u529f\u80fd) Amis \u8d1f\u8d23Admin\u540e\u53f0\u9875\u9762\u5c55\u793a","title":"\u6838\u5fc3\u4f9d\u8d56"},{"location":"#_4","text":"fastapi-amis-admin \u7531\u4e09\u90e8\u5206\u6838\u5fc3\u6a21\u5757\u7ec4\u6210,\u5176\u4e2d python_amis , fastapi_crud \u53ef\u4f5c\u4e3a\u72ec\u7acb\u6a21\u5757\u5355\u72ec\u4f7f\u7528, amis_admin \u57fa\u4e8e\u524d\u8005\u5171\u540c\u6784\u5efa. python_amis : \u57fa\u4e8e baidu amis \u7684 pydantic \u6570\u636e\u6a21\u578b\u6784\u5efa\u5e93,\u7528\u4e8e\u5feb\u901f\u751f\u6210,\u89e3\u6790 amis json \u6570\u636e. fastapi_crud : \u57fa\u4e8e FastAPI + SQLModel , \u7528\u4e8e\u5feb\u901f\u6784\u5efaCreate,Read,Update,Delete\u901a\u7528API\u63a5\u53e3. amis_admin : \u542f\u53d1\u81ea Django-Admin , \u7ed3\u5408 python_amis+fastapi_crud , \u7528\u4e8e\u5feb\u901f\u6784\u5efaWeb Admin\u7ba1\u7406\u540e\u53f0.","title":"\u9879\u76ee\u7ec4\u6210"},{"location":"#_5","text":"bug\u4fee\u590d,\u7ec6\u8282\u5b8c\u5584. \u5b8c\u5584\u7528\u6237\u6559\u7a0b\u6587\u6863. \u4e0d\u65ad\u62d3\u5c55\u4e0e\u5b8c\u5584\u6838\u5fc3\u529f\u80fd. \u589e\u52a0\u7528\u6237\u8ba4\u8bc1\u4e0e\u6388\u6743\u7cfb\u7edf.","title":"\u672a\u6765\u8ba1\u5212"},{"location":"#_6","text":"fastapi-amis-admin \u57fa\u4e8e Apache2.0 \u5f00\u6e90\u514d\u8d39\u4f7f\u7528\uff0c\u53ef\u4ee5\u514d\u8d39\u7528\u4e8e\u5546\u4e1a\u7528\u9014\uff0c\u4f46\u8bf7\u5728\u5c55\u793a\u754c\u9762\u4e2d\u660e\u786e\u663e\u793a\u5173\u4e8eFastAPI-Amis-Admin\u7684\u7248\u6743\u4fe1\u606f.","title":"\u8bb8\u53ef\u534f\u8bae"},{"location":"#_7","text":"","title":"\u754c\u9762\u9884\u89c8"},{"location":"about/","text":"\u5e2e\u52a9\u6216\u83b7\u53d6\u5e2e\u52a9 \u00b6 \u5982\u679c\u4f60\u559c\u6b22 fastapi_amis_admin \u9879\u76ee,\u6216\u8005\u5b83\u5bf9\u4f60\u6709\u7528,\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5e2e\u52a9 fastapi_amis_admin . GitHub \u4e2d\u7684 Star \u00b6 \u60a8\u53ef\u4ee5\u5728 GitHub \u4e2d\"\u4e3a FastAPI \u52a0\u6ce8\u661f\u6807\"\uff08\u5355\u51fb\u53f3\u4e0a\u89d2\u7684\u661f\u5f62\u6309\u94ae\uff09\uff1a https://github.com/amisadmin/fastapi_amis_admin \u2b50\ufe0f \u901a\u8fc7\u6dfb\u52a0\u661f\u53f7\uff0c\u5176\u4ed6\u7528\u6237\u5c06\u80fd\u591f\u66f4\u8f7b\u677e\u5730\u627e\u5230\u5b83\uff0c\u5e76\u770b\u5230\u5b83\u5df2\u7ecf\u5bf9\u5176\u4ed6\u4eba\u6709\u7528\u3002 \u5e2e\u52a9\u5176\u4ed6\u4eba\u89e3\u51b3 GitHub \u4e2d\u7684\u95ee\u9898 \u00b6 \u60a8\u53ef\u4ee5\u770b\u5230 \u5b58\u5728\u7684\u95ee\u9898 \u5e76\u5c1d\u8bd5\u5e2e\u52a9\u4ed6\u4eba\uff0c\u5927\u591a\u6570\u65f6\u5019\uff0c\u8fd9\u4e9b\u95ee\u9898\u60a8\u53ef\u80fd\u5df2\u7ecf\u77e5\u9053\u7b54\u6848\u3002\ud83e\udd13 \u521b\u5efa\u95ee\u9898 \u00b6 \u60a8\u53ef\u4ee5\u5728 GitHub \u5b58\u50a8\u5e93\u4e2d \u521b\u5efa\u65b0\u95ee\u9898 \uff0c\u4f8b\u5982\uff1a \u63d0\u51fa**\u95ee\u9898**\u6216\u8be2\u95ee**\u95ee\u9898**\u3002 \u5efa\u8bae\u4e00\u4e2a**\u65b0\u529f\u80fd**\u3002 \u6ce8\u610f \uff1a\u5982\u679c\u60a8\u521b\u5efa\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u90a3\u4e48\u6211\u5c06\u8981\u6c42\u60a8\u4e5f\u5e2e\u52a9\u5176\u4ed6\u4eba\u3002\ud83d\ude09 \u52a0\u5165\u7fa4\u804a \u00b6 \u76ee\u524d\u4ec5\u5efa\u7acb\u4e86QQ\u7fa4\u804a: 229036692 ,\u611f\u5174\u8da3\u7684\u4f19\u4f34\u53ef\u4ee5\u52a0\u5165\u4e00\u8d77\u8ba8\u8bba. \u521b\u5efa\u62c9\u53d6\u8bf7\u6c42 \u00b6 \u60a8\u53ef\u4ee5\u4f7f\u7528\u62c9\u53d6\u8bf7\u6c42\u4e3a\u6e90\u4ee3\u7801[\u505a\u51fa\u8d21\u732e]\uff0c\u4f8b\u5982\uff1a \u4fee\u590d\u60a8\u5728\u6587\u6863\u4e2d\u627e\u5230\u7684\u62fc\u5199\u9519\u8bef\u3002 \u5e2e\u52a9[\u5c06\u6587\u6863\u7ffb\u8bd1\u6210]\u60a8\u7684\u8bed\u8a00\u3002 \u60a8\u8fd8\u53ef\u4ee5\u5e2e\u52a9\u5ba1\u9605\u5176\u4ed6\u4eba\u521b\u5efa\u7684\u7ffb\u8bd1\u3002 \u5efa\u8bae\u65b0\u7684\u6587\u6863\u90e8\u5206\u3002 \u4fee\u590d\u73b0\u6709\u95ee\u9898/\u9519\u8bef\u3002 \u6dfb\u52a0\u65b0\u529f\u80fd\u3002 \u8d5e\u52a9\u4f5c\u8005 \u00b6 fastapi-amis-admin \u7684\u5f00\u53d1\u4e0e\u7ef4\u62a4,\u5305\u62ec\u6587\u6863\u7f16\u5199\u90fd\u662f\u975e\u5e38\u8017\u65f6\u7684\u5de5\u4f5c,\u5982\u679c\u4f60\u60f3\u652f\u6301 fastapi-amis-admin \u7684\u5f00\u53d1,\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5728\u7ecf\u6d4e\u4e0a\u652f\u6301\u4f5c\u8005\u3002 \u7231\u53d1\u7535 (afdian.net) PayPal.Me \u8d5e\u52a9\u4e3a\u9879\u76ee\u63d0\u4f9b\u652f\u6301\u7684\u5de5\u5177 \u00b6 FastAPI-Amis-Admin\u975e\u5e38\u611f\u8c22\u4ee5\u4e0b\u9879\u76ee\u7684\u652f\u6301\u3002 \u60a8\u8fd8\u53ef\u4ee5\u8d5e\u52a9\uff1a Fastapi Amis SQLModel Pydantic","title":"\u5e2e\u52a9\u6216\u83b7\u53d6\u5e2e\u52a9"},{"location":"about/#_1","text":"\u5982\u679c\u4f60\u559c\u6b22 fastapi_amis_admin \u9879\u76ee,\u6216\u8005\u5b83\u5bf9\u4f60\u6709\u7528,\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5e2e\u52a9 fastapi_amis_admin .","title":"\u5e2e\u52a9\u6216\u83b7\u53d6\u5e2e\u52a9"},{"location":"about/#github-star","text":"\u60a8\u53ef\u4ee5\u5728 GitHub \u4e2d\"\u4e3a FastAPI \u52a0\u6ce8\u661f\u6807\"\uff08\u5355\u51fb\u53f3\u4e0a\u89d2\u7684\u661f\u5f62\u6309\u94ae\uff09\uff1a https://github.com/amisadmin/fastapi_amis_admin \u2b50\ufe0f \u901a\u8fc7\u6dfb\u52a0\u661f\u53f7\uff0c\u5176\u4ed6\u7528\u6237\u5c06\u80fd\u591f\u66f4\u8f7b\u677e\u5730\u627e\u5230\u5b83\uff0c\u5e76\u770b\u5230\u5b83\u5df2\u7ecf\u5bf9\u5176\u4ed6\u4eba\u6709\u7528\u3002","title":"GitHub \u4e2d\u7684 Star"},{"location":"about/#github","text":"\u60a8\u53ef\u4ee5\u770b\u5230 \u5b58\u5728\u7684\u95ee\u9898 \u5e76\u5c1d\u8bd5\u5e2e\u52a9\u4ed6\u4eba\uff0c\u5927\u591a\u6570\u65f6\u5019\uff0c\u8fd9\u4e9b\u95ee\u9898\u60a8\u53ef\u80fd\u5df2\u7ecf\u77e5\u9053\u7b54\u6848\u3002\ud83e\udd13","title":"\u5e2e\u52a9\u5176\u4ed6\u4eba\u89e3\u51b3 GitHub \u4e2d\u7684\u95ee\u9898"},{"location":"about/#_2","text":"\u60a8\u53ef\u4ee5\u5728 GitHub \u5b58\u50a8\u5e93\u4e2d \u521b\u5efa\u65b0\u95ee\u9898 \uff0c\u4f8b\u5982\uff1a \u63d0\u51fa**\u95ee\u9898**\u6216\u8be2\u95ee**\u95ee\u9898**\u3002 \u5efa\u8bae\u4e00\u4e2a**\u65b0\u529f\u80fd**\u3002 \u6ce8\u610f \uff1a\u5982\u679c\u60a8\u521b\u5efa\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u90a3\u4e48\u6211\u5c06\u8981\u6c42\u60a8\u4e5f\u5e2e\u52a9\u5176\u4ed6\u4eba\u3002\ud83d\ude09","title":"\u521b\u5efa\u95ee\u9898"},{"location":"about/#_3","text":"\u76ee\u524d\u4ec5\u5efa\u7acb\u4e86QQ\u7fa4\u804a: 229036692 ,\u611f\u5174\u8da3\u7684\u4f19\u4f34\u53ef\u4ee5\u52a0\u5165\u4e00\u8d77\u8ba8\u8bba.","title":"\u52a0\u5165\u7fa4\u804a"},{"location":"about/#_4","text":"\u60a8\u53ef\u4ee5\u4f7f\u7528\u62c9\u53d6\u8bf7\u6c42\u4e3a\u6e90\u4ee3\u7801[\u505a\u51fa\u8d21\u732e]\uff0c\u4f8b\u5982\uff1a \u4fee\u590d\u60a8\u5728\u6587\u6863\u4e2d\u627e\u5230\u7684\u62fc\u5199\u9519\u8bef\u3002 \u5e2e\u52a9[\u5c06\u6587\u6863\u7ffb\u8bd1\u6210]\u60a8\u7684\u8bed\u8a00\u3002 \u60a8\u8fd8\u53ef\u4ee5\u5e2e\u52a9\u5ba1\u9605\u5176\u4ed6\u4eba\u521b\u5efa\u7684\u7ffb\u8bd1\u3002 \u5efa\u8bae\u65b0\u7684\u6587\u6863\u90e8\u5206\u3002 \u4fee\u590d\u73b0\u6709\u95ee\u9898/\u9519\u8bef\u3002 \u6dfb\u52a0\u65b0\u529f\u80fd\u3002","title":"\u521b\u5efa\u62c9\u53d6\u8bf7\u6c42"},{"location":"about/#_5","text":"fastapi-amis-admin \u7684\u5f00\u53d1\u4e0e\u7ef4\u62a4,\u5305\u62ec\u6587\u6863\u7f16\u5199\u90fd\u662f\u975e\u5e38\u8017\u65f6\u7684\u5de5\u4f5c,\u5982\u679c\u4f60\u60f3\u652f\u6301 fastapi-amis-admin \u7684\u5f00\u53d1,\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5728\u7ecf\u6d4e\u4e0a\u652f\u6301\u4f5c\u8005\u3002 \u7231\u53d1\u7535 (afdian.net) PayPal.Me","title":"\u8d5e\u52a9\u4f5c\u8005"},{"location":"about/#_6","text":"FastAPI-Amis-Admin\u975e\u5e38\u611f\u8c22\u4ee5\u4e0b\u9879\u76ee\u7684\u652f\u6301\u3002 \u60a8\u8fd8\u53ef\u4ee5\u8d5e\u52a9\uff1a Fastapi Amis SQLModel Pydantic","title":"\u8d5e\u52a9\u4e3a\u9879\u76ee\u63d0\u4f9b\u652f\u6301\u7684\u5de5\u5177"},{"location":"release/","text":"\u53d1\u5e03\u65e5\u5fd7 \u00b6 0.0.11 \u00b6 \u9996\u6b21\u53d1\u5e03.","title":"\u53d1\u5e03\u65e5\u5fd7"},{"location":"release/#_1","text":"","title":"\u53d1\u5e03\u65e5\u5fd7"},{"location":"release/#0011","text":"\u9996\u6b21\u53d1\u5e03.","title":"0.0.11"},{"location":"amis/types/","text":"BaseAmisModel \u00b6 \u7ee7\u627f\u57fa\u7c7b \u00b6 Pydantic BaseModel \u00b6 \u65b9\u6cd5: \u00b6 amisJson \u00b6 \u8fd4\u56de\u6a21\u578b json \u6570\u636e,\u4f7f\u7528\u5b57\u6bb5\u522b\u540d\u5e76\u4e14\u6392\u9664 None . amisDict \u00b6 \u8fd4\u56de\u6a21\u578b dict \u6570\u636e,\u4f7f\u7528\u5b57\u6bb5\u522b\u540d\u5e76\u4e14\u6392\u9664 None . update_from_dict \u00b6 \u901a\u8fc7 dict \u66f4\u65b0\u6a21\u578b\u6570\u636e. update_from_kwargs \u00b6 \u901a\u8fc7 kwargs \u53c2\u6570\u5217\u8868\u66f4\u65b0\u6a21\u578b\u6570\u636e. AmisNode \u00b6 \u53c2\u8003: SchemaNode AmisAPI \u00b6 \u53c2\u8003: API Page \u00b6 \u53c2\u8003: Page \u9875\u9762 App \u00b6 \u53c2\u8003: App \u591a\u9875\u5e94\u7528 PageSchema \u00b6 \u53c2\u8003: App \u591a\u9875\u5e94\u7528 Action \u00b6 \u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae Form \u00b6 \u53c2\u8003: Form \u8868\u5355 FormItem \u00b6 \u53c2\u8003: FormItem \u666e\u901a\u8868\u5355\u9879 TableCRUD \u00b6 \u53c2\u8003: CRUD \u589e\u5220\u6539\u67e5 , Table \u8868\u683c TableColumn \u00b6 \u53c2\u8003: Table \u8868\u683c components \u00b6 \u53c2\u8003: \u7ec4\u4ef6\u4ecb\u7ecd \u66f4\u591a \u00b6 \u53c2\u8003: Amis\u5b98\u65b9\u6587\u6863","title":"Types"},{"location":"amis/types/#baseamismodel","text":"","title":"BaseAmisModel"},{"location":"amis/types/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis/types/#pydantic-basemodel","text":"","title":"Pydantic BaseModel"},{"location":"amis/types/#_2","text":"","title":"\u65b9\u6cd5:"},{"location":"amis/types/#amisjson","text":"\u8fd4\u56de\u6a21\u578b json \u6570\u636e,\u4f7f\u7528\u5b57\u6bb5\u522b\u540d\u5e76\u4e14\u6392\u9664 None .","title":"amisJson"},{"location":"amis/types/#amisdict","text":"\u8fd4\u56de\u6a21\u578b dict \u6570\u636e,\u4f7f\u7528\u5b57\u6bb5\u522b\u540d\u5e76\u4e14\u6392\u9664 None .","title":"amisDict"},{"location":"amis/types/#update_from_dict","text":"\u901a\u8fc7 dict \u66f4\u65b0\u6a21\u578b\u6570\u636e.","title":"update_from_dict"},{"location":"amis/types/#update_from_kwargs","text":"\u901a\u8fc7 kwargs \u53c2\u6570\u5217\u8868\u66f4\u65b0\u6a21\u578b\u6570\u636e.","title":"update_from_kwargs"},{"location":"amis/types/#amisnode","text":"\u53c2\u8003: SchemaNode","title":"AmisNode"},{"location":"amis/types/#amisapi","text":"\u53c2\u8003: API","title":"AmisAPI"},{"location":"amis/types/#page","text":"\u53c2\u8003: Page \u9875\u9762","title":"Page"},{"location":"amis/types/#app","text":"\u53c2\u8003: App \u591a\u9875\u5e94\u7528","title":"App"},{"location":"amis/types/#pageschema","text":"\u53c2\u8003: App \u591a\u9875\u5e94\u7528","title":"PageSchema"},{"location":"amis/types/#action","text":"\u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae","title":"Action"},{"location":"amis/types/#form","text":"\u53c2\u8003: Form \u8868\u5355","title":"Form"},{"location":"amis/types/#formitem","text":"\u53c2\u8003: FormItem \u666e\u901a\u8868\u5355\u9879","title":"FormItem"},{"location":"amis/types/#tablecrud","text":"\u53c2\u8003: CRUD \u589e\u5220\u6539\u67e5 , Table \u8868\u683c","title":"TableCRUD"},{"location":"amis/types/#tablecolumn","text":"\u53c2\u8003: Table \u8868\u683c","title":"TableColumn"},{"location":"amis/types/#components","text":"\u53c2\u8003: \u7ec4\u4ef6\u4ecb\u7ecd","title":"components"},{"location":"amis/types/#_3","text":"\u53c2\u8003: Amis\u5b98\u65b9\u6587\u6863","title":"\u66f4\u591a"},{"location":"amis_admin/AdminApp/","text":"AdminApp \u00b6 \u7ba1\u7406\u5e94\u7528 \u7ee7\u627f\u57fa\u7c7b \u00b6 PageAdmin \u00b6 \u5b57\u6bb5 \u00b6 engine \u00b6 \u5f53\u524d\u5e94\u7528 sqlalchemy \u6570\u636e\u5e93\u5f02\u6b65\u5f15\u64ce. \u53c2\u8003: Asynchronous I/O (asyncio) \u2014 SQLAlchemy 1.4 Documentation \u793a\u4f8b: from sqlalchemy.ext.asyncio import create_async_engine engine = create_async_engine ( \"sqlite+aiosqlite:///admisadmin.db\" , future = True ) # engine = create_async_engine(\"mysql+aiomysql://amisadmin:amisadmin@127.0.0.1:3306/amisadmin?charset=utf8mb4\", future=True) # engine = create_async_engine(\"postgresql+asyncpg://user:pass@host/dbname\", future=True) db \u00b6 \u5f53\u524d\u5e94\u7528 sqlalchemy \u5f02\u6b65\u5ba2\u6237\u7aef, \u5373 SqlalchemyAsyncClient \u5bf9\u8c61. \u53c2\u8003: SqlalchemyAsyncClient route_index \u00b6 \u5f53\u524d\u5e94\u7528\u4e3b\u9875\u8def\u7531. site \u00b6 \u5f53\u524d\u5e94\u7528\u6240\u5c5e\u7ad9\u70b9. \u65b9\u6cd5 \u00b6 create_admin_instance \u00b6 \u521b\u5efa\u5e76\u8fd4\u56de\u7ba1\u7406\u7c7b\u5bf9\u8c61\u5b9e\u4f8b. def create_admin_instance ( self , admin_cls : Type [ _BaseAdminT ]) -> _BaseAdminT create_admin_instance_all \u00b6 \u521b\u5efa\u5f53\u524d\u5e94\u7528\u5168\u90e8\u7ba1\u7406\u7c7b\u5bf9\u8c61\u5b9e\u4f8b def create_admin_instance_all ( self ) -> None get_model_admin \u00b6 \u83b7\u53d6\u5f53\u524d\u5e94\u7528\u6570\u636e\u5e93\u8868\u5bf9\u5e94\u7684\u6a21\u578b\u7ba1\u7406\u5bf9\u8c61\u5b9e\u4f8b. \u5fc5\u987b\u8bbe\u7f6e: ModelAdmin.bind_model=True @lru_cache def get_model_admin ( self , table_name : str ) -> Optional [ ModelAdmin ] register_admin \u00b6 \u6ce8\u518c\u4e00\u4e2a\u6216\u591a\u4e2aBaseAdmin\u7ba1\u7406\u7c7b\u5230\u5f53\u524d\u5e94\u7528\u5bf9\u8c61, \u5e76\u4e14\u8fd4\u56de\u7b2c\u4e00\u4e2a\u7c7b\u5bf9\u8c61. def register_admin ( self , * admin_cls : Type [ _BaseAdminT ]) -> Type [ _BaseAdminT ] unregister_admin \u00b6 \u53d6\u6d88\u6ce8\u518c\u5f53\u524d\u5e94\u7528\u5bf9\u8c61\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2aBaseAdmin\u7ba1\u7406\u7c7b. def unregister_admin ( self , * admin_cls : Type [ BaseAdmin ]) get_page \u00b6 \u8fd4\u56de\u5f53\u524d\u5e94\u7528\u9875\u9762amis App \u5bf9\u8c61. \u53c2\u8003: App \u591a\u9875\u5e94\u7528 async def get_page ( self , request : Request ) -> App get_page_schema_children \u00b6 \u8fd4\u56de\u5f53\u524d\u5e94\u7528\u5bfc\u822a\u9875\u9762\u5c5e\u6027\u5217\u8868. \u53c2\u8003: App \u591a\u9875\u5e94\u7528#\u5c5e\u6027\u8bf4\u660e async def get_page_schema_children ( self , request : Request ) -> List [ PageSchema ]","title":"AdminApp"},{"location":"amis_admin/AdminApp/#adminapp","text":"\u7ba1\u7406\u5e94\u7528","title":"AdminApp"},{"location":"amis_admin/AdminApp/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/AdminApp/#pageadmin","text":"","title":"PageAdmin"},{"location":"amis_admin/AdminApp/#_2","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/AdminApp/#engine","text":"\u5f53\u524d\u5e94\u7528 sqlalchemy \u6570\u636e\u5e93\u5f02\u6b65\u5f15\u64ce. \u53c2\u8003: Asynchronous I/O (asyncio) \u2014 SQLAlchemy 1.4 Documentation \u793a\u4f8b: from sqlalchemy.ext.asyncio import create_async_engine engine = create_async_engine ( \"sqlite+aiosqlite:///admisadmin.db\" , future = True ) # engine = create_async_engine(\"mysql+aiomysql://amisadmin:amisadmin@127.0.0.1:3306/amisadmin?charset=utf8mb4\", future=True) # engine = create_async_engine(\"postgresql+asyncpg://user:pass@host/dbname\", future=True)","title":"engine"},{"location":"amis_admin/AdminApp/#db","text":"\u5f53\u524d\u5e94\u7528 sqlalchemy \u5f02\u6b65\u5ba2\u6237\u7aef, \u5373 SqlalchemyAsyncClient \u5bf9\u8c61. \u53c2\u8003: SqlalchemyAsyncClient","title":"db"},{"location":"amis_admin/AdminApp/#route_index","text":"\u5f53\u524d\u5e94\u7528\u4e3b\u9875\u8def\u7531.","title":"route_index"},{"location":"amis_admin/AdminApp/#site","text":"\u5f53\u524d\u5e94\u7528\u6240\u5c5e\u7ad9\u70b9.","title":"site"},{"location":"amis_admin/AdminApp/#_3","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/AdminApp/#create_admin_instance","text":"\u521b\u5efa\u5e76\u8fd4\u56de\u7ba1\u7406\u7c7b\u5bf9\u8c61\u5b9e\u4f8b. def create_admin_instance ( self , admin_cls : Type [ _BaseAdminT ]) -> _BaseAdminT","title":"create_admin_instance"},{"location":"amis_admin/AdminApp/#create_admin_instance_all","text":"\u521b\u5efa\u5f53\u524d\u5e94\u7528\u5168\u90e8\u7ba1\u7406\u7c7b\u5bf9\u8c61\u5b9e\u4f8b def create_admin_instance_all ( self ) -> None","title":"create_admin_instance_all"},{"location":"amis_admin/AdminApp/#get_model_admin","text":"\u83b7\u53d6\u5f53\u524d\u5e94\u7528\u6570\u636e\u5e93\u8868\u5bf9\u5e94\u7684\u6a21\u578b\u7ba1\u7406\u5bf9\u8c61\u5b9e\u4f8b. \u5fc5\u987b\u8bbe\u7f6e: ModelAdmin.bind_model=True @lru_cache def get_model_admin ( self , table_name : str ) -> Optional [ ModelAdmin ]","title":"get_model_admin"},{"location":"amis_admin/AdminApp/#register_admin","text":"\u6ce8\u518c\u4e00\u4e2a\u6216\u591a\u4e2aBaseAdmin\u7ba1\u7406\u7c7b\u5230\u5f53\u524d\u5e94\u7528\u5bf9\u8c61, \u5e76\u4e14\u8fd4\u56de\u7b2c\u4e00\u4e2a\u7c7b\u5bf9\u8c61. def register_admin ( self , * admin_cls : Type [ _BaseAdminT ]) -> Type [ _BaseAdminT ]","title":"register_admin"},{"location":"amis_admin/AdminApp/#unregister_admin","text":"\u53d6\u6d88\u6ce8\u518c\u5f53\u524d\u5e94\u7528\u5bf9\u8c61\u4e2d\u4e00\u4e2a\u6216\u591a\u4e2aBaseAdmin\u7ba1\u7406\u7c7b. def unregister_admin ( self , * admin_cls : Type [ BaseAdmin ])","title":"unregister_admin"},{"location":"amis_admin/AdminApp/#get_page","text":"\u8fd4\u56de\u5f53\u524d\u5e94\u7528\u9875\u9762amis App \u5bf9\u8c61. \u53c2\u8003: App \u591a\u9875\u5e94\u7528 async def get_page ( self , request : Request ) -> App","title":"get_page"},{"location":"amis_admin/AdminApp/#get_page_schema_children","text":"\u8fd4\u56de\u5f53\u524d\u5e94\u7528\u5bfc\u822a\u9875\u9762\u5c5e\u6027\u5217\u8868. \u53c2\u8003: App \u591a\u9875\u5e94\u7528#\u5c5e\u6027\u8bf4\u660e async def get_page_schema_children ( self , request : Request ) -> List [ PageSchema ]","title":"get_page_schema_children"},{"location":"amis_admin/AdminSite/","text":"BaseAdminSite \u00b6 \u7ba1\u7406\u7ad9\u70b9\u57fa\u7c7b \u7ee7\u627f\u57fa\u7c7b \u00b6 AdminApp \u00b6 \u5b57\u6bb5 \u00b6 settings \u00b6 \u5f53\u524d\u7ba1\u7406\u7ad9\u70b9\u914d\u7f6e\u8bbe\u7f6e Settings \u5bf9\u8c61. \u53c2\u8003: Settings fastapi \u00b6 \u5f53\u524d\u7ba1\u7406\u7ad9\u70b9\u6240\u6302\u8f7d\u7684FastAPI\u5bf9\u8c61. \u53c2\u8003: https://fastapi.tiangolo.com/ \u65b9\u6cd5 \u00b6 __init__ \u00b6 \u7ba1\u7406\u7ad9\u70b9\u521d\u59cb\u5316. settings : \u7ba1\u7406\u7ad9\u70b9\u57fa\u672c\u914d\u7f6e fastapi : \u7ba1\u7406\u7ad9\u70b9FastAPI\u5e94\u7528 engine : \u7ba1\u7406\u7ad9\u70b9\u9ed8\u8ba4\u6570\u636e\u5e93\u5f15\u64ce. def __init__ ( self , settings : Settings , fastapi : FastAPI = None , engine : AsyncEngine = None ) mount_app \u00b6 \u5c06\u5f53\u524d\u7ba1\u7406\u7ad9\u70b9\u6302\u8f7d\u5230FastAPI\u5b9e\u4f8b. def mount_app ( self , fastapi : FastAPI , name : str = None ) -> None create_db_and_tables \u00b6 \u521b\u5efaSQLModel\u6570\u636e\u4ee5\u53ca\u6570\u636e\u5e93\u8868. \u4e00\u822c\u5728\u9879\u76ee\u7b2c\u4e00\u6b21\u521d\u59cb\u5316\u672a\u521b\u5efa\u6570\u636e\u5e93\u8868\u65f6, \u8c03\u7528\u4e00\u6b21\u5373\u53ef. \u793a\u4f8b: import asyncio asyncio . run ( site . create_db_and_tables ()) AdminSite \u00b6 \u7ba1\u7406\u7ad9\u70b9 \u7ba1\u7406\u7ad9\u70b9\u76f8\u5bf9\u4e8e\u57fa\u7840\u7ad9\u70b9\u9ed8\u8ba4\u6ce8\u518c\u4e86\u51e0\u4e2a\u7ba1\u7406\u7c7b: HomeAdmin, DocsAdmin, ReDocsAdmin, FileAdmin \u7ee7\u627f\u57fa\u7c7b \u00b6 BaseAdminSite \u00b6","title":"AdminSite"},{"location":"amis_admin/AdminSite/#baseadminsite","text":"\u7ba1\u7406\u7ad9\u70b9\u57fa\u7c7b","title":"BaseAdminSite"},{"location":"amis_admin/AdminSite/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/AdminSite/#adminapp","text":"","title":"AdminApp"},{"location":"amis_admin/AdminSite/#_2","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/AdminSite/#settings","text":"\u5f53\u524d\u7ba1\u7406\u7ad9\u70b9\u914d\u7f6e\u8bbe\u7f6e Settings \u5bf9\u8c61. \u53c2\u8003: Settings","title":"settings"},{"location":"amis_admin/AdminSite/#fastapi","text":"\u5f53\u524d\u7ba1\u7406\u7ad9\u70b9\u6240\u6302\u8f7d\u7684FastAPI\u5bf9\u8c61. \u53c2\u8003: https://fastapi.tiangolo.com/","title":"fastapi"},{"location":"amis_admin/AdminSite/#_3","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/AdminSite/#__init__","text":"\u7ba1\u7406\u7ad9\u70b9\u521d\u59cb\u5316. settings : \u7ba1\u7406\u7ad9\u70b9\u57fa\u672c\u914d\u7f6e fastapi : \u7ba1\u7406\u7ad9\u70b9FastAPI\u5e94\u7528 engine : \u7ba1\u7406\u7ad9\u70b9\u9ed8\u8ba4\u6570\u636e\u5e93\u5f15\u64ce. def __init__ ( self , settings : Settings , fastapi : FastAPI = None , engine : AsyncEngine = None )","title":"__init__"},{"location":"amis_admin/AdminSite/#mount_app","text":"\u5c06\u5f53\u524d\u7ba1\u7406\u7ad9\u70b9\u6302\u8f7d\u5230FastAPI\u5b9e\u4f8b. def mount_app ( self , fastapi : FastAPI , name : str = None ) -> None","title":"mount_app"},{"location":"amis_admin/AdminSite/#create_db_and_tables","text":"\u521b\u5efaSQLModel\u6570\u636e\u4ee5\u53ca\u6570\u636e\u5e93\u8868. \u4e00\u822c\u5728\u9879\u76ee\u7b2c\u4e00\u6b21\u521d\u59cb\u5316\u672a\u521b\u5efa\u6570\u636e\u5e93\u8868\u65f6, \u8c03\u7528\u4e00\u6b21\u5373\u53ef. \u793a\u4f8b: import asyncio asyncio . run ( site . create_db_and_tables ())","title":"create_db_and_tables"},{"location":"amis_admin/AdminSite/#adminsite","text":"\u7ba1\u7406\u7ad9\u70b9 \u7ba1\u7406\u7ad9\u70b9\u76f8\u5bf9\u4e8e\u57fa\u7840\u7ad9\u70b9\u9ed8\u8ba4\u6ce8\u518c\u4e86\u51e0\u4e2a\u7ba1\u7406\u7c7b: HomeAdmin, DocsAdmin, ReDocsAdmin, FileAdmin","title":"AdminSite"},{"location":"amis_admin/AdminSite/#_4","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/AdminSite/#baseadminsite_1","text":"","title":"BaseAdminSite"},{"location":"amis_admin/BaseAdmin/","text":"BaseAdmin \u00b6 \u9875\u9762\u7ba1\u7406\u57fa\u7c7b \u5b57\u6bb5 \u00b6 app \u00b6 \u5f53\u524d\u7ba1\u7406\u5bf9\u8c61\u6ce8\u518c\u7684\u5e94\u7528(\u7ad9\u70b9) Admin ClassDiagram \u00b6 FastAPI-Amis-Admin \u6838\u5fc3\u7c7b\u56fe classDiagram %% admin class RouterMixin RouterMixin: +APIRouter router RouterAdmin --|> RouterMixin class BaseAdmin BaseAdmin: +AdminAPP app RouterAdmin --|> BaseAdmin PageSchemaAdmin --|> BaseAdmin PageSchemaAdmin: +PageSchema page_schema PageSchemaAdmin: +PageSchema group_schema LinkAdmin --|> PageSchemaAdmin IframeAdmin --|> PageSchemaAdmin IframeAdmin: +Iframe iframe PageAdmin --|> PageSchemaAdmin PageAdmin --|> RouterAdmin PageAdmin: +Page page BaseFormAdmin --|> PageAdmin BaseFormAdmin: +Form form BaseFormAdmin: +BaseModel schema FormAdmin --|> BaseFormAdmin TemplateAdmin --|> PageAdmin TemplateAdmin: +Jinja2Templates templates %% model ModelFormAdmin --|> FormAdmin ModelFormAdmin --|> SQLModelSelector ModelAction --|> BaseFormAdmin ModelAction --|> BaseModelAction ModelAction: +ModelAdmin admin ModelAction: +Action action class SQLModelSelector SQLModelSelector: +SQLModel model BaseCrud --|> RouterMixin SQLModelCrud ..|> BaseCrud SQLModelCrud --|> SQLModelSelector BaseModelAdmin --|> SQLModelCrud ModelAdmin --|> BaseModelAdmin ModelAdmin --|> PageAdmin %% app AdminAPP --|> RouterMixin AdminAPP --|> PageAdmin AdminAPP: +SqlalchemyAsyncClient db AdminAPP: +AdminSite site AdminSite --|> AdminAPP AdminSite: +FastAPI fastapi AdminSite: +Settings settings Admin & Amis \u00b6 fastapi-amis-admin\u7c7b\u4e0eamis\u7ec4\u4ef6\u7c7b\u5173\u7cfb\u56fe classDiagram AdminSite --> App App --|> AmisNode App *-- PageSchema PageSchema --|> AmisNode PageSchema *-- PageSchema Page --|> AmisNode PageAdmin --> Page Form --|> AmisNode FormItem --|> AmisNode Form *-- FormItem FormAdmin --> Form Table --|> AmisNode CRUD --|> AmisNode TableCRUD --|> Table TableCRUD --|> CRUD Table *-- TableColumn TableColumn --|> AmisNode Action --|> AmisNode ModelAction --> Form ModelAction --> Action ModelAdmin --> TableCRUD ModelAdmin --> Action","title":"BaseAdmin"},{"location":"amis_admin/BaseAdmin/#baseadmin","text":"\u9875\u9762\u7ba1\u7406\u57fa\u7c7b","title":"BaseAdmin"},{"location":"amis_admin/BaseAdmin/#_1","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/BaseAdmin/#app","text":"\u5f53\u524d\u7ba1\u7406\u5bf9\u8c61\u6ce8\u518c\u7684\u5e94\u7528(\u7ad9\u70b9)","title":"app"},{"location":"amis_admin/BaseAdmin/#admin-classdiagram","text":"FastAPI-Amis-Admin \u6838\u5fc3\u7c7b\u56fe classDiagram %% admin class RouterMixin RouterMixin: +APIRouter router RouterAdmin --|> RouterMixin class BaseAdmin BaseAdmin: +AdminAPP app RouterAdmin --|> BaseAdmin PageSchemaAdmin --|> BaseAdmin PageSchemaAdmin: +PageSchema page_schema PageSchemaAdmin: +PageSchema group_schema LinkAdmin --|> PageSchemaAdmin IframeAdmin --|> PageSchemaAdmin IframeAdmin: +Iframe iframe PageAdmin --|> PageSchemaAdmin PageAdmin --|> RouterAdmin PageAdmin: +Page page BaseFormAdmin --|> PageAdmin BaseFormAdmin: +Form form BaseFormAdmin: +BaseModel schema FormAdmin --|> BaseFormAdmin TemplateAdmin --|> PageAdmin TemplateAdmin: +Jinja2Templates templates %% model ModelFormAdmin --|> FormAdmin ModelFormAdmin --|> SQLModelSelector ModelAction --|> BaseFormAdmin ModelAction --|> BaseModelAction ModelAction: +ModelAdmin admin ModelAction: +Action action class SQLModelSelector SQLModelSelector: +SQLModel model BaseCrud --|> RouterMixin SQLModelCrud ..|> BaseCrud SQLModelCrud --|> SQLModelSelector BaseModelAdmin --|> SQLModelCrud ModelAdmin --|> BaseModelAdmin ModelAdmin --|> PageAdmin %% app AdminAPP --|> RouterMixin AdminAPP --|> PageAdmin AdminAPP: +SqlalchemyAsyncClient db AdminAPP: +AdminSite site AdminSite --|> AdminAPP AdminSite: +FastAPI fastapi AdminSite: +Settings settings","title":"Admin ClassDiagram"},{"location":"amis_admin/BaseAdmin/#admin-amis","text":"fastapi-amis-admin\u7c7b\u4e0eamis\u7ec4\u4ef6\u7c7b\u5173\u7cfb\u56fe classDiagram AdminSite --> App App --|> AmisNode App *-- PageSchema PageSchema --|> AmisNode PageSchema *-- PageSchema Page --|> AmisNode PageAdmin --> Page Form --|> AmisNode FormItem --|> AmisNode Form *-- FormItem FormAdmin --> Form Table --|> AmisNode CRUD --|> AmisNode TableCRUD --|> Table TableCRUD --|> CRUD Table *-- TableColumn TableColumn --|> AmisNode Action --|> AmisNode ModelAction --> Form ModelAction --> Action ModelAdmin --> TableCRUD ModelAdmin --> Action","title":"Admin &amp; Amis"},{"location":"amis_admin/FormAdmin/","text":"BaseFormAdmin \u00b6 \u8868\u5355\u7ba1\u7406\u57fa\u7c7b \u7ee7\u627f\u57fa\u7c7b \u00b6 PageAdmin \u00b6 \u5b57\u6bb5 \u00b6 schema \u00b6 \u8868\u5355\u6570\u636e\u6a21\u578b,\u5fc5\u987b\u8bbe\u7f6e. schema_init_out \u00b6 \u8868\u5355\u521d\u59cb\u5316\u8fd4\u56de\u6570\u636e\u6a21\u578b schema_submit_out \u00b6 \u8868\u5355\u63d0\u4ea4\u8fd4\u56de\u6570\u636e\u6a21\u578b form \u00b6 \u5f53\u524d\u8868\u5355amis Form\u5bf9\u8c61. \u53c2\u8003: Form \u8868\u5355 form_path \u00b6 \u8868\u5355\u63d0\u4ea4\u548c\u521d\u59cb\u5316\u6570\u636e\u63a5\u53e3api\u8def\u7531\u8def\u5f84. form_init \u00b6 \u662f\u5426\u5f00\u542f\u8868\u5355\u6570\u636e\u521d\u59cb\u5316.\u9ed8\u8ba4: None ,\u4e0d\u5f00\u542f. route_init \u00b6 \u521d\u59cb\u5316\u8868\u5355\u8def\u7531 route_submit \u00b6 \u63d0\u4ea4\u8868\u5355\u8def\u7531 \u65b9\u6cd5 \u00b6 get_form \u00b6 \u83b7\u53d6\u5f53\u524d\u9875\u9762Form\u8868\u5355\u5bf9\u8c61. async def get_form ( self , request : Request ) -> Form get_form_item \u00b6 \u8fd4\u56de\u5f53\u524d\u9875\u9762\u8868\u5355\u5b57\u6bb5\u7684 amis FormItem \u5bf9\u8c61. \u53c2\u8003: FormItem \u666e\u901a\u8868\u5355\u9879 async def get_form_item ( self , request : Request , modelfield : ModelField ) -> Union [ FormItem , SchemaNode ] FormAdmin \u00b6 \u8868\u5355\u7ba1\u7406 \u7ee7\u627f\u57fa\u7c7b \u00b6 BaseFormAdmin \u00b6 \u65b9\u6cd5 \u00b6 handle \u00b6 \u5904\u7406\u9875\u9762\u8868\u5355\u63d0\u4ea4\u6570\u636e. request : \u5f53\u524d\u8bf7\u6c42\u5bf9\u8c61. data : \u7528\u6237\u63d0\u4ea4\u7684\u8868\u5355\u6570\u636e\u6a21\u578b schema \u5b9e\u4f8b\u5bf9\u8c61. async def handle ( self , request : Request , data : BaseModel , ** kwargs ) -> BaseApiOut [ Any ] get_init_data \u00b6 \u83b7\u53d6\u9875\u9762\u8868\u5355\u521d\u59cb\u5316\u6570\u636e. async def get_init_data ( self , request : Request , ** kwargs ) -> BaseApiOut [ Any ]","title":"FormAdmin"},{"location":"amis_admin/FormAdmin/#baseformadmin","text":"\u8868\u5355\u7ba1\u7406\u57fa\u7c7b","title":"BaseFormAdmin"},{"location":"amis_admin/FormAdmin/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/FormAdmin/#pageadmin","text":"","title":"PageAdmin"},{"location":"amis_admin/FormAdmin/#_2","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/FormAdmin/#schema","text":"\u8868\u5355\u6570\u636e\u6a21\u578b,\u5fc5\u987b\u8bbe\u7f6e.","title":"schema"},{"location":"amis_admin/FormAdmin/#schema_init_out","text":"\u8868\u5355\u521d\u59cb\u5316\u8fd4\u56de\u6570\u636e\u6a21\u578b","title":"schema_init_out"},{"location":"amis_admin/FormAdmin/#schema_submit_out","text":"\u8868\u5355\u63d0\u4ea4\u8fd4\u56de\u6570\u636e\u6a21\u578b","title":"schema_submit_out"},{"location":"amis_admin/FormAdmin/#form","text":"\u5f53\u524d\u8868\u5355amis Form\u5bf9\u8c61. \u53c2\u8003: Form \u8868\u5355","title":"form"},{"location":"amis_admin/FormAdmin/#form_path","text":"\u8868\u5355\u63d0\u4ea4\u548c\u521d\u59cb\u5316\u6570\u636e\u63a5\u53e3api\u8def\u7531\u8def\u5f84.","title":"form_path"},{"location":"amis_admin/FormAdmin/#form_init","text":"\u662f\u5426\u5f00\u542f\u8868\u5355\u6570\u636e\u521d\u59cb\u5316.\u9ed8\u8ba4: None ,\u4e0d\u5f00\u542f.","title":"form_init"},{"location":"amis_admin/FormAdmin/#route_init","text":"\u521d\u59cb\u5316\u8868\u5355\u8def\u7531","title":"route_init"},{"location":"amis_admin/FormAdmin/#route_submit","text":"\u63d0\u4ea4\u8868\u5355\u8def\u7531","title":"route_submit"},{"location":"amis_admin/FormAdmin/#_3","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/FormAdmin/#get_form","text":"\u83b7\u53d6\u5f53\u524d\u9875\u9762Form\u8868\u5355\u5bf9\u8c61. async def get_form ( self , request : Request ) -> Form","title":"get_form"},{"location":"amis_admin/FormAdmin/#get_form_item","text":"\u8fd4\u56de\u5f53\u524d\u9875\u9762\u8868\u5355\u5b57\u6bb5\u7684 amis FormItem \u5bf9\u8c61. \u53c2\u8003: FormItem \u666e\u901a\u8868\u5355\u9879 async def get_form_item ( self , request : Request , modelfield : ModelField ) -> Union [ FormItem , SchemaNode ]","title":"get_form_item"},{"location":"amis_admin/FormAdmin/#formadmin","text":"\u8868\u5355\u7ba1\u7406","title":"FormAdmin"},{"location":"amis_admin/FormAdmin/#_4","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/FormAdmin/#baseformadmin_1","text":"","title":"BaseFormAdmin"},{"location":"amis_admin/FormAdmin/#_5","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/FormAdmin/#handle","text":"\u5904\u7406\u9875\u9762\u8868\u5355\u63d0\u4ea4\u6570\u636e. request : \u5f53\u524d\u8bf7\u6c42\u5bf9\u8c61. data : \u7528\u6237\u63d0\u4ea4\u7684\u8868\u5355\u6570\u636e\u6a21\u578b schema \u5b9e\u4f8b\u5bf9\u8c61. async def handle ( self , request : Request , data : BaseModel , ** kwargs ) -> BaseApiOut [ Any ]","title":"handle"},{"location":"amis_admin/FormAdmin/#get_init_data","text":"\u83b7\u53d6\u9875\u9762\u8868\u5355\u521d\u59cb\u5316\u6570\u636e. async def get_init_data ( self , request : Request , ** kwargs ) -> BaseApiOut [ Any ]","title":"get_init_data"},{"location":"amis_admin/ModelAction/","text":"BaseModelAction \u00b6 \u6a21\u578b\u7ba1\u7406\u52a8\u4f5c\u57fa\u7c7b \u5b57\u6bb5 \u00b6 admin \u00b6 \u5f53\u524d\u52a8\u4f5c\u6240\u5c5e\u6a21\u578b\u7ba1\u7406\u5bf9\u8c61. action \u00b6 \u5f53\u524d\u52a8\u4f5camis Action\u5bf9\u8c61. \u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae \u65b9\u6cd5 \u00b6 register_router \u00b6 \u6ce8\u518c\u52a8\u4f5c\u8def\u7531. fetch_item_scalars \u00b6 \u83b7\u53d6\u9009\u9879\u6570\u636e. async def fetch_item_scalars ( self , session : AsyncSession , item_id : List [ str ]) -> ScalarResult : result = await session . execute ( select ( self . admin . model ) . where ( self . admin . pk . in_ ( item_id ))) return result . scalars () ModelAction \u00b6 \u6a21\u578b\u7ba1\u7406\u52a8\u4f5c \u7ee7\u627f\u57fa\u7c7b \u00b6 BaseFormAdmin \u00b6 BaseModelAction \u00b6 \u5b57\u6bb5 \u00b6 schema \u00b6 \u8868\u5355\u6570\u636e\u6a21\u578b, \u53ef\u4ee5\u8bbe\u7f6e\u4e3a: None . \u65b9\u6cd5 \u00b6 get_action \u00b6 \u83b7\u53d6\u5f53\u524d\u52a8\u4f5camis Action\u5bf9\u8c61. async def get_action ( self , request : Request , ** kwargs ) -> Action handle \u00b6 \u5904\u7406\u6a21\u578b\u52a8\u4f5c\u6570\u636e. request : \u5f53\u524d\u8bf7\u6c42\u5bf9\u8c61. item_id : \u7528\u6237\u9009\u62e9\u7684\u6a21\u578b\u6570\u636e\u4e3b\u952e\u5217\u8868. data : \u5982\u679c\u914d\u7f6e\u4e86\u52a8\u4f5c\u8868\u5355\u6570\u636e\u6a21\u578b schema ,\u5219\u8868\u793a\u8868\u5355\u6570\u636e\u5bf9\u8c61.\u5426\u5219\u4e3a None session :\u5f53\u524d\u7ba1\u7406\u6a21\u578b\u6240\u5c5e\u6570\u636e\u5e93\u8fde\u63a5\u5f02\u6b65\u4f1a\u8bdd. async def handle ( self , request : Request , item_id : List [ str ], data : Optional [ BaseModel ], session : AsyncSession , ** kwargs ) -> BaseApiOut [ Any ]","title":"ModelAction"},{"location":"amis_admin/ModelAction/#basemodelaction","text":"\u6a21\u578b\u7ba1\u7406\u52a8\u4f5c\u57fa\u7c7b","title":"BaseModelAction"},{"location":"amis_admin/ModelAction/#_1","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/ModelAction/#admin","text":"\u5f53\u524d\u52a8\u4f5c\u6240\u5c5e\u6a21\u578b\u7ba1\u7406\u5bf9\u8c61.","title":"admin"},{"location":"amis_admin/ModelAction/#action","text":"\u5f53\u524d\u52a8\u4f5camis Action\u5bf9\u8c61. \u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae","title":"action"},{"location":"amis_admin/ModelAction/#_2","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/ModelAction/#register_router","text":"\u6ce8\u518c\u52a8\u4f5c\u8def\u7531.","title":"register_router"},{"location":"amis_admin/ModelAction/#fetch_item_scalars","text":"\u83b7\u53d6\u9009\u9879\u6570\u636e. async def fetch_item_scalars ( self , session : AsyncSession , item_id : List [ str ]) -> ScalarResult : result = await session . execute ( select ( self . admin . model ) . where ( self . admin . pk . in_ ( item_id ))) return result . scalars ()","title":"fetch_item_scalars"},{"location":"amis_admin/ModelAction/#modelaction","text":"\u6a21\u578b\u7ba1\u7406\u52a8\u4f5c","title":"ModelAction"},{"location":"amis_admin/ModelAction/#_3","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/ModelAction/#baseformadmin","text":"","title":"BaseFormAdmin"},{"location":"amis_admin/ModelAction/#basemodelaction_1","text":"","title":"BaseModelAction"},{"location":"amis_admin/ModelAction/#_4","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/ModelAction/#schema","text":"\u8868\u5355\u6570\u636e\u6a21\u578b, \u53ef\u4ee5\u8bbe\u7f6e\u4e3a: None .","title":"schema"},{"location":"amis_admin/ModelAction/#_5","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/ModelAction/#get_action","text":"\u83b7\u53d6\u5f53\u524d\u52a8\u4f5camis Action\u5bf9\u8c61. async def get_action ( self , request : Request , ** kwargs ) -> Action","title":"get_action"},{"location":"amis_admin/ModelAction/#handle","text":"\u5904\u7406\u6a21\u578b\u52a8\u4f5c\u6570\u636e. request : \u5f53\u524d\u8bf7\u6c42\u5bf9\u8c61. item_id : \u7528\u6237\u9009\u62e9\u7684\u6a21\u578b\u6570\u636e\u4e3b\u952e\u5217\u8868. data : \u5982\u679c\u914d\u7f6e\u4e86\u52a8\u4f5c\u8868\u5355\u6570\u636e\u6a21\u578b schema ,\u5219\u8868\u793a\u8868\u5355\u6570\u636e\u5bf9\u8c61.\u5426\u5219\u4e3a None session :\u5f53\u524d\u7ba1\u7406\u6a21\u578b\u6240\u5c5e\u6570\u636e\u5e93\u8fde\u63a5\u5f02\u6b65\u4f1a\u8bdd. async def handle ( self , request : Request , item_id : List [ str ], data : Optional [ BaseModel ], session : AsyncSession , ** kwargs ) -> BaseApiOut [ Any ]","title":"handle"},{"location":"amis_admin/ModelAdmin/","text":"BaseModelAdmin \u00b6 \u6a21\u578b\u7ba1\u7406\u57fa\u7c7b \u7ee7\u627f\u57fa\u7c7b \u00b6 SQLModelCrud \u00b6 \u5b57\u6bb5 \u00b6 list_display \u00b6 \u6279\u91cf\u67e5\u8be2\u9700\u8981\u663e\u793a\u7684\u5b57\u6bb5\u5217\u8868. - \u652f\u6301SQLModel\u6a21\u578b\u5b57\u6bb5, SQLModel\u6a21\u578b, \u5f53\u524d\u6a21\u578b\u6570\u636e\u5e93\u8868\u5b57\u6bb5\u540d - \u652f\u6301\u5f53\u524d\u6a21\u578b\u5b57\u6bb5,\u548c\u5176\u5b83\u6a21\u578b\u5b57\u6bb5. - \u652f\u6301amis\u7c7b\u578b: TableColumn \u9ed8\u8ba4: self.schema_list.__fields__.values() list_filter \u00b6 \u6279\u91cf\u67e5\u8be2\u8fc7\u6ee4\u8868\u5355\u7684\u5b57\u6bb5\u5217\u8868 \u9ed8\u8ba4: self.schema_filter.__fields__.values() list_per_page \u00b6 \u6279\u91cf\u67e5\u8be2\u6bcf\u9875\u7684\u6570\u636e\u91cf,\u9ed8\u8ba4\u4e3a: 15 search_fields \u00b6 \u8868\u683c\u4e2d\u652f\u6301\u6587\u672c\u6a21\u7cca\u641c\u7d22\u7684\u5b57\u6bb5\u5217\u8868,\u9ed8\u8ba4\u4e3a:[] bulk_edit_fields \u00b6 \u8868\u683c\u4e2d\u652f\u6301\u6279\u91cf\u7f16\u8f91\u7684\u5b57\u6bb5\u5217\u8868,\u9ed8\u8ba4\u4e3a:[] link_model_fields \u00b6 \u6279\u91cf\u67e5\u8be2\u9700\u8981\u94fe\u63a5\u7684\u591a\u5bf9\u591a\u5173\u8054\u7684\u5b57\u6bb5\u5217\u8868,\u9ed8\u8ba4\u4e3a: []. \u5373: \u9ed8\u8ba4\u4e0d\u8bc6\u522b\u5173\u8054\u5217\u8868\u5b57\u6bb5. link_model_forms \u00b6 \u6279\u91cf\u67e5\u8be2\u9700\u8981\u94fe\u63a5\u7684\u591a\u5bf9\u591a\u5173\u8054\u7684\u5b57\u6bb5\u8868\u5355\u5217\u8868,\u9ed8\u8ba4\u6839\u636e self.link_model_fields \u751f\u6210. \u65b9\u6cd5 \u00b6 get_list_display \u00b6 \u8fd4\u56de\u8868\u683c\u5217\u8868\u663e\u793a\u7684\u5b57\u6bb5\u5217\u8868. async def get_list_display ( self , request : Request ) -> List [ Union [ SQLModelListField , TableCRUD . Column ]] get_list_filter \u00b6 \u8fd4\u56de\u8868\u683c\u5217\u8868\u67e5\u8be2\u8fc7\u6ee4\u7684\u5b57\u6bb5\u5217\u8868. async def get_list_filter ( self , request : Request ) -> List [ Union [ SQLModelListField , FormItem ]] get_list_column \u00b6 \u8fd4\u56de\u8868\u683c\u5217\u5b57\u6bb5\u7684 amis TableColumn \u5bf9\u8c61. \u53c2\u8003: Table \u8868\u683c async def get_list_column ( self , request : Request , modelfield : ModelField ) -> TableColumn get_list_columns \u00b6 \u8fd4\u56de\u8868\u683c\u5217\u5b57\u6bb5\u7684 amis TableColumn \u5bf9\u8c61\u5217\u8868. async def get_list_columns ( self , request : Request ) -> List [ TableCRUD . Column ] get_list_filter_api \u00b6 \u8fd4\u56de\u5217\u8868\u7b5b\u9009\u8fc7\u6ee4\u5668\u8868\u5355\u7684AmisAPI\u5bf9\u8c61. async def get_list_filter_api ( self , request : Request ) -> AmisAPI get_list_table \u00b6 \u8fd4\u56de\u9875\u9762\u7684 amis TableCRUD \u5bf9\u8c61. \u53c2\u8003: CRUD \u589e\u5220\u6539\u67e5 , Table \u8868\u683c async def get_list_table ( self , request : Request ) -> TableCRUD get_form_item \u00b6 \u8fd4\u56de\u9875\u9762\u8868\u5355\u5b57\u6bb5\u7684 amis FormItem \u5bf9\u8c61. \u53c2\u8003: FormItem \u666e\u901a\u8868\u5355\u9879 (gitee.io) async def get_form_item ( self , request : Request , modelfield : ModelField , action : CrudEnum ) -> Union [ FormItem , SchemaNode ] get_form_item_on_foreign_key \u00b6 \u8fd4\u56de\u9875\u9762\u8868\u5355 foreign_key \u5b57\u6bb5\u7684 amis FormItem \u5bf9\u8c61. async def get_form_item_on_foreign_key ( self , modelfield : ModelField ) -> Union [ Service , SchemaNode ] get_link_model_forms \u00b6 \u8fd4\u56de\u591a\u5bf9\u591a\u5173\u8054\u7684\u5b57\u6bb5\u8868\u5355\u5217\u8868. def get_link_model_forms ( self ) -> List [ LinkModelForm ] get_list_filter_form \u00b6 \u8fd4\u56de\u5217\u8868\u7b5b\u9009\u8fc7\u6ee4\u5668\u8868\u5355. async def get_list_filter_form ( self , request : Request ) -> Form get_create_form \u00b6 \u8fd4\u56de\u65b0\u589e\u6a21\u578b\u6570\u636e\u8868\u5355. async def get_create_form ( self , request : Request , bulk : bool = False ) -> Form get_update_form \u00b6 \u8fd4\u56de\u66f4\u65b0\u6a21\u578b\u6570\u636e\u8868\u5355. async def get_update_form ( self , request : Request , bulk : bool = False ) -> Form get_create_action \u00b6 \u8fd4\u56de\u65b0\u589e\u6a21\u578b\u6570\u636e\u6267\u884c\u52a8\u4f5c amis Action \u5bf9\u8c61. \u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae async def get_create_action ( self , request : Request , bulk : bool = False ) -> Optional [ Action ] get_update_action \u00b6 \u8fd4\u56de\u66f4\u65b0\u6a21\u578b\u6570\u636e\u6267\u884c\u52a8\u4f5c amis Action \u5bf9\u8c61. \u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae async def get_update_action ( self , request : Request , bulk : bool = False ) -> Optional [ Action ] get_delete_action \u00b6 \u8fd4\u56de\u5220\u9664\u6a21\u578b\u6570\u636e\u6267\u884c\u52a8\u4f5c amis Action \u5bf9\u8c61. \u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae async def get_delete_action ( self , request : Request , bulk : bool = False ) -> Optional [ Action ] get_actions_on_header_toolbar \u00b6 \u8fd4\u56de\u5217\u8868\u8868\u683c\u9876\u90e8\u5de5\u5177\u6761\u6267\u884c\u52a8\u4f5c\u5217\u8868. async def get_actions_on_header_toolbar ( self , request : Request ) -> List [ Action ] get_actions_on_item \u00b6 \u8fd4\u56de\u5217\u8868\u8868\u683c\u6570\u636e\u5355\u9879\u64cd\u4f5c\u6267\u884c\u52a8\u4f5c\u5217\u8868. async def get_actions_on_item ( self , request : Request ) -> List [ Action ] get_actions_on_bulk \u00b6 \u8fd4\u56de\u5217\u8868\u8868\u683c\u6570\u636e\u6279\u91cf\u64cd\u4f5c\u6267\u884c\u52a8\u4f5c\u5217\u8868. async def get_actions_on_bulk ( self , request : Request ) -> List [ Action ] ModelAdmin \u00b6 \u6a21\u578b\u7ba1\u7406 \u7ee7\u627f\u57fa\u7c7b \u00b6 PageAdmin \u00b6 BaseModelAdmin \u00b6 \u5b57\u6bb5 \u00b6 bind_model \u00b6 \u662f\u5426\u5c06\u6a21\u578b\u7ba1\u7406\u9875\u9762\u7ed1\u5b9a\u5230\u6a21\u578b, \u9ed8\u8ba4: True \u5982\u679c\u8bbe\u7f6e\u6210 True ,\u5219\u53ef\u4ee5\u901a\u8fc7 AdminSite.get_model_admin \u83b7\u53d6. \u5728\u5b58\u5728\u5916\u952e\u5173\u8054\u7684\u6a21\u578b\u4e2d, \u9ed8\u8ba4\u7684 FormItem (TablePicker),\u5c06\u4f7f\u7528\u7ed1\u5b9a\u6a21\u578b\u76f8\u5bf9\u5e94\u7684\u7b2c\u4e00\u4e2a\u7ba1\u7406\u9875\u9762.","title":"ModelAdmin"},{"location":"amis_admin/ModelAdmin/#basemodeladmin","text":"\u6a21\u578b\u7ba1\u7406\u57fa\u7c7b","title":"BaseModelAdmin"},{"location":"amis_admin/ModelAdmin/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/ModelAdmin/#sqlmodelcrud","text":"","title":"SQLModelCrud"},{"location":"amis_admin/ModelAdmin/#_2","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/ModelAdmin/#list_display","text":"\u6279\u91cf\u67e5\u8be2\u9700\u8981\u663e\u793a\u7684\u5b57\u6bb5\u5217\u8868. - \u652f\u6301SQLModel\u6a21\u578b\u5b57\u6bb5, SQLModel\u6a21\u578b, \u5f53\u524d\u6a21\u578b\u6570\u636e\u5e93\u8868\u5b57\u6bb5\u540d - \u652f\u6301\u5f53\u524d\u6a21\u578b\u5b57\u6bb5,\u548c\u5176\u5b83\u6a21\u578b\u5b57\u6bb5. - \u652f\u6301amis\u7c7b\u578b: TableColumn \u9ed8\u8ba4: self.schema_list.__fields__.values()","title":"list_display"},{"location":"amis_admin/ModelAdmin/#list_filter","text":"\u6279\u91cf\u67e5\u8be2\u8fc7\u6ee4\u8868\u5355\u7684\u5b57\u6bb5\u5217\u8868 \u9ed8\u8ba4: self.schema_filter.__fields__.values()","title":"list_filter"},{"location":"amis_admin/ModelAdmin/#list_per_page","text":"\u6279\u91cf\u67e5\u8be2\u6bcf\u9875\u7684\u6570\u636e\u91cf,\u9ed8\u8ba4\u4e3a: 15","title":"list_per_page"},{"location":"amis_admin/ModelAdmin/#search_fields","text":"\u8868\u683c\u4e2d\u652f\u6301\u6587\u672c\u6a21\u7cca\u641c\u7d22\u7684\u5b57\u6bb5\u5217\u8868,\u9ed8\u8ba4\u4e3a:[]","title":"search_fields"},{"location":"amis_admin/ModelAdmin/#bulk_edit_fields","text":"\u8868\u683c\u4e2d\u652f\u6301\u6279\u91cf\u7f16\u8f91\u7684\u5b57\u6bb5\u5217\u8868,\u9ed8\u8ba4\u4e3a:[]","title":"bulk_edit_fields"},{"location":"amis_admin/ModelAdmin/#link_model_fields","text":"\u6279\u91cf\u67e5\u8be2\u9700\u8981\u94fe\u63a5\u7684\u591a\u5bf9\u591a\u5173\u8054\u7684\u5b57\u6bb5\u5217\u8868,\u9ed8\u8ba4\u4e3a: []. \u5373: \u9ed8\u8ba4\u4e0d\u8bc6\u522b\u5173\u8054\u5217\u8868\u5b57\u6bb5.","title":"link_model_fields"},{"location":"amis_admin/ModelAdmin/#link_model_forms","text":"\u6279\u91cf\u67e5\u8be2\u9700\u8981\u94fe\u63a5\u7684\u591a\u5bf9\u591a\u5173\u8054\u7684\u5b57\u6bb5\u8868\u5355\u5217\u8868,\u9ed8\u8ba4\u6839\u636e self.link_model_fields \u751f\u6210.","title":"link_model_forms"},{"location":"amis_admin/ModelAdmin/#_3","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/ModelAdmin/#get_list_display","text":"\u8fd4\u56de\u8868\u683c\u5217\u8868\u663e\u793a\u7684\u5b57\u6bb5\u5217\u8868. async def get_list_display ( self , request : Request ) -> List [ Union [ SQLModelListField , TableCRUD . Column ]]","title":"get_list_display"},{"location":"amis_admin/ModelAdmin/#get_list_filter","text":"\u8fd4\u56de\u8868\u683c\u5217\u8868\u67e5\u8be2\u8fc7\u6ee4\u7684\u5b57\u6bb5\u5217\u8868. async def get_list_filter ( self , request : Request ) -> List [ Union [ SQLModelListField , FormItem ]]","title":"get_list_filter"},{"location":"amis_admin/ModelAdmin/#get_list_column","text":"\u8fd4\u56de\u8868\u683c\u5217\u5b57\u6bb5\u7684 amis TableColumn \u5bf9\u8c61. \u53c2\u8003: Table \u8868\u683c async def get_list_column ( self , request : Request , modelfield : ModelField ) -> TableColumn","title":"get_list_column"},{"location":"amis_admin/ModelAdmin/#get_list_columns","text":"\u8fd4\u56de\u8868\u683c\u5217\u5b57\u6bb5\u7684 amis TableColumn \u5bf9\u8c61\u5217\u8868. async def get_list_columns ( self , request : Request ) -> List [ TableCRUD . Column ]","title":"get_list_columns"},{"location":"amis_admin/ModelAdmin/#get_list_filter_api","text":"\u8fd4\u56de\u5217\u8868\u7b5b\u9009\u8fc7\u6ee4\u5668\u8868\u5355\u7684AmisAPI\u5bf9\u8c61. async def get_list_filter_api ( self , request : Request ) -> AmisAPI","title":"get_list_filter_api"},{"location":"amis_admin/ModelAdmin/#get_list_table","text":"\u8fd4\u56de\u9875\u9762\u7684 amis TableCRUD \u5bf9\u8c61. \u53c2\u8003: CRUD \u589e\u5220\u6539\u67e5 , Table \u8868\u683c async def get_list_table ( self , request : Request ) -> TableCRUD","title":"get_list_table"},{"location":"amis_admin/ModelAdmin/#get_form_item","text":"\u8fd4\u56de\u9875\u9762\u8868\u5355\u5b57\u6bb5\u7684 amis FormItem \u5bf9\u8c61. \u53c2\u8003: FormItem \u666e\u901a\u8868\u5355\u9879 (gitee.io) async def get_form_item ( self , request : Request , modelfield : ModelField , action : CrudEnum ) -> Union [ FormItem , SchemaNode ]","title":"get_form_item"},{"location":"amis_admin/ModelAdmin/#get_form_item_on_foreign_key","text":"\u8fd4\u56de\u9875\u9762\u8868\u5355 foreign_key \u5b57\u6bb5\u7684 amis FormItem \u5bf9\u8c61. async def get_form_item_on_foreign_key ( self , modelfield : ModelField ) -> Union [ Service , SchemaNode ]","title":"get_form_item_on_foreign_key"},{"location":"amis_admin/ModelAdmin/#get_link_model_forms","text":"\u8fd4\u56de\u591a\u5bf9\u591a\u5173\u8054\u7684\u5b57\u6bb5\u8868\u5355\u5217\u8868. def get_link_model_forms ( self ) -> List [ LinkModelForm ]","title":"get_link_model_forms"},{"location":"amis_admin/ModelAdmin/#get_list_filter_form","text":"\u8fd4\u56de\u5217\u8868\u7b5b\u9009\u8fc7\u6ee4\u5668\u8868\u5355. async def get_list_filter_form ( self , request : Request ) -> Form","title":"get_list_filter_form"},{"location":"amis_admin/ModelAdmin/#get_create_form","text":"\u8fd4\u56de\u65b0\u589e\u6a21\u578b\u6570\u636e\u8868\u5355. async def get_create_form ( self , request : Request , bulk : bool = False ) -> Form","title":"get_create_form"},{"location":"amis_admin/ModelAdmin/#get_update_form","text":"\u8fd4\u56de\u66f4\u65b0\u6a21\u578b\u6570\u636e\u8868\u5355. async def get_update_form ( self , request : Request , bulk : bool = False ) -> Form","title":"get_update_form"},{"location":"amis_admin/ModelAdmin/#get_create_action","text":"\u8fd4\u56de\u65b0\u589e\u6a21\u578b\u6570\u636e\u6267\u884c\u52a8\u4f5c amis Action \u5bf9\u8c61. \u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae async def get_create_action ( self , request : Request , bulk : bool = False ) -> Optional [ Action ]","title":"get_create_action"},{"location":"amis_admin/ModelAdmin/#get_update_action","text":"\u8fd4\u56de\u66f4\u65b0\u6a21\u578b\u6570\u636e\u6267\u884c\u52a8\u4f5c amis Action \u5bf9\u8c61. \u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae async def get_update_action ( self , request : Request , bulk : bool = False ) -> Optional [ Action ]","title":"get_update_action"},{"location":"amis_admin/ModelAdmin/#get_delete_action","text":"\u8fd4\u56de\u5220\u9664\u6a21\u578b\u6570\u636e\u6267\u884c\u52a8\u4f5c amis Action \u5bf9\u8c61. \u53c2\u8003: Action \u884c\u4e3a\u6309\u94ae async def get_delete_action ( self , request : Request , bulk : bool = False ) -> Optional [ Action ]","title":"get_delete_action"},{"location":"amis_admin/ModelAdmin/#get_actions_on_header_toolbar","text":"\u8fd4\u56de\u5217\u8868\u8868\u683c\u9876\u90e8\u5de5\u5177\u6761\u6267\u884c\u52a8\u4f5c\u5217\u8868. async def get_actions_on_header_toolbar ( self , request : Request ) -> List [ Action ]","title":"get_actions_on_header_toolbar"},{"location":"amis_admin/ModelAdmin/#get_actions_on_item","text":"\u8fd4\u56de\u5217\u8868\u8868\u683c\u6570\u636e\u5355\u9879\u64cd\u4f5c\u6267\u884c\u52a8\u4f5c\u5217\u8868. async def get_actions_on_item ( self , request : Request ) -> List [ Action ]","title":"get_actions_on_item"},{"location":"amis_admin/ModelAdmin/#get_actions_on_bulk","text":"\u8fd4\u56de\u5217\u8868\u8868\u683c\u6570\u636e\u6279\u91cf\u64cd\u4f5c\u6267\u884c\u52a8\u4f5c\u5217\u8868. async def get_actions_on_bulk ( self , request : Request ) -> List [ Action ]","title":"get_actions_on_bulk"},{"location":"amis_admin/ModelAdmin/#modeladmin","text":"\u6a21\u578b\u7ba1\u7406","title":"ModelAdmin"},{"location":"amis_admin/ModelAdmin/#_4","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/ModelAdmin/#pageadmin","text":"","title":"PageAdmin"},{"location":"amis_admin/ModelAdmin/#basemodeladmin_1","text":"","title":"BaseModelAdmin"},{"location":"amis_admin/ModelAdmin/#_5","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/ModelAdmin/#bind_model","text":"\u662f\u5426\u5c06\u6a21\u578b\u7ba1\u7406\u9875\u9762\u7ed1\u5b9a\u5230\u6a21\u578b, \u9ed8\u8ba4: True \u5982\u679c\u8bbe\u7f6e\u6210 True ,\u5219\u53ef\u4ee5\u901a\u8fc7 AdminSite.get_model_admin \u83b7\u53d6. \u5728\u5b58\u5728\u5916\u952e\u5173\u8054\u7684\u6a21\u578b\u4e2d, \u9ed8\u8ba4\u7684 FormItem (TablePicker),\u5c06\u4f7f\u7528\u7ed1\u5b9a\u6a21\u578b\u76f8\u5bf9\u5e94\u7684\u7b2c\u4e00\u4e2a\u7ba1\u7406\u9875\u9762.","title":"bind_model"},{"location":"amis_admin/PageAdmin/","text":"PageAdmin \u00b6 Amis\u9875\u9762\u7ba1\u7406 \u7ee7\u627f\u57fa\u7c7b \u00b6 PageSchemaAdmin \u00b6 RouterAdmin \u00b6 \u5b57\u6bb5 \u00b6 page \u00b6 Amis\u9875\u9762\u5c55\u793a\u4e3bPage\u5bf9\u8c61 \u53c2\u8003: Page \u9875\u9762 page_path \u00b6 \u9875\u9762\u8def\u5f84,\u9ed8\u8ba4\u4e3a: \u7c7b\u6a21\u5757\u540d+\u7c7b\u540d page_response_mode \u00b6 \u9875\u9762\u54cd\u5e94\u7c7b\u578b, \u9ed8\u8ba4: json - json : \u54cd\u5e94\u683c\u5f0f\u89e3\u6790\u4e3ajson. \u5373 page.amisDict() - html : \u54cd\u5e94\u683c\u5f0f\u89e3\u6790\u4e3aamis html. \u5373 page.amis_html() page_route_kwargs \u00b6 \u9875\u9762\u9644\u52a0\u53c2\u6570 template_name \u00b6 \u9875\u9762\u6e32\u67d3\u6a21\u677f\u540d\u79f0. route_page \u00b6 \u9875\u9762\u8def\u7531\u51fd\u6570 @property def route_page ( self ) -> Callable \u65b9\u6cd5 \u00b6 page_permission_depend \u00b6 \u5f53\u524d\u9875\u9762\u8def\u7531\u6743\u9650\u68c0\u6d4b\u4f9d\u8d56. async def page_permission_depend ( self , request : Request ) -> bool get_page \u00b6 \u83b7\u53d6amis\u9875\u9762Page\u5bf9\u8c61. async def get_page ( self , request : Request ) -> Page page_parser \u00b6 \u5c06Page\u5bf9\u8c61\u89e3\u6790\u4e3a\u54cd\u5e94\u6570\u636e. def page_parser ( self , request : Request , page : Page ) -> Response","title":"PageAdmin"},{"location":"amis_admin/PageAdmin/#pageadmin","text":"Amis\u9875\u9762\u7ba1\u7406","title":"PageAdmin"},{"location":"amis_admin/PageAdmin/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/PageAdmin/#pageschemaadmin","text":"","title":"PageSchemaAdmin"},{"location":"amis_admin/PageAdmin/#routeradmin","text":"","title":"RouterAdmin"},{"location":"amis_admin/PageAdmin/#_2","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/PageAdmin/#page","text":"Amis\u9875\u9762\u5c55\u793a\u4e3bPage\u5bf9\u8c61 \u53c2\u8003: Page \u9875\u9762","title":"page"},{"location":"amis_admin/PageAdmin/#page_path","text":"\u9875\u9762\u8def\u5f84,\u9ed8\u8ba4\u4e3a: \u7c7b\u6a21\u5757\u540d+\u7c7b\u540d","title":"page_path"},{"location":"amis_admin/PageAdmin/#page_response_mode","text":"\u9875\u9762\u54cd\u5e94\u7c7b\u578b, \u9ed8\u8ba4: json - json : \u54cd\u5e94\u683c\u5f0f\u89e3\u6790\u4e3ajson. \u5373 page.amisDict() - html : \u54cd\u5e94\u683c\u5f0f\u89e3\u6790\u4e3aamis html. \u5373 page.amis_html()","title":"page_response_mode"},{"location":"amis_admin/PageAdmin/#page_route_kwargs","text":"\u9875\u9762\u9644\u52a0\u53c2\u6570","title":"page_route_kwargs"},{"location":"amis_admin/PageAdmin/#template_name","text":"\u9875\u9762\u6e32\u67d3\u6a21\u677f\u540d\u79f0.","title":"template_name"},{"location":"amis_admin/PageAdmin/#route_page","text":"\u9875\u9762\u8def\u7531\u51fd\u6570 @property def route_page ( self ) -> Callable","title":"route_page"},{"location":"amis_admin/PageAdmin/#_3","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/PageAdmin/#page_permission_depend","text":"\u5f53\u524d\u9875\u9762\u8def\u7531\u6743\u9650\u68c0\u6d4b\u4f9d\u8d56. async def page_permission_depend ( self , request : Request ) -> bool","title":"page_permission_depend"},{"location":"amis_admin/PageAdmin/#get_page","text":"\u83b7\u53d6amis\u9875\u9762Page\u5bf9\u8c61. async def get_page ( self , request : Request ) -> Page","title":"get_page"},{"location":"amis_admin/PageAdmin/#page_parser","text":"\u5c06Page\u5bf9\u8c61\u89e3\u6790\u4e3a\u54cd\u5e94\u6570\u636e. def page_parser ( self , request : Request , page : Page ) -> Response","title":"page_parser"},{"location":"amis_admin/PageSchemaAdmin/","text":"PageSchemaAdmin \u00b6 \u5bfc\u822a\u9875\u9762\u7ba1\u7406\u57fa\u7c7b \u7ee7\u627f\u57fa\u7c7b \u00b6 BaseAdmin \u00b6 \u5b57\u6bb5 \u00b6 group_schema \u00b6 \u5f53\u524d\u9875\u9762\u83dc\u5355\u5bfc\u822a\u6240\u5728\u7ec4\u4fe1\u606f page_schema \u00b6 \u5f53\u524d\u9875\u9762\u83dc\u5355\u5bfc\u822a\u4fe1\u606f \u65b9\u6cd5 \u00b6 has_page_permission \u00b6 \u63a7\u5236\u7528\u6237\u662f\u5426\u62e5\u6709\u8bbf\u95ee\u5f53\u524d\u9875\u9762\u6743\u9650,\u9ed8\u8ba4\u8fd4\u56de: True async def has_page_permission ( self , request : Request ) -> bool : return True error_no_page_permission \u00b6 \u5f53\u524d\u9875\u9762\u65e0\u8bbf\u95ee\u6743\u9650\u9519\u8bef def error_no_page_permission ( self , request : Request ): raise HTTPException ( status_code = status . HTTP_401_UNAUTHORIZED , detail = 'No page permissions' ) get_page_schema \u00b6 \u8fd4\u56de\u5f53\u524d\u9875\u9762\u5bfc\u822a\u4fe1\u606f def get_page_schema ( self ) -> Optional [ PageSchema ] get_group_schema \u00b6 \u8fd4\u56de\u5f53\u524d\u9875\u9762\u5bfc\u822a\u6240\u5728\u7ec4\u4fe1\u606f def get_group_schema ( self ) -> Optional [ PageSchema ] LinkAdmin \u00b6 \u94fe\u63a5\u7ba1\u7406 \u7ee7\u627f\u57fa\u7c7b \u00b6 PageSchemaAdmin \u00b6 \u5b57\u6bb5 \u00b6 link \u00b6 \u8df3\u8f6c\u7684\u94fe\u63a5. IframeAdmin \u00b6 \u5185\u5d4c\u6846\u67b6\u7ba1\u7406 \u7ee7\u627f\u57fa\u7c7b \u00b6 PageSchemaAdmin \u00b6 \u5b57\u6bb5 \u00b6 src \u00b6 \u5185\u5d4c\u6846\u67b6\u94fe\u63a5. iframe \u00b6 \u5185\u5d4c\u6846\u67b6Amis Iframe\u5bf9\u8c61. \u53c2\u8003: iFrame","title":"PageSchemaAdmin"},{"location":"amis_admin/PageSchemaAdmin/#pageschemaadmin","text":"\u5bfc\u822a\u9875\u9762\u7ba1\u7406\u57fa\u7c7b","title":"PageSchemaAdmin"},{"location":"amis_admin/PageSchemaAdmin/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/PageSchemaAdmin/#baseadmin","text":"","title":"BaseAdmin"},{"location":"amis_admin/PageSchemaAdmin/#_2","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/PageSchemaAdmin/#group_schema","text":"\u5f53\u524d\u9875\u9762\u83dc\u5355\u5bfc\u822a\u6240\u5728\u7ec4\u4fe1\u606f","title":"group_schema"},{"location":"amis_admin/PageSchemaAdmin/#page_schema","text":"\u5f53\u524d\u9875\u9762\u83dc\u5355\u5bfc\u822a\u4fe1\u606f","title":"page_schema"},{"location":"amis_admin/PageSchemaAdmin/#_3","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/PageSchemaAdmin/#has_page_permission","text":"\u63a7\u5236\u7528\u6237\u662f\u5426\u62e5\u6709\u8bbf\u95ee\u5f53\u524d\u9875\u9762\u6743\u9650,\u9ed8\u8ba4\u8fd4\u56de: True async def has_page_permission ( self , request : Request ) -> bool : return True","title":"has_page_permission"},{"location":"amis_admin/PageSchemaAdmin/#error_no_page_permission","text":"\u5f53\u524d\u9875\u9762\u65e0\u8bbf\u95ee\u6743\u9650\u9519\u8bef def error_no_page_permission ( self , request : Request ): raise HTTPException ( status_code = status . HTTP_401_UNAUTHORIZED , detail = 'No page permissions' )","title":"error_no_page_permission"},{"location":"amis_admin/PageSchemaAdmin/#get_page_schema","text":"\u8fd4\u56de\u5f53\u524d\u9875\u9762\u5bfc\u822a\u4fe1\u606f def get_page_schema ( self ) -> Optional [ PageSchema ]","title":"get_page_schema"},{"location":"amis_admin/PageSchemaAdmin/#get_group_schema","text":"\u8fd4\u56de\u5f53\u524d\u9875\u9762\u5bfc\u822a\u6240\u5728\u7ec4\u4fe1\u606f def get_group_schema ( self ) -> Optional [ PageSchema ]","title":"get_group_schema"},{"location":"amis_admin/PageSchemaAdmin/#linkadmin","text":"\u94fe\u63a5\u7ba1\u7406","title":"LinkAdmin"},{"location":"amis_admin/PageSchemaAdmin/#_4","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/PageSchemaAdmin/#pageschemaadmin_1","text":"","title":"PageSchemaAdmin"},{"location":"amis_admin/PageSchemaAdmin/#_5","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/PageSchemaAdmin/#link","text":"\u8df3\u8f6c\u7684\u94fe\u63a5.","title":"link"},{"location":"amis_admin/PageSchemaAdmin/#iframeadmin","text":"\u5185\u5d4c\u6846\u67b6\u7ba1\u7406","title":"IframeAdmin"},{"location":"amis_admin/PageSchemaAdmin/#_6","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/PageSchemaAdmin/#pageschemaadmin_2","text":"","title":"PageSchemaAdmin"},{"location":"amis_admin/PageSchemaAdmin/#_7","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/PageSchemaAdmin/#src","text":"\u5185\u5d4c\u6846\u67b6\u94fe\u63a5.","title":"src"},{"location":"amis_admin/PageSchemaAdmin/#iframe","text":"\u5185\u5d4c\u6846\u67b6Amis Iframe\u5bf9\u8c61. \u53c2\u8003: iFrame","title":"iframe"},{"location":"amis_admin/RouterAdmin/","text":"RouterAdmin \u00b6 \u8def\u7531\u6ce8\u518c\u7ba1\u7406\u57fa\u7c7b \u7ee7\u627f\u57fa\u7c7b \u00b6 BaseAdmin \u00b6 RouterMixin \u00b6 \u6d3e\u751f\u5b50\u7c7b \u00b6 PageAdmin \u5b57\u6bb5 \u00b6 router_path \u00b6 \u5f53\u524d\u8def\u7531\u6ce8\u518c\u5668,\u57fa\u7840\u8def\u5f84 \u65b9\u6cd5 \u00b6 register_router \u00b6 \u6ce8\u518c\u9875\u9762\u8def\u7531.","title":"RouterAdmin"},{"location":"amis_admin/RouterAdmin/#routeradmin","text":"\u8def\u7531\u6ce8\u518c\u7ba1\u7406\u57fa\u7c7b","title":"RouterAdmin"},{"location":"amis_admin/RouterAdmin/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/RouterAdmin/#baseadmin","text":"","title":"BaseAdmin"},{"location":"amis_admin/RouterAdmin/#routermixin","text":"","title":"RouterMixin"},{"location":"amis_admin/RouterAdmin/#_2","text":"PageAdmin","title":"\u6d3e\u751f\u5b50\u7c7b"},{"location":"amis_admin/RouterAdmin/#_3","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/RouterAdmin/#router_path","text":"\u5f53\u524d\u8def\u7531\u6ce8\u518c\u5668,\u57fa\u7840\u8def\u5f84","title":"router_path"},{"location":"amis_admin/RouterAdmin/#_4","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/RouterAdmin/#register_router","text":"\u6ce8\u518c\u9875\u9762\u8def\u7531.","title":"register_router"},{"location":"amis_admin/Settings/","text":"Settings \u00b6 \u7ad9\u70b9\u8bbe\u7f6e \u7ee7\u627f\u57fa\u7c7b \u00b6 Pydantic BaseSettings \u00b6 \u5b57\u6bb5 \u00b6 debug \u00b6 \u662f\u5426\u5f00\u542f\u7ba1\u7406\u7ad9\u70b9\u8c03\u8bd5. site_url \u00b6 \u5f53\u524d\u7ba1\u7406\u7ad9\u70b9url root_path \u00b6 \u5f53\u524d\u7ba1\u7406\u7ad9\u70b9\u6302\u8f7d\u5728FastAPI\u5b9e\u4f8b\u4e0b\u7684\u8def\u5f84. database_url_async \u00b6 \u5f53\u524d\u7ba1\u7406\u7ad9\u70b9 sqlalchemy \u6570\u636e\u5e93\u5f15\u64ce\u8fde\u63a5url.","title":"Settings"},{"location":"amis_admin/Settings/#settings","text":"\u7ad9\u70b9\u8bbe\u7f6e","title":"Settings"},{"location":"amis_admin/Settings/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/Settings/#pydantic-basesettings","text":"","title":"Pydantic BaseSettings"},{"location":"amis_admin/Settings/#_2","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/Settings/#debug","text":"\u662f\u5426\u5f00\u542f\u7ba1\u7406\u7ad9\u70b9\u8c03\u8bd5.","title":"debug"},{"location":"amis_admin/Settings/#site_url","text":"\u5f53\u524d\u7ba1\u7406\u7ad9\u70b9url","title":"site_url"},{"location":"amis_admin/Settings/#root_path","text":"\u5f53\u524d\u7ba1\u7406\u7ad9\u70b9\u6302\u8f7d\u5728FastAPI\u5b9e\u4f8b\u4e0b\u7684\u8def\u5f84.","title":"root_path"},{"location":"amis_admin/Settings/#database_url_async","text":"\u5f53\u524d\u7ba1\u7406\u7ad9\u70b9 sqlalchemy \u6570\u636e\u5e93\u5f15\u64ce\u8fde\u63a5url.","title":"database_url_async"},{"location":"amis_admin/TemplateAdmin/","text":"TemplateAdmin \u00b6 Jinja2 \u6e32\u67d3\u6a21\u677f\u7ba1\u7406 \u53c2\u8003: Jinja \u7ee7\u627f\u57fa\u7c7b \u00b6 PageAdmin \u00b6 \u5b57\u6bb5 \u00b6 page \u00b6 \u5f53\u524d\u9875\u9762context\u4e0a\u4e0b\u6587\u5b57\u5178. templates \u00b6 Jinja2Templates \u6a21\u677f\u6e32\u67d3\u5668 \u65b9\u6cd5 \u00b6 get_page \u00b6 \u83b7\u53d6\u5f53\u524d\u9875\u9762context\u4e0a\u4e0b\u6587\u5b57\u5178. async def get_page ( self , request : Request ) -> Dict [ str , Any ] page_parser \u00b6 \u5c06page\u5b57\u5178\u89e3\u6790\u4e3a\u54cd\u5e94\u6570\u636e. def page_parser ( self , request : Request , page : Dict [ str , Any ]) -> Response : page . update ({ 'request' : request }) return self . templates . TemplateResponse ( self . template_name , page )","title":"TemplateAdmin"},{"location":"amis_admin/TemplateAdmin/#templateadmin","text":"Jinja2 \u6e32\u67d3\u6a21\u677f\u7ba1\u7406 \u53c2\u8003: Jinja","title":"TemplateAdmin"},{"location":"amis_admin/TemplateAdmin/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"amis_admin/TemplateAdmin/#pageadmin","text":"","title":"PageAdmin"},{"location":"amis_admin/TemplateAdmin/#_2","text":"","title":"\u5b57\u6bb5"},{"location":"amis_admin/TemplateAdmin/#page","text":"\u5f53\u524d\u9875\u9762context\u4e0a\u4e0b\u6587\u5b57\u5178.","title":"page"},{"location":"amis_admin/TemplateAdmin/#templates","text":"Jinja2Templates \u6a21\u677f\u6e32\u67d3\u5668","title":"templates"},{"location":"amis_admin/TemplateAdmin/#_3","text":"","title":"\u65b9\u6cd5"},{"location":"amis_admin/TemplateAdmin/#get_page","text":"\u83b7\u53d6\u5f53\u524d\u9875\u9762context\u4e0a\u4e0b\u6587\u5b57\u5178. async def get_page ( self , request : Request ) -> Dict [ str , Any ]","title":"get_page"},{"location":"amis_admin/TemplateAdmin/#page_parser","text":"\u5c06page\u5b57\u5178\u89e3\u6790\u4e3a\u54cd\u5e94\u6570\u636e. def page_parser ( self , request : Request , page : Dict [ str , Any ]) -> Response : page . update ({ 'request' : request }) return self . templates . TemplateResponse ( self . template_name , page )","title":"page_parser"},{"location":"extended/SQLModel/","text":"\u5b98\u7f51\u6587\u6863 \u00b6 SQLModel (tiangolo.com)","title":"SQLModel"},{"location":"extended/SQLModel/#_1","text":"SQLModel (tiangolo.com)","title":"\u5b98\u7f51\u6587\u6863"},{"location":"extended/about/","text":"\u5173\u4e8e\u62d3\u5c55\u6559\u7a0b \u00b6 \u672c\u90e8\u5206\u5185\u5bb9\u4e25\u683c\u4e0a\u5e76\u4e0d\u5c5e\u4e8e fastapi_amis_admin \u5f00\u53d1\u6559\u7a0b\u6587\u6863\u8303\u56f4, \u4f46\u662f\u901a\u8fc7\u9605\u8bfb\u4e86\u89e3\u672c\u90e8\u5206\u76f8\u5173\u5185\u5bb9\u77e5\u8bc6, \u5c06\u66f4\u52a0\u6709\u5229\u4e8e fastapi_amis_admin \u7684\u5f00\u53d1. Fastapi Amis SQLModel SQLAlchemy Pydantic Starlette Jinja2 Alembic Uvicorn","title":"\u5173\u4e8e\u62d3\u5c55\u6559\u7a0b"},{"location":"extended/about/#_1","text":"\u672c\u90e8\u5206\u5185\u5bb9\u4e25\u683c\u4e0a\u5e76\u4e0d\u5c5e\u4e8e fastapi_amis_admin \u5f00\u53d1\u6559\u7a0b\u6587\u6863\u8303\u56f4, \u4f46\u662f\u901a\u8fc7\u9605\u8bfb\u4e86\u89e3\u672c\u90e8\u5206\u76f8\u5173\u5185\u5bb9\u77e5\u8bc6, \u5c06\u66f4\u52a0\u6709\u5229\u4e8e fastapi_amis_admin \u7684\u5f00\u53d1. Fastapi Amis SQLModel SQLAlchemy Pydantic Starlette Jinja2 Alembic Uvicorn","title":"\u5173\u4e8e\u62d3\u5c55\u6559\u7a0b"},{"location":"extended/alembic/","text":"alembic \u6570\u636e\u5e93\u8fc1\u79fb \u00b6 \u521b\u5efa\u8fc1\u79fb\u6587\u4ef6\u5939 \u00b6 \u9879\u76ee\u7b2c\u4e00\u6b21\u8fd0\u884c, \u751f\u6210migrations\u6587\u4ef6\u5939 alembic init -t async migrations \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u00b6 env\u6587\u4ef6\u8def\u5f84: project/migrations/env.py # \u5bfc\u5165SQLModel from sqlmodel import SQLModel # \u5bfc\u5165\u6a21\u578b\u6570\u636e from app.models import * # \u8bbe\u7f6emetadata target_metadata = SQLModel . metadata ini\u6587\u4ef6\u8def\u5f84: project/alembic.ini # \u4fee\u6539\u6210\u9879\u76ee\u7684\u5f02\u6b65\u6570\u636e\u5e93\u8fde\u63a5 sqlalchemy.url = sqlite+aiosqlite:///admisadmin.db \u751f\u6210\u8fc1\u79fb\u6587\u4ef6 \u00b6 \u6267\u884c\u547d\u4ee4, \u751f\u6210sqlModel \u521d\u59cb\u5316\u8fc1\u79fb\u6587\u4ef6 alembic revision --autogenerate -m \"init\" \u66f4\u65b0\u6570\u636e\u5e93 \u00b6 - \u6267\u884c\u547d\u4ee4, \u66f4\u65b0\u6570\u636e\u5e93: alembic_version alembic upgrade head \u8fc1\u79fb \u00b6 \u4ee5\u4e0b\u547d\u4ee4\u5728\u6bcf\u6b21\u4fee\u6539\u5b8c\u6a21\u578b\u540e\u6267\u884c\u4e00\u6b21. - \u6267\u884c\u547d\u4ee4, \u751f\u6210sqlModel \u66f4\u65b0\u8fc1\u79fb\u6587\u4ef6 - \"add year\" \u4fee\u6539\u5907\u6ce8,\u6bcf\u6b21\u547d\u540d\u4e0d\u80fd\u91cd\u590d! alembic revision --autogenerate -m \"add year\" - \u6267\u884c\u547d\u4ee4, \u66f4\u65b0\u6570\u636e\u5e93: alembic_version alembic upgrade head \u53c2\u8003\u6587\u6863: \u00b6 FastAPI with Async SQLAlchemy, SQLModel, and Alembic | TestDriven.io Alembic 1.7.5 documentation","title":"alembic \u6570\u636e\u5e93\u8fc1\u79fb"},{"location":"extended/alembic/#alembic","text":"","title":"alembic \u6570\u636e\u5e93\u8fc1\u79fb"},{"location":"extended/alembic/#_1","text":"\u9879\u76ee\u7b2c\u4e00\u6b21\u8fd0\u884c, \u751f\u6210migrations\u6587\u4ef6\u5939 alembic init -t async migrations","title":"\u521b\u5efa\u8fc1\u79fb\u6587\u4ef6\u5939"},{"location":"extended/alembic/#_2","text":"env\u6587\u4ef6\u8def\u5f84: project/migrations/env.py # \u5bfc\u5165SQLModel from sqlmodel import SQLModel # \u5bfc\u5165\u6a21\u578b\u6570\u636e from app.models import * # \u8bbe\u7f6emetadata target_metadata = SQLModel . metadata ini\u6587\u4ef6\u8def\u5f84: project/alembic.ini # \u4fee\u6539\u6210\u9879\u76ee\u7684\u5f02\u6b65\u6570\u636e\u5e93\u8fde\u63a5 sqlalchemy.url = sqlite+aiosqlite:///admisadmin.db","title":"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"extended/alembic/#_3","text":"\u6267\u884c\u547d\u4ee4, \u751f\u6210sqlModel \u521d\u59cb\u5316\u8fc1\u79fb\u6587\u4ef6 alembic revision --autogenerate -m \"init\"","title":"\u751f\u6210\u8fc1\u79fb\u6587\u4ef6"},{"location":"extended/alembic/#_4","text":"- \u6267\u884c\u547d\u4ee4, \u66f4\u65b0\u6570\u636e\u5e93: alembic_version alembic upgrade head","title":"\u66f4\u65b0\u6570\u636e\u5e93"},{"location":"extended/alembic/#_5","text":"\u4ee5\u4e0b\u547d\u4ee4\u5728\u6bcf\u6b21\u4fee\u6539\u5b8c\u6a21\u578b\u540e\u6267\u884c\u4e00\u6b21. - \u6267\u884c\u547d\u4ee4, \u751f\u6210sqlModel \u66f4\u65b0\u8fc1\u79fb\u6587\u4ef6 - \"add year\" \u4fee\u6539\u5907\u6ce8,\u6bcf\u6b21\u547d\u540d\u4e0d\u80fd\u91cd\u590d! alembic revision --autogenerate -m \"add year\" - \u6267\u884c\u547d\u4ee4, \u66f4\u65b0\u6570\u636e\u5e93: alembic_version alembic upgrade head","title":"\u8fc1\u79fb"},{"location":"extended/alembic/#_6","text":"FastAPI with Async SQLAlchemy, SQLModel, and Alembic | TestDriven.io Alembic 1.7.5 documentation","title":"\u53c2\u8003\u6587\u6863:"},{"location":"fastapi_crud/BaseCrud/","text":"BaseCrud \u00b6 FastAPICrud\u8def\u7531\u6ce8\u518c\u5668\u57fa\u7c7b \u7ee7\u627f\u57fa\u7c7b \u00b6 RouterMixin \u00b6 \u6d3e\u751f\u5b50\u7c7b \u00b6 SQLModelCrud \u00b6 \u5176\u4ed6ORM\u540e\u7aef\u6682\u65f6\u672a\u652f\u6301, SQLModel\u5df2\u7ecf\u8db3\u591f\u5f3a\u5927... \u5b57\u6bb5 \u00b6 schema_model \u00b6 \u5f53\u524d\u6a21\u578b\u534f\u8bae schema_list \u00b6 \u6279\u91cf\u8bfb\u53d6,\u6570\u636e\u9879\u8fd4\u56de\u534f\u8bae, \u9ed8\u8ba4: self.schema_model schema_filter \u00b6 \u6279\u91cf\u8bfb\u53d6, \u8fc7\u6ee4\u6570\u636e\u63d0\u4ea4\u534f\u8bae, \u9ed8\u8ba4: self.schema_model schema_create \u00b6 \u521b\u5efa\u6570\u636e, \u63d0\u4ea4\u534f\u8bae, \u9ed8\u8ba4: self.schema_model schema_read \u00b6 \u8bfb\u53d6\u6570\u636e, \u8fd4\u56de\u534f\u8bae, \u9ed8\u8ba4: self.schema_model schema_update \u00b6 \u66f4\u65b0\u6570\u636e,\u63d0\u4ea4\u534f\u8bae, \u9ed8\u8ba4: self.schema_model pk_name \u00b6 \u5f53\u524d\u6a21\u578b\u4e3b\u952e\u5b57\u7b26\u4e32, \u9ed8\u8ba4: id . \u8bf4\u660e: \u6570\u636e\u5e93\u8868\u6709\u4e14\u53ea\u80fd\u6709\u4e00\u4e2a\u81ea\u589e\u52a0\u4e3b\u952e .(\u5f85\u62d3\u5c55) list_per_page_max \u00b6 \u6279\u91cf\u8bfb\u53d6\u6bcf\u9875\u6570\u636e\u6570\u91cf\u4e0a\u9650. \u9ed8\u8ba4: None, \u65e0\u9650\u5236. route_list \u00b6 \u6279\u91cf\u8bfb\u53d6\u8def\u7531\u51fd\u6570. \u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_list ( self ) -> Callable route_read \u00b6 \u5355\u9879/\u6279\u91cf\u8bfb\u53d6\u8def\u7531\u51fd\u6570.\u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_read ( self ) -> Callable route_create \u00b6 \u5355\u9879/\u6279\u91cf\u521b\u5efa\u8def\u7531\u51fd\u6570.\u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_create ( self ) -> Callable route_update \u00b6 \u5355\u9879/\u6279\u91cf\u66f4\u65b0\u8def\u7531\u51fd\u6570.\u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_update ( self ) -> Callable route_delete \u00b6 \u5355\u9879/\u6279\u91cf\u5220\u9664\u8def\u7531\u51fd\u6570.\u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_delete ( self ) -> Callable \u65b9\u6cd5: \u00b6 has_list_permission \u00b6 \u68c0\u67e5\u662f\u5426\u5177\u6709\u6279\u91cf\u67e5\u8be2\u6743\u9650. async def has_list_permission ( self , request : Request , paginator : Optional [ Paginator ], filter : Optional [ BaseModel ], ** kwargs ) -> bool has_read_permission \u00b6 \u68c0\u67e5\u662f\u5426\u5177\u6709\u5355\u9879\u67e5\u8be2\u6743\u9650. async def has_read_permission ( self , request : Request , item_id : Optional [ List [ str ]], ** kwargs ) -> bool has_create_permission \u00b6 \u68c0\u67e5\u662f\u5426\u5177\u6709\u521b\u5efa\u6570\u636e\u6743\u9650. async def has_create_permission ( self , request : Request , obj : Optional [ BaseModel ], ** kwargs ) -> bool has_update_permission \u00b6 \u68c0\u67e5\u662f\u5426\u5177\u6709\u66f4\u65b0\u6570\u636e\u6743\u9650. async def has_update_permission ( self , request : Request , item_id : Optional [ List [ str ]], obj : Optional [ BaseModel ], ** kwargs ) -> bool has_delete_permission \u00b6 \u68c0\u67e5\u662f\u5426\u5177\u6709\u5220\u9664\u6570\u636e\u67e5\u8be2\u6743\u9650. async def has_delete_permission ( self , request : Request , item_id : Optional [ List [ str ]], ** kwargs ) -> bool : return True register_crud \u00b6 \u6ce8\u518cCrud\u8def\u7531. def register_crud ( self , schema_list : Type [ BaseModel ] = None , schema_filter : Type [ BaseModel ] = None , schema_create : Type [ BaseModel ] = None , schema_read : Type [ BaseModel ] = None , schema_update : Type [ BaseModel ] = None , list_max_per_page : int = None , depends_list : List [ Depends ] = None , depends_read : List [ Depends ] = None , depends_create : List [ Depends ] = None , depends_update : List [ Depends ] = None , depends_delete : List [ Depends ] = None ) -> \"BaseCrud\"","title":"BaseCrud"},{"location":"fastapi_crud/BaseCrud/#basecrud","text":"FastAPICrud\u8def\u7531\u6ce8\u518c\u5668\u57fa\u7c7b","title":"BaseCrud"},{"location":"fastapi_crud/BaseCrud/#_1","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"fastapi_crud/BaseCrud/#routermixin","text":"","title":"RouterMixin"},{"location":"fastapi_crud/BaseCrud/#_2","text":"","title":"\u6d3e\u751f\u5b50\u7c7b"},{"location":"fastapi_crud/BaseCrud/#sqlmodelcrud","text":"\u5176\u4ed6ORM\u540e\u7aef\u6682\u65f6\u672a\u652f\u6301, SQLModel\u5df2\u7ecf\u8db3\u591f\u5f3a\u5927...","title":"SQLModelCrud"},{"location":"fastapi_crud/BaseCrud/#_3","text":"","title":"\u5b57\u6bb5"},{"location":"fastapi_crud/BaseCrud/#schema_model","text":"\u5f53\u524d\u6a21\u578b\u534f\u8bae","title":"schema_model"},{"location":"fastapi_crud/BaseCrud/#schema_list","text":"\u6279\u91cf\u8bfb\u53d6,\u6570\u636e\u9879\u8fd4\u56de\u534f\u8bae, \u9ed8\u8ba4: self.schema_model","title":"schema_list"},{"location":"fastapi_crud/BaseCrud/#schema_filter","text":"\u6279\u91cf\u8bfb\u53d6, \u8fc7\u6ee4\u6570\u636e\u63d0\u4ea4\u534f\u8bae, \u9ed8\u8ba4: self.schema_model","title":"schema_filter"},{"location":"fastapi_crud/BaseCrud/#schema_create","text":"\u521b\u5efa\u6570\u636e, \u63d0\u4ea4\u534f\u8bae, \u9ed8\u8ba4: self.schema_model","title":"schema_create"},{"location":"fastapi_crud/BaseCrud/#schema_read","text":"\u8bfb\u53d6\u6570\u636e, \u8fd4\u56de\u534f\u8bae, \u9ed8\u8ba4: self.schema_model","title":"schema_read"},{"location":"fastapi_crud/BaseCrud/#schema_update","text":"\u66f4\u65b0\u6570\u636e,\u63d0\u4ea4\u534f\u8bae, \u9ed8\u8ba4: self.schema_model","title":"schema_update"},{"location":"fastapi_crud/BaseCrud/#pk_name","text":"\u5f53\u524d\u6a21\u578b\u4e3b\u952e\u5b57\u7b26\u4e32, \u9ed8\u8ba4: id . \u8bf4\u660e: \u6570\u636e\u5e93\u8868\u6709\u4e14\u53ea\u80fd\u6709\u4e00\u4e2a\u81ea\u589e\u52a0\u4e3b\u952e .(\u5f85\u62d3\u5c55)","title":"pk_name"},{"location":"fastapi_crud/BaseCrud/#list_per_page_max","text":"\u6279\u91cf\u8bfb\u53d6\u6bcf\u9875\u6570\u636e\u6570\u91cf\u4e0a\u9650. \u9ed8\u8ba4: None, \u65e0\u9650\u5236.","title":"list_per_page_max"},{"location":"fastapi_crud/BaseCrud/#route_list","text":"\u6279\u91cf\u8bfb\u53d6\u8def\u7531\u51fd\u6570. \u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_list ( self ) -> Callable","title":"route_list"},{"location":"fastapi_crud/BaseCrud/#route_read","text":"\u5355\u9879/\u6279\u91cf\u8bfb\u53d6\u8def\u7531\u51fd\u6570.\u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_read ( self ) -> Callable","title":"route_read"},{"location":"fastapi_crud/BaseCrud/#route_create","text":"\u5355\u9879/\u6279\u91cf\u521b\u5efa\u8def\u7531\u51fd\u6570.\u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_create ( self ) -> Callable","title":"route_create"},{"location":"fastapi_crud/BaseCrud/#route_update","text":"\u5355\u9879/\u6279\u91cf\u66f4\u65b0\u8def\u7531\u51fd\u6570.\u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_update ( self ) -> Callable","title":"route_update"},{"location":"fastapi_crud/BaseCrud/#route_delete","text":"\u5355\u9879/\u6279\u91cf\u5220\u9664\u8def\u7531\u51fd\u6570.\u652f\u6301\u540c\u6b65/\u5f02\u6b65\u51fd\u6570. @property def route_delete ( self ) -> Callable","title":"route_delete"},{"location":"fastapi_crud/BaseCrud/#_4","text":"","title":"\u65b9\u6cd5:"},{"location":"fastapi_crud/BaseCrud/#has_list_permission","text":"\u68c0\u67e5\u662f\u5426\u5177\u6709\u6279\u91cf\u67e5\u8be2\u6743\u9650. async def has_list_permission ( self , request : Request , paginator : Optional [ Paginator ], filter : Optional [ BaseModel ], ** kwargs ) -> bool","title":"has_list_permission"},{"location":"fastapi_crud/BaseCrud/#has_read_permission","text":"\u68c0\u67e5\u662f\u5426\u5177\u6709\u5355\u9879\u67e5\u8be2\u6743\u9650. async def has_read_permission ( self , request : Request , item_id : Optional [ List [ str ]], ** kwargs ) -> bool","title":"has_read_permission"},{"location":"fastapi_crud/BaseCrud/#has_create_permission","text":"\u68c0\u67e5\u662f\u5426\u5177\u6709\u521b\u5efa\u6570\u636e\u6743\u9650. async def has_create_permission ( self , request : Request , obj : Optional [ BaseModel ], ** kwargs ) -> bool","title":"has_create_permission"},{"location":"fastapi_crud/BaseCrud/#has_update_permission","text":"\u68c0\u67e5\u662f\u5426\u5177\u6709\u66f4\u65b0\u6570\u636e\u6743\u9650. async def has_update_permission ( self , request : Request , item_id : Optional [ List [ str ]], obj : Optional [ BaseModel ], ** kwargs ) -> bool","title":"has_update_permission"},{"location":"fastapi_crud/BaseCrud/#has_delete_permission","text":"\u68c0\u67e5\u662f\u5426\u5177\u6709\u5220\u9664\u6570\u636e\u67e5\u8be2\u6743\u9650. async def has_delete_permission ( self , request : Request , item_id : Optional [ List [ str ]], ** kwargs ) -> bool : return True","title":"has_delete_permission"},{"location":"fastapi_crud/BaseCrud/#register_crud","text":"\u6ce8\u518cCrud\u8def\u7531. def register_crud ( self , schema_list : Type [ BaseModel ] = None , schema_filter : Type [ BaseModel ] = None , schema_create : Type [ BaseModel ] = None , schema_read : Type [ BaseModel ] = None , schema_update : Type [ BaseModel ] = None , list_max_per_page : int = None , depends_list : List [ Depends ] = None , depends_read : List [ Depends ] = None , depends_create : List [ Depends ] = None , depends_update : List [ Depends ] = None , depends_delete : List [ Depends ] = None ) -> \"BaseCrud\"","title":"register_crud"},{"location":"fastapi_crud/RouterMixin/","text":"RouterMixin \u00b6 FastAPI\u8def\u7531\u6ce8\u518c\u5668 \u5b57\u6bb5 \u00b6 router \u00b6 \u8def\u7531\u6ce8\u518c\u5668 router_prefix \u00b6 \u8def\u7531\u6ce8\u518c\u5668\u524d\u7f00 router_permission_depend \u00b6 \u8def\u7531\u6ce8\u518c\u5668\u6743\u9650\u63a7\u5236\u4f9d\u8d56 \u65b9\u6cd5: \u00b6 get_router \u00b6 \u8fd4\u56de\u5f53\u524d\u8def\u7531\u6ce8\u518c\u5668. def get_router ( self ) -> APIRouter error_no_router_permission \u00b6 \u6ca1\u6709\u8def\u7531\u6743\u9650\u9519\u8bef. def error_no_router_permission ( self , request : Request )","title":"RouterMixin"},{"location":"fastapi_crud/RouterMixin/#routermixin","text":"FastAPI\u8def\u7531\u6ce8\u518c\u5668","title":"RouterMixin"},{"location":"fastapi_crud/RouterMixin/#_1","text":"","title":"\u5b57\u6bb5"},{"location":"fastapi_crud/RouterMixin/#router","text":"\u8def\u7531\u6ce8\u518c\u5668","title":"router"},{"location":"fastapi_crud/RouterMixin/#router_prefix","text":"\u8def\u7531\u6ce8\u518c\u5668\u524d\u7f00","title":"router_prefix"},{"location":"fastapi_crud/RouterMixin/#router_permission_depend","text":"\u8def\u7531\u6ce8\u518c\u5668\u6743\u9650\u63a7\u5236\u4f9d\u8d56","title":"router_permission_depend"},{"location":"fastapi_crud/RouterMixin/#_2","text":"","title":"\u65b9\u6cd5:"},{"location":"fastapi_crud/RouterMixin/#get_router","text":"\u8fd4\u56de\u5f53\u524d\u8def\u7531\u6ce8\u518c\u5668. def get_router ( self ) -> APIRouter","title":"get_router"},{"location":"fastapi_crud/RouterMixin/#error_no_router_permission","text":"\u6ca1\u6709\u8def\u7531\u6743\u9650\u9519\u8bef. def error_no_router_permission ( self , request : Request )","title":"error_no_router_permission"},{"location":"fastapi_crud/SQLModelCrud/","text":"SQLModelSelector \u00b6 SQLModel \u9009\u62e9\u5668 \u5b57\u6bb5 \u00b6 model \u00b6 \u5f53\u524dSQLModel ORM\u6a21\u578b, \u5fc5\u987b\u8bbe\u7f6e. fields \u00b6 \u67e5\u8be2\u5b57\u6bb5\u5217\u8868. \u652f\u6301SQLModel\u6a21\u578b\u5b57\u6bb5, SQLModel\u6a21\u578b, \u5f53\u524d\u6a21\u578b\u6570\u636e\u5e93\u8868\u5b57\u6bb5\u540d \u652f\u6301\u5f53\u524d\u6a21\u578b\u5b57\u6bb5,\u548c\u5176\u5b83\u6a21\u578b\u5b57\u6bb5. \u9ed8\u8ba4: self.model exclude \u00b6 \u6392\u9664\u5b57\u6bb5\u5217\u8868.\u4ece\u5f53\u524d\u6a21\u578b\u4e2d\u6392\u9664\u7684\u5b57\u6bb5\u5217\u8868. \u652f\u6301\u5f53\u524dSQLModel\u6a21\u578b\u5b57\u6bb5, \u5f53\u524d\u6a21\u578b\u6570\u636e\u5e93\u8868\u5b57\u6bb5\u540d \u9ed8\u8ba4: [] ordering \u00b6 \u9009\u62e9\u5668\u6392\u5e8f\u5b57\u6bb5\u5217\u8868. \u9ed8\u8ba4: [] link_models \u00b6 \u94fe\u63a5\u6a21\u578b\u5b57\u5178.\u8f83\u590d\u6742,\u8be6\u7ec6\u89e3\u6790\u5f85\u5b8c\u5584. pk_name \u00b6 \u5f53\u524d\u6a21\u578b\u4e3b\u952e\u5b57\u7b26\u4e32, \u9ed8\u8ba4: id . \u8bf4\u660e: \u6570\u636e\u5e93\u8868\u6709\u4e14\u53ea\u80fd\u6709\u4e00\u4e2a\u81ea\u589e\u52a0\u4e3b\u952e .(\u5f85\u62d3\u5c55) pk \u00b6 \u5f53\u524d\u6a21\u578b\u4e3b\u952esqlalchemy InstrumentedAttribute. parser \u00b6 \u5f53\u524d\u6a21\u578b\u5b57\u6bb5\u89e3\u6790\u5668. \u53c2\u8003: SQLModelFieldParser _list_fields_ins \u00b6 \u6279\u91cf\u67e5\u8be2sqlalchemy\u5b57\u6bb5\u5217\u8868. \u65b9\u6cd5: \u00b6 get_select \u00b6 \u8fd4\u56deSQLModel\u9009\u62e9\u5668. def get_select ( self , request : Request ) -> Select calc_filter_clause \u00b6 \u8ba1\u7b97\u67e5\u8be2\u8fc7\u6ee4\u6761\u4ef6. def calc_filter_clause ( self , data : Dict [ str , Any ]) -> List [ BinaryExpression ] SQLModelCrud \u00b6 SQLModel ORM Crud\u6ce8\u518c\u5668 \u7ee7\u627f\u57fa\u7c7b \u00b6 BaseCrud \u00b6 SQLModelSelector \u00b6 \u5b57\u6bb5 \u00b6 session_factory \u00b6 sqlalchemy AsyncSession \u751f\u6210\u5668, \u5fc5\u987b\u8bbe\u7f6e. session_factory : Callable [ ... , Generator [ AsyncSession , Any , None ]] \u83b7\u53d6\u793a\u4f8b engine : AsyncEngine = create_async_engine ( database_url , future = True , pool_recycle = 1200 ) session_maker : sessionmaker = sessionmaker ( engine , class_ = AsyncSession , expire_on_commit = False , autocommit = False , autoflush = False ) async def session_factory ( self ) -> Generator [ AsyncSession , Any , None ]: async with self . session_maker () as session : yield session readonly_fields \u00b6 \u53ea\u8bfb\u5b57\u6bb5\u5217\u8868: \u652f\u6301SQLModel\u6a21\u578b\u5b57\u6bb5, SQLModel\u6a21\u578b, \u5f53\u524d\u6a21\u578b\u6570\u636e\u5e93\u8868\u5b57\u6bb5\u540d \u652f\u6301\u5f53\u524d\u6a21\u578b\u5b57\u6bb5,\u548c\u5176\u5b83\u6a21\u578b\u5b57\u6bb5. \u9ed8\u8ba4: [] \u65b9\u6cd5: \u00b6 get_select \u00b6 \u8fd4\u56deSQLModel\u9009\u62e9\u5668. def get_select ( self , request : Request ) -> Select on_create_pre \u00b6 \u8fd4\u56de\u521b\u5efa\u8bf7\u6c42\u5904\u7406\u540e\u7684\u6570\u636e. async def on_create_pre ( self , request : Request , obj : BaseModel , ** kwargs ) -> Dict [ str , Any ] on_update_pre \u00b6 \u8fd4\u56de\u66f4\u65b0\u8bf7\u6c42\u5904\u7406\u540e\u7684\u6570\u636e. async def on_update_pre ( self , request : Request , obj : BaseModel , ** kwargs ) -> Dict [ str , Any ] on_filter_pre \u00b6 \u8fd4\u56de\u6279\u91cf\u67e5\u8be2\u8bf7\u6c42\u63d0\u4ea4\u8fc7\u6ee4\u5668\u5904\u7406\u540e\u7684\u6570\u636e. async def on_filter_pre ( self , request : Request , obj : BaseModel , ** kwargs ) -> Dict [ str , Any ]","title":"SQLModelCrud"},{"location":"fastapi_crud/SQLModelCrud/#sqlmodelselector","text":"SQLModel \u9009\u62e9\u5668","title":"SQLModelSelector"},{"location":"fastapi_crud/SQLModelCrud/#_1","text":"","title":"\u5b57\u6bb5"},{"location":"fastapi_crud/SQLModelCrud/#model","text":"\u5f53\u524dSQLModel ORM\u6a21\u578b, \u5fc5\u987b\u8bbe\u7f6e.","title":"model"},{"location":"fastapi_crud/SQLModelCrud/#fields","text":"\u67e5\u8be2\u5b57\u6bb5\u5217\u8868. \u652f\u6301SQLModel\u6a21\u578b\u5b57\u6bb5, SQLModel\u6a21\u578b, \u5f53\u524d\u6a21\u578b\u6570\u636e\u5e93\u8868\u5b57\u6bb5\u540d \u652f\u6301\u5f53\u524d\u6a21\u578b\u5b57\u6bb5,\u548c\u5176\u5b83\u6a21\u578b\u5b57\u6bb5. \u9ed8\u8ba4: self.model","title":"fields"},{"location":"fastapi_crud/SQLModelCrud/#exclude","text":"\u6392\u9664\u5b57\u6bb5\u5217\u8868.\u4ece\u5f53\u524d\u6a21\u578b\u4e2d\u6392\u9664\u7684\u5b57\u6bb5\u5217\u8868. \u652f\u6301\u5f53\u524dSQLModel\u6a21\u578b\u5b57\u6bb5, \u5f53\u524d\u6a21\u578b\u6570\u636e\u5e93\u8868\u5b57\u6bb5\u540d \u9ed8\u8ba4: []","title":"exclude"},{"location":"fastapi_crud/SQLModelCrud/#ordering","text":"\u9009\u62e9\u5668\u6392\u5e8f\u5b57\u6bb5\u5217\u8868. \u9ed8\u8ba4: []","title":"ordering"},{"location":"fastapi_crud/SQLModelCrud/#link_models","text":"\u94fe\u63a5\u6a21\u578b\u5b57\u5178.\u8f83\u590d\u6742,\u8be6\u7ec6\u89e3\u6790\u5f85\u5b8c\u5584.","title":"link_models"},{"location":"fastapi_crud/SQLModelCrud/#pk_name","text":"\u5f53\u524d\u6a21\u578b\u4e3b\u952e\u5b57\u7b26\u4e32, \u9ed8\u8ba4: id . \u8bf4\u660e: \u6570\u636e\u5e93\u8868\u6709\u4e14\u53ea\u80fd\u6709\u4e00\u4e2a\u81ea\u589e\u52a0\u4e3b\u952e .(\u5f85\u62d3\u5c55)","title":"pk_name"},{"location":"fastapi_crud/SQLModelCrud/#pk","text":"\u5f53\u524d\u6a21\u578b\u4e3b\u952esqlalchemy InstrumentedAttribute.","title":"pk"},{"location":"fastapi_crud/SQLModelCrud/#parser","text":"\u5f53\u524d\u6a21\u578b\u5b57\u6bb5\u89e3\u6790\u5668. \u53c2\u8003: SQLModelFieldParser","title":"parser"},{"location":"fastapi_crud/SQLModelCrud/#_list_fields_ins","text":"\u6279\u91cf\u67e5\u8be2sqlalchemy\u5b57\u6bb5\u5217\u8868.","title":"_list_fields_ins"},{"location":"fastapi_crud/SQLModelCrud/#_2","text":"","title":"\u65b9\u6cd5:"},{"location":"fastapi_crud/SQLModelCrud/#get_select","text":"\u8fd4\u56deSQLModel\u9009\u62e9\u5668. def get_select ( self , request : Request ) -> Select","title":"get_select"},{"location":"fastapi_crud/SQLModelCrud/#calc_filter_clause","text":"\u8ba1\u7b97\u67e5\u8be2\u8fc7\u6ee4\u6761\u4ef6. def calc_filter_clause ( self , data : Dict [ str , Any ]) -> List [ BinaryExpression ]","title":"calc_filter_clause"},{"location":"fastapi_crud/SQLModelCrud/#sqlmodelcrud","text":"SQLModel ORM Crud\u6ce8\u518c\u5668","title":"SQLModelCrud"},{"location":"fastapi_crud/SQLModelCrud/#_3","text":"","title":"\u7ee7\u627f\u57fa\u7c7b"},{"location":"fastapi_crud/SQLModelCrud/#basecrud","text":"","title":"BaseCrud"},{"location":"fastapi_crud/SQLModelCrud/#sqlmodelselector_1","text":"","title":"SQLModelSelector"},{"location":"fastapi_crud/SQLModelCrud/#_4","text":"","title":"\u5b57\u6bb5"},{"location":"fastapi_crud/SQLModelCrud/#session_factory","text":"sqlalchemy AsyncSession \u751f\u6210\u5668, \u5fc5\u987b\u8bbe\u7f6e. session_factory : Callable [ ... , Generator [ AsyncSession , Any , None ]] \u83b7\u53d6\u793a\u4f8b engine : AsyncEngine = create_async_engine ( database_url , future = True , pool_recycle = 1200 ) session_maker : sessionmaker = sessionmaker ( engine , class_ = AsyncSession , expire_on_commit = False , autocommit = False , autoflush = False ) async def session_factory ( self ) -> Generator [ AsyncSession , Any , None ]: async with self . session_maker () as session : yield session","title":"session_factory"},{"location":"fastapi_crud/SQLModelCrud/#readonly_fields","text":"\u53ea\u8bfb\u5b57\u6bb5\u5217\u8868: \u652f\u6301SQLModel\u6a21\u578b\u5b57\u6bb5, SQLModel\u6a21\u578b, \u5f53\u524d\u6a21\u578b\u6570\u636e\u5e93\u8868\u5b57\u6bb5\u540d \u652f\u6301\u5f53\u524d\u6a21\u578b\u5b57\u6bb5,\u548c\u5176\u5b83\u6a21\u578b\u5b57\u6bb5. \u9ed8\u8ba4: []","title":"readonly_fields"},{"location":"fastapi_crud/SQLModelCrud/#_5","text":"","title":"\u65b9\u6cd5:"},{"location":"fastapi_crud/SQLModelCrud/#get_select_1","text":"\u8fd4\u56deSQLModel\u9009\u62e9\u5668. def get_select ( self , request : Request ) -> Select","title":"get_select"},{"location":"fastapi_crud/SQLModelCrud/#on_create_pre","text":"\u8fd4\u56de\u521b\u5efa\u8bf7\u6c42\u5904\u7406\u540e\u7684\u6570\u636e. async def on_create_pre ( self , request : Request , obj : BaseModel , ** kwargs ) -> Dict [ str , Any ]","title":"on_create_pre"},{"location":"fastapi_crud/SQLModelCrud/#on_update_pre","text":"\u8fd4\u56de\u66f4\u65b0\u8bf7\u6c42\u5904\u7406\u540e\u7684\u6570\u636e. async def on_update_pre ( self , request : Request , obj : BaseModel , ** kwargs ) -> Dict [ str , Any ]","title":"on_update_pre"},{"location":"fastapi_crud/SQLModelCrud/#on_filter_pre","text":"\u8fd4\u56de\u6279\u91cf\u67e5\u8be2\u8bf7\u6c42\u63d0\u4ea4\u8fc7\u6ee4\u5668\u5904\u7406\u540e\u7684\u6570\u636e. async def on_filter_pre ( self , request : Request , obj : BaseModel , ** kwargs ) -> Dict [ str , Any ]","title":"on_filter_pre"},{"location":"tutorials/quickstart/","text":"\u5feb\u901f\u5f00\u59cb \u00b6 \u5b89\u88c5 \u00b6 pip install fastapi_amis_admin \u7b80\u5355\u793a\u4f8b \u00b6 1.\u521b\u5efa\u6587\u4ef6** adminsite.py **: from fastapi_amis_admin.amis_admin.settings import Settings from fastapi_amis_admin.amis_admin.site import AdminSite from fastapi_amis_admin.amis_admin import admin # \u521b\u5efaAdminSite\u5b9e\u4f8b site = AdminSite ( settings = Settings ( debug = True , database_url_async = 'sqlite+aiosqlite:///admisadmin.db' )) # \u6ce8\u518c\u7ba1\u7406\u7c7b @site . register_admin class GitHubIframeAdmin ( admin . IframeAdmin ): # \u8bbe\u7f6e\u9875\u9762\u83dc\u5355\u4fe1\u606f page_schema = PageSchema ( label = 'AmisIframeAdmin' , icon = 'fa fa-github' ) # \u8bbe\u7f6e\u8df3\u8f6c\u94fe\u63a5 src = 'https://github.com/amisadmin/fastapi_amis_admin' 2.\u521b\u5efa\u6587\u4ef6** main.py **: from fastapi import FastAPI from adminsite import site app = FastAPI () # \u6302\u8f7d\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf site . mount_app ( app ) if __name__ == '__main__' : import uvicorn uvicorn . run ( app , debug = True ) \u8fd0\u884c\u7a0b\u5e8f \u00b6 uvicorn main:app \u66f4\u591a\u529f\u80fd \u00b6 API\u53c2\u8003\u6587\u6863: API Reference \u793a\u4f8b\u7a0b\u5e8f: amisadmin/fastapi_amis_admin_demo (github.com)","title":"\u5feb\u901f\u5f00\u59cb"},{"location":"tutorials/quickstart/#_1","text":"","title":"\u5feb\u901f\u5f00\u59cb"},{"location":"tutorials/quickstart/#_2","text":"pip install fastapi_amis_admin","title":"\u5b89\u88c5"},{"location":"tutorials/quickstart/#_3","text":"1.\u521b\u5efa\u6587\u4ef6** adminsite.py **: from fastapi_amis_admin.amis_admin.settings import Settings from fastapi_amis_admin.amis_admin.site import AdminSite from fastapi_amis_admin.amis_admin import admin # \u521b\u5efaAdminSite\u5b9e\u4f8b site = AdminSite ( settings = Settings ( debug = True , database_url_async = 'sqlite+aiosqlite:///admisadmin.db' )) # \u6ce8\u518c\u7ba1\u7406\u7c7b @site . register_admin class GitHubIframeAdmin ( admin . IframeAdmin ): # \u8bbe\u7f6e\u9875\u9762\u83dc\u5355\u4fe1\u606f page_schema = PageSchema ( label = 'AmisIframeAdmin' , icon = 'fa fa-github' ) # \u8bbe\u7f6e\u8df3\u8f6c\u94fe\u63a5 src = 'https://github.com/amisadmin/fastapi_amis_admin' 2.\u521b\u5efa\u6587\u4ef6** main.py **: from fastapi import FastAPI from adminsite import site app = FastAPI () # \u6302\u8f7d\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf site . mount_app ( app ) if __name__ == '__main__' : import uvicorn uvicorn . run ( app , debug = True )","title":"\u7b80\u5355\u793a\u4f8b"},{"location":"tutorials/quickstart/#_4","text":"uvicorn main:app","title":"\u8fd0\u884c\u7a0b\u5e8f"},{"location":"tutorials/quickstart/#_5","text":"API\u53c2\u8003\u6587\u6863: API Reference \u793a\u4f8b\u7a0b\u5e8f: amisadmin/fastapi_amis_admin_demo (github.com)","title":"\u66f4\u591a\u529f\u80fd"},{"location":"tutorials/advanced/AdminApp/","text":"\u7ba1\u7406\u5e94\u7528 \u00b6 \u7ba1\u7406\u5e94\u7528\u7684\u8bbe\u8ba1\u662f\u4e3a\u4e86\u9488\u5bf9\u66f4\u52a0\u590d\u6742\u7684\u573a\u666f,\u5c06\u5404\u4e2a\u529f\u80fd\u6a21\u5757\u76f8\u4e92\u9694\u79bb,\u4f46\u662f\u53c8\u80fd\u65b9\u4fbf\u7684\u81ea\u7531\u7ec4\u5408. \u7ba1\u7406\u7ad9\u70b9\u67b6\u6784 \u00b6 \u7ba1\u7406\u5e94\u7528\u662f\u4e00\u4e2a\u66f4\u5927\u7684\u7ba1\u7406\u7c7b,\u800c\u7ba1\u7406\u7ad9\u70b9\u662f\u4e00\u4e2a\u66f4\u5927\u7684\u7ba1\u7406\u5e94\u7528.\u7ba1\u7406\u5e94\u7528\u53ef\u4ee5\u7531\u591a\u4e2a\u7ba1\u7406\u7c7b\u6216\u7ba1\u7406\u5b50\u5e94\u7528\u7ec4\u6210,\u5b83\u4eec\u4e4b\u524d\u7684\u5173\u7cfb\u7c7b\u4f3c\u4e0b\u56fe: graph TD AdminSite --> AdminAPP AdminSite --> AdminAPP1 AdminSite --> AdminAPP2 AdminSite --> Admin1 AdminSite --> Admin2 AdminAPP1 --> AdminAPP11 AdminAPP1 --> AdminAPP12 AdminAPP --> PageAdmin AdminAPP --> FormAdmin AdminAPP --> TemplateAdmin AdminAPP --> ModelAdmin AdminAPP --> PageSchemaAdmin AdminAPP --> RouterAdmin \u7ba1\u7406\u5e94\u7528\u7684\u7279\u6027 \u00b6 \u7ba1\u7406\u5e94\u7528\u4e5f\u662f\u4e00\u4e2a\u7ba1\u7406\u7c7b,\u5b83\u53ef\u4ee5\u88ab\u6ce8\u518c\u5230\u5176\u4ed6\u7ba1\u7406\u5e94\u7528\u6216\u7ba1\u7406\u7ad9\u70b9. \u7ba1\u7406\u5e94\u7528\u53ef\u4ee5\u6ce8\u518c\u5176\u4ed6\u7ba1\u7406\u7c7b\u5230\u672c\u8eab\u7684\u5e94\u7528\u5bf9\u8c61. \u6bcf\u4e2a\u7ba1\u7406\u5e94\u7528\u90fd\u53ef\u4ee5\u914d\u7f6e\u72ec\u7acb\u7684\u6570\u636e\u5e93\u8fde\u63a5. \u66f4\u591a\u7528\u6cd5 \u00b6 \u76ee\u524d\u5173\u4e8e AdminApp \u7684\u6559\u7a0b\u4e0e\u793a\u4f8b\u5e76\u4e0d\u5b8c\u5584,\u540e\u7eed\u53ef\u80fd\u4f1a\u6dfb\u52a0\u66f4\u591a\u4e30\u5bcc\u7684\u529f\u80fd\u4e0e\u6559\u7a0b,\u5982\u679c\u4f60\u4ec5\u4ec5\u662f\u60f3\u5b9e\u73b0\u7279\u5b9a\u7684\u529f\u80fd,\u5e76\u4e0d\u60f3\u6df1\u5165\u7814\u7a76,\u8fd9\u90e8\u5206\u53ef\u4ee5\u5148\u884c\u8df3\u8fc7. \u76f8\u5173\u6587\u6863 \u00b6 AdminApp - FastAPI-Amis-Admin fastapi_amis_admin/site.py","title":"\u7ba1\u7406\u5e94\u7528"},{"location":"tutorials/advanced/AdminApp/#_1","text":"\u7ba1\u7406\u5e94\u7528\u7684\u8bbe\u8ba1\u662f\u4e3a\u4e86\u9488\u5bf9\u66f4\u52a0\u590d\u6742\u7684\u573a\u666f,\u5c06\u5404\u4e2a\u529f\u80fd\u6a21\u5757\u76f8\u4e92\u9694\u79bb,\u4f46\u662f\u53c8\u80fd\u65b9\u4fbf\u7684\u81ea\u7531\u7ec4\u5408.","title":"\u7ba1\u7406\u5e94\u7528"},{"location":"tutorials/advanced/AdminApp/#_2","text":"\u7ba1\u7406\u5e94\u7528\u662f\u4e00\u4e2a\u66f4\u5927\u7684\u7ba1\u7406\u7c7b,\u800c\u7ba1\u7406\u7ad9\u70b9\u662f\u4e00\u4e2a\u66f4\u5927\u7684\u7ba1\u7406\u5e94\u7528.\u7ba1\u7406\u5e94\u7528\u53ef\u4ee5\u7531\u591a\u4e2a\u7ba1\u7406\u7c7b\u6216\u7ba1\u7406\u5b50\u5e94\u7528\u7ec4\u6210,\u5b83\u4eec\u4e4b\u524d\u7684\u5173\u7cfb\u7c7b\u4f3c\u4e0b\u56fe: graph TD AdminSite --> AdminAPP AdminSite --> AdminAPP1 AdminSite --> AdminAPP2 AdminSite --> Admin1 AdminSite --> Admin2 AdminAPP1 --> AdminAPP11 AdminAPP1 --> AdminAPP12 AdminAPP --> PageAdmin AdminAPP --> FormAdmin AdminAPP --> TemplateAdmin AdminAPP --> ModelAdmin AdminAPP --> PageSchemaAdmin AdminAPP --> RouterAdmin","title":"\u7ba1\u7406\u7ad9\u70b9\u67b6\u6784"},{"location":"tutorials/advanced/AdminApp/#_3","text":"\u7ba1\u7406\u5e94\u7528\u4e5f\u662f\u4e00\u4e2a\u7ba1\u7406\u7c7b,\u5b83\u53ef\u4ee5\u88ab\u6ce8\u518c\u5230\u5176\u4ed6\u7ba1\u7406\u5e94\u7528\u6216\u7ba1\u7406\u7ad9\u70b9. \u7ba1\u7406\u5e94\u7528\u53ef\u4ee5\u6ce8\u518c\u5176\u4ed6\u7ba1\u7406\u7c7b\u5230\u672c\u8eab\u7684\u5e94\u7528\u5bf9\u8c61. \u6bcf\u4e2a\u7ba1\u7406\u5e94\u7528\u90fd\u53ef\u4ee5\u914d\u7f6e\u72ec\u7acb\u7684\u6570\u636e\u5e93\u8fde\u63a5.","title":"\u7ba1\u7406\u5e94\u7528\u7684\u7279\u6027"},{"location":"tutorials/advanced/AdminApp/#_4","text":"\u76ee\u524d\u5173\u4e8e AdminApp \u7684\u6559\u7a0b\u4e0e\u793a\u4f8b\u5e76\u4e0d\u5b8c\u5584,\u540e\u7eed\u53ef\u80fd\u4f1a\u6dfb\u52a0\u66f4\u591a\u4e30\u5bcc\u7684\u529f\u80fd\u4e0e\u6559\u7a0b,\u5982\u679c\u4f60\u4ec5\u4ec5\u662f\u60f3\u5b9e\u73b0\u7279\u5b9a\u7684\u529f\u80fd,\u5e76\u4e0d\u60f3\u6df1\u5165\u7814\u7a76,\u8fd9\u90e8\u5206\u53ef\u4ee5\u5148\u884c\u8df3\u8fc7.","title":"\u66f4\u591a\u7528\u6cd5"},{"location":"tutorials/advanced/AdminApp/#_5","text":"AdminApp - FastAPI-Amis-Admin fastapi_amis_admin/site.py","title":"\u76f8\u5173\u6587\u6863"},{"location":"tutorials/advanced/_more/","text":"\u66f4\u591a\u5f85\u8865\u5145... \u00b6","title":"\u66f4\u591a\u5f85\u8865\u5145..."},{"location":"tutorials/advanced/_more/#_1","text":"","title":"\u66f4\u591a\u5f85\u8865\u5145..."},{"location":"tutorials/advanced/structure/","text":"\u76ee\u5f55\u7ed3\u6784 \u00b6 \u5728\u5b9e\u9645\u9879\u76ee\u5f00\u53d1\u4e2d,\u6d89\u53ca\u7684\u6570\u636e\u6a21\u578b\u53ca\u7ba1\u7406\u9875\u9762\u6570\u91cf\u4e00\u822c\u90fd\u6bd4\u8f83\u591a, fastapi-amis-admin \u5efa\u8bae\u9879\u76ee\u91c7\u7528\u7c7b\u4f3cdjango\u9879\u76ee\u7684\u76ee\u5f55\u7ed3\u6784\u3002\u8bf7\u53c2\u8003 fastapi_amis_admin_demo , \u4f46\u662f\u8fd9\u5e76\u975e\u5f3a\u5236\u9650\u5236,\u4f60\u4e5f\u53ef\u4ee5\u91c7\u7528\u4f60\u81ea\u5df1\u719f\u6089\u7684\u76ee\u5f55\u7ed3\u6784.","title":"\u76ee\u5f55\u7ed3\u6784"},{"location":"tutorials/advanced/structure/#_1","text":"\u5728\u5b9e\u9645\u9879\u76ee\u5f00\u53d1\u4e2d,\u6d89\u53ca\u7684\u6570\u636e\u6a21\u578b\u53ca\u7ba1\u7406\u9875\u9762\u6570\u91cf\u4e00\u822c\u90fd\u6bd4\u8f83\u591a, fastapi-amis-admin \u5efa\u8bae\u9879\u76ee\u91c7\u7528\u7c7b\u4f3cdjango\u9879\u76ee\u7684\u76ee\u5f55\u7ed3\u6784\u3002\u8bf7\u53c2\u8003 fastapi_amis_admin_demo , \u4f46\u662f\u8fd9\u5e76\u975e\u5f3a\u5236\u9650\u5236,\u4f60\u4e5f\u53ef\u4ee5\u91c7\u7528\u4f60\u81ea\u5df1\u719f\u6089\u7684\u76ee\u5f55\u7ed3\u6784.","title":"\u76ee\u5f55\u7ed3\u6784"},{"location":"tutorials/basic/FormAdmin/","text":"\u8868\u5355\u7ba1\u7406 \u00b6 FormAdmin \u5b9e\u73b0\u5728\u83dc\u5355\u5217\u8868\u663e\u793a\u4e00\u4e2a\u83dc\u5355.\u70b9\u51fb\u83dc\u5355\u540e\u5c06\u5c55\u73b0\u4e00\u4e2a amis \u8868\u5355\u9875\u9762. \u793a\u4f8b \u00b6 from fastapi_amis_admin.amis_admin import admin from fastapi_amis_admin.fastapi_crud.schema import BaseApiOut from fastapi_amis_admin.models.fields import Field from pydantic import BaseModel from starlette.requests import Request @site . register_admin class UserLoginFormAdmin ( admin . FormAdmin ): page_schema = 'UserLoginForm' # \u914d\u7f6e\u8868\u5355\u4fe1\u606f, \u53ef\u7701\u7565 form = Form ( title = '\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u767b\u5f55\u8868\u5355' , submitText = '\u767b\u5f55' ) # \u521b\u5efa\u8868\u5355\u6570\u636e\u6a21\u578b class schema ( BaseModel ): username : str = Field ( ... , title = '\u7528\u6237\u540d' , min_length = 3 , max_length = 30 ) password : str = Field ( ... , title = '\u5bc6\u7801' ) # \u5904\u7406\u8868\u5355\u63d0\u4ea4\u6570\u636e async def handle ( self , request : Request , data : BaseModel , ** kwargs ) -> BaseApiOut [ Any ]: if data . username == 'amisadmin' and data . password == 'amisadmin' : return BaseApiOut ( msg = '\u767b\u5f55\u6210\u529f!' , data = { 'token' : 'xxxxxx' }) return BaseApiOut ( status =- 1 , msg = '\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef!' ) \u8fd9\u91cc\u5c55\u793a\u7684\u4ec5\u4ec5\u662f\u4e00\u4e2a\u6700\u7b80\u5355\u57fa\u7840\u7684\u529f\u80fd. \u8868\u5355\u5bf9\u8c61 \u00b6 \u7c7b\u5b57\u6bb5 form \u53ef\u4ee5\u914d\u7f6e\u8868\u5355\u7684\u57fa\u672c\u4fe1\u606f,\u4f8b\u5982: \u6807\u9898,\u8868\u5355\u6837\u5f0f,\u63d0\u4ea4\u6309\u94ae,\u63d0\u4ea4API,\u4fe1\u606f\u63d0\u793a\u7b49\u7b49.\u8bf7\u53c2\u8003: Form \u8868\u5355 \u8868\u5355\u6570\u636e\u6a21\u578b \u00b6 \u7c7b\u5b57\u6bb5 schema \u5b9a\u4e49\u8868\u5355\u6570\u636e\u6a21\u578b,\u5b83\u7ee7\u627f\u81ea pydantic BaseModel , \u652f\u6301\u5404\u79cd\u7c7b\u578b\u5b57\u6bb5, \u901a\u8fc7 amis \u81ea\u52a8\u5728\u524d\u7aef\u89e3\u6790\u6210\u5bf9\u5e94\u7684\u7ec4\u4ef6.\u901a\u8fc7 schema \u53ef\u4ee5\u5b8c\u6210\u7684\u529f\u80fd\u6709: \u5b9a\u4e49\u5b57\u6bb5\u57fa\u672c\u5c5e\u6027. \u4f8b\u5982: \u540d\u79f0,\u6807\u7b7e,\u6570\u636e\u7c7b\u578b,\u57fa\u672c\u9650\u5236 \u81ea\u5b9a\u4e49\u5b57\u6bb5\u5904\u7406\u6216\u9a8c\u8bc1\u5668. \u53c2\u8003: Validators - pydantic \u81ea\u5b9a\u4e49 amis \u7ec4\u4ef6.\u53ef\u901a\u8fc7 amis_form_item \u81ea\u5b9a\u4e49 amis \u7ec4\u4ef6 \u5904\u7406\u51fd\u6570 \u00b6 \u7c7b\u65b9\u6cd5 handle \u63a5\u6536\u7528\u6237\u63d0\u4ea4\u7684\u8868\u5355\u6570\u636e,\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u8fdb\u884c\u5404\u79cd\u590d\u6742\u7684\u8868\u5355\u6570\u636e\u903b\u8f91\u5904\u7406. \u66f4\u591a\u7528\u6cd5 \u00b6 \u5b9e\u9645\u4e0a FormAdmin \u62e5\u6709\u66f4\u591a\u590d\u6742\u7684\u4f7f\u7528,\u8fd9\u91cc\u65e0\u6cd5\u5c55\u5f00\u8be6\u7ec6\u8bf4\u660e,\u8bf7\u53c2\u8003\u4ee5\u4e0b\u76f8\u5173\u8d44\u6599. \u76f8\u5173\u6587\u6863 \u00b6 FormAdmin","title":"\u8868\u5355\u7ba1\u7406"},{"location":"tutorials/basic/FormAdmin/#_1","text":"FormAdmin \u5b9e\u73b0\u5728\u83dc\u5355\u5217\u8868\u663e\u793a\u4e00\u4e2a\u83dc\u5355.\u70b9\u51fb\u83dc\u5355\u540e\u5c06\u5c55\u73b0\u4e00\u4e2a amis \u8868\u5355\u9875\u9762.","title":"\u8868\u5355\u7ba1\u7406"},{"location":"tutorials/basic/FormAdmin/#_2","text":"from fastapi_amis_admin.amis_admin import admin from fastapi_amis_admin.fastapi_crud.schema import BaseApiOut from fastapi_amis_admin.models.fields import Field from pydantic import BaseModel from starlette.requests import Request @site . register_admin class UserLoginFormAdmin ( admin . FormAdmin ): page_schema = 'UserLoginForm' # \u914d\u7f6e\u8868\u5355\u4fe1\u606f, \u53ef\u7701\u7565 form = Form ( title = '\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u767b\u5f55\u8868\u5355' , submitText = '\u767b\u5f55' ) # \u521b\u5efa\u8868\u5355\u6570\u636e\u6a21\u578b class schema ( BaseModel ): username : str = Field ( ... , title = '\u7528\u6237\u540d' , min_length = 3 , max_length = 30 ) password : str = Field ( ... , title = '\u5bc6\u7801' ) # \u5904\u7406\u8868\u5355\u63d0\u4ea4\u6570\u636e async def handle ( self , request : Request , data : BaseModel , ** kwargs ) -> BaseApiOut [ Any ]: if data . username == 'amisadmin' and data . password == 'amisadmin' : return BaseApiOut ( msg = '\u767b\u5f55\u6210\u529f!' , data = { 'token' : 'xxxxxx' }) return BaseApiOut ( status =- 1 , msg = '\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef!' ) \u8fd9\u91cc\u5c55\u793a\u7684\u4ec5\u4ec5\u662f\u4e00\u4e2a\u6700\u7b80\u5355\u57fa\u7840\u7684\u529f\u80fd.","title":"\u793a\u4f8b"},{"location":"tutorials/basic/FormAdmin/#_3","text":"\u7c7b\u5b57\u6bb5 form \u53ef\u4ee5\u914d\u7f6e\u8868\u5355\u7684\u57fa\u672c\u4fe1\u606f,\u4f8b\u5982: \u6807\u9898,\u8868\u5355\u6837\u5f0f,\u63d0\u4ea4\u6309\u94ae,\u63d0\u4ea4API,\u4fe1\u606f\u63d0\u793a\u7b49\u7b49.\u8bf7\u53c2\u8003: Form \u8868\u5355","title":"\u8868\u5355\u5bf9\u8c61"},{"location":"tutorials/basic/FormAdmin/#_4","text":"\u7c7b\u5b57\u6bb5 schema \u5b9a\u4e49\u8868\u5355\u6570\u636e\u6a21\u578b,\u5b83\u7ee7\u627f\u81ea pydantic BaseModel , \u652f\u6301\u5404\u79cd\u7c7b\u578b\u5b57\u6bb5, \u901a\u8fc7 amis \u81ea\u52a8\u5728\u524d\u7aef\u89e3\u6790\u6210\u5bf9\u5e94\u7684\u7ec4\u4ef6.\u901a\u8fc7 schema \u53ef\u4ee5\u5b8c\u6210\u7684\u529f\u80fd\u6709: \u5b9a\u4e49\u5b57\u6bb5\u57fa\u672c\u5c5e\u6027. \u4f8b\u5982: \u540d\u79f0,\u6807\u7b7e,\u6570\u636e\u7c7b\u578b,\u57fa\u672c\u9650\u5236 \u81ea\u5b9a\u4e49\u5b57\u6bb5\u5904\u7406\u6216\u9a8c\u8bc1\u5668. \u53c2\u8003: Validators - pydantic \u81ea\u5b9a\u4e49 amis \u7ec4\u4ef6.\u53ef\u901a\u8fc7 amis_form_item \u81ea\u5b9a\u4e49 amis \u7ec4\u4ef6","title":"\u8868\u5355\u6570\u636e\u6a21\u578b"},{"location":"tutorials/basic/FormAdmin/#_5","text":"\u7c7b\u65b9\u6cd5 handle \u63a5\u6536\u7528\u6237\u63d0\u4ea4\u7684\u8868\u5355\u6570\u636e,\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u8fdb\u884c\u5404\u79cd\u590d\u6742\u7684\u8868\u5355\u6570\u636e\u903b\u8f91\u5904\u7406.","title":"\u5904\u7406\u51fd\u6570"},{"location":"tutorials/basic/FormAdmin/#_6","text":"\u5b9e\u9645\u4e0a FormAdmin \u62e5\u6709\u66f4\u591a\u590d\u6742\u7684\u4f7f\u7528,\u8fd9\u91cc\u65e0\u6cd5\u5c55\u5f00\u8be6\u7ec6\u8bf4\u660e,\u8bf7\u53c2\u8003\u4ee5\u4e0b\u76f8\u5173\u8d44\u6599.","title":"\u66f4\u591a\u7528\u6cd5"},{"location":"tutorials/basic/FormAdmin/#_7","text":"FormAdmin","title":"\u76f8\u5173\u6587\u6863"},{"location":"tutorials/basic/ModelAction/","text":"\u6a21\u578b\u52a8\u4f5c \u00b6 \u6a21\u578b\u7ba1\u7406\u52a8\u4f5c\u6307\u7684\u662f\u9488\u5bf9\u67d0\u4e00\u9879\u6216\u591a\u9879\u6a21\u578b\u6570\u636e\u6240\u8fdb\u884c\u7684\u64cd\u4f5c.\u4f8b\u5982:\u6700\u57fa\u672c\u7684\u64cd\u4f5c\u6709\u589e\u52a0/\u8bfb\u53d6/\u66f4\u65b0/\u5220\u9664; \u4f46\u662f\u5f88\u591a\u65f6\u5019\u4f60\u53ef\u80fd\u9700\u8981\u6dfb\u52a0\u67d0\u4e9b\u7279\u6b8a\u7684\u64cd\u4f5c\u547d\u4ee4.\u4f8b\u5982:\u6539\u53d8\u6570\u636e\u72b6\u6001, \u6267\u884c\u67d0\u4e9b\u4efb\u52a1.\u8fd9\u65f6\u5019\u4f60\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5b9a\u4e49\u6a21\u578b\u7ba1\u7406\u52a8\u4f5c. fastapi_amis_admin \u62e5\u6709\u591a\u79cd\u7c7b\u578b\u6a21\u578b\u52a8\u4f5c,\u4e0b\u9762\u7b80\u5355\u6f14\u793a\u51e0\u79cd\u53ef\u80fd\u5e38\u7528\u7684\u52a8\u4f5c\u65b9\u5f0f. \u81ea\u5b9a\u4e49\u5de5\u5177\u6761\u52a8\u4f5c \u00b6 \u793a\u4f8b-1 \u00b6 @site . register_admin class ArticleAdmin ( admin . ModelAdmin ): group_schema = 'Articles' page_schema = PageSchema ( label = '\u6587\u7ae0\u7ba1\u7406' , icon = 'fa fa-file' ) model = Article # \u6dfb\u52a0\u81ea\u5b9a\u4e49\u5de5\u5177\u6761\u52a8\u4f5c async def get_actions_on_header_toolbar ( self , request : Request ) -> List [ Action ]: actions = await super () . get_actions_on_header_toolbar ( request ) actions . append ( ActionType . Ajax ( label = '\u5de5\u5177\u6761ajax\u52a8\u4f5c' , api = 'https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock/mock2/form/saveForm' )) actions . append ( ActionType . Link ( label = '\u5de5\u5177\u6761link\u52a8\u4f5c' , link = 'https://github.com/amisadmin/fastapi_amis_admin' )) return actions \u5728\u672c\u793a\u4f8b\u4e2d,\u901a\u8fc7\u91cd\u8f7d get_actions_on_header_toolbar \u65b9\u6cd5,\u5728\u6a21\u578b\u5217\u8868\u8868\u683c\u5de5\u5177\u6761\u6dfb\u52a0\u4e86\u4e24\u4e2a\u7b80\u5355\u7684\u6a21\u578b\u52a8\u4f5c: ActionType.Ajax \u52a8\u4f5c\u5c06\u53d1\u9001\u4e00\u4e2aajax\u8bf7\u6c42,\u5230\u6307\u5b9a\u7684api. ActionType.Link \u52a8\u4f5c\u70b9\u51fb\u540e\u5c06\u8df3\u8f6c\u5230\u6307\u5b9a\u7684\u94fe\u63a5. \u5173\u4e8e ActionType ActionType\u4e8b\u5b9e\u4e0a\u662f amis Action \u884c\u4e3a\u6309\u94ae \u7ec4\u4ef6\u7684\u4e00\u4e2apython\u6a21\u578b\u6620\u5c04,\u5b83\u652f\u6301\u591a\u79cd\u5e38\u89c1\u7684\u884c\u4e3a\u7c7b\u578b.\u4f8b\u5982:ajax\u8bf7\u6c42/\u4e0b\u8f7d\u8bf7\u6c42/\u8df3\u8f6c\u94fe\u63a5/\u53d1\u9001\u90ae\u4ef6/\u5f39\u7a97/\u62bd\u5c49/\u590d\u5236\u6587\u672c\u7b49\u7b49. fastapi_amis_admin\u7684\u7075\u6d3b\u6027\u5f3a\u4f53\u73b0\u4e4b\u4e00,\u662f\u56e0\u4e3a\u5b83\u662f\u57fa\u4e8eamis\u7684\u7ec4\u4ef6\u5f0f\u5f00\u53d1,\u4f60\u53ef\u4ee5\u5728\u5f88\u591a\u5730\u65b9\u81ea\u7531\u7684\u66ff\u6362\u6216\u6dfb\u52a0\u5185\u7f6e\u7684amis\u7ec4\u4ef6.\u5728\u6b64\u4e4b\u524d\u5e0c\u671b\u4f60\u80fd\u9605\u8bfb amis\u6587\u6863 ,\u5bf9amis\u6838\u5fc3\u7ec4\u4ef6\u6709\u4e00\u5b9a\u7684\u4e86\u89e3. \u81ea\u5b9a\u4e49\u5355\u9879\u64cd\u4f5c\u52a8\u4f5c \u00b6 \u793a\u4f8b-2 \u00b6 # \u521b\u5efa\u666e\u901aajax\u52a8\u4f5c class TestAction ( admin . ModelAction ): # \u914d\u7f6e\u52a8\u4f5c\u57fa\u672c\u4fe1\u606f action = ActionType . Dialog ( label = '\u81ea\u5b9a\u4e49\u666e\u901a\u5904\u7406\u52a8\u4f5c' , dialog = Dialog ()) # \u52a8\u4f5c\u5904\u7406 async def handle ( self , request : Request , item_id : List [ str ], data : Optional [ BaseModel ], session : AsyncSession , ** kwargs ): # \u4ece\u6570\u636e\u5e93\u83b7\u53d6\u7528\u6237\u9009\u62e9\u7684\u6570\u636e\u5217\u8868 items = await self . fetch_item_scalars ( session , item_id ) # \u6267\u884c\u52a8\u4f5c\u5904\u7406 ... # \u8fd4\u56de\u52a8\u4f5c\u5904\u7406\u7ed3\u679c return BaseApiOut ( data = dict ( item_id = item_id , data = data , items = list ( items ))) @site . register_admin class ArticleAdmin ( admin . ModelAdmin ): group_schema = 'Articles' page_schema = PageSchema ( label = '\u6587\u7ae0\u7ba1\u7406' , icon = 'fa fa-file' ) model = Article # \u6dfb\u52a0\u81ea\u5b9a\u4e49\u5355\u9879\u64cd\u4f5c\u52a8\u4f5c async def get_actions_on_item ( self , request : Request ) -> List [ Action ]: actions = await super () . get_actions_on_item ( request ) action = await self . test_action . get_action ( request ) actions . append ( action ) return actions # \u6ce8\u518c\u81ea\u5b9a\u4e49\u8def\u7531 def register_router ( self ): super () . register_router () # \u6ce8\u518c\u52a8\u4f5c\u8def\u7531 self . test_action = TestAction ( self ) . register_router () \u793a\u4f8b-2\u4e2d\u6240\u5b8c\u6210\u7684\u5de5\u4f5c: \u5b9a\u4e49\u4e86\u4e00\u4e2a\u6700\u57fa\u7840\u7684\u6a21\u578b\u52a8\u4f5c\u7c7b TestAction ,\u5b83\u7684\u6838\u5fc3\u662f handle \u65b9\u6cd5.\u5177\u4f53\u8bf7\u53c2\u8003: ModelAction \u901a\u8fc7\u91cd\u8f7d register_router \u65b9\u6cd5,\u5b9e\u4f8b\u5316 TestAction \u7c7b,\u5e76\u4e14\u6ce8\u518c\u8def\u7531,\u7ed1\u5b9a\u5230\u5f53\u524d\u6a21\u578b\u7ba1\u7406\u7c7b\u5c5e\u6027\u5b57\u6bb5\u5f53\u4e2d. \u91cd\u8f7d get_actions_on_item \u65b9\u6cd5,\u6dfb\u52a0 TestAction \u5b9e\u4f8b\u5bf9\u5e94\u7684\u6a21\u578b\u52a8\u4f5c,\u5230\u5355\u9879\u64cd\u4f5c\u52a8\u4f5c\u5217\u8868. \u81ea\u5b9a\u4e49\u6279\u91cf\u64cd\u4f5c\u52a8\u4f5c \u00b6 \u793a\u4f8b-3 \u00b6 # \u521b\u5efa\u8868\u5355ajax\u52a8\u4f5c class TestFormAction ( admin . ModelAction ): # \u914d\u7f6e\u52a8\u4f5c\u57fa\u672c\u4fe1\u606f action = ActionType . Dialog ( label = '\u81ea\u5b9a\u4e49\u8868\u5355\u52a8\u4f5c' , dialog = Dialog ()) # \u521b\u5efa\u52a8\u4f5c\u8868\u5355\u6570\u636e\u6a21\u578b class schema ( BaseModel ): username : str = Field ( ... , title = '\u7528\u6237\u540d' ) password : str = Field ( ... , title = '\u5bc6\u7801' , amis_form_item = 'input-password' ) is_active : bool = Field ( True , title = '\u662f\u5426\u6fc0\u6d3b' ) # \u52a8\u4f5c\u5904\u7406 async def handle ( self , request : Request , item_id : List [ str ], data : schema , session : AsyncSession , ** kwargs ): # \u4ece\u6570\u636e\u5e93\u83b7\u53d6\u7528\u6237\u9009\u62e9\u7684\u6570\u636e\u5217\u8868 items = await self . fetch_item_scalars ( session , item_id ) # \u6267\u884c\u52a8\u4f5c\u5904\u7406 ... # \u8fd4\u56de\u52a8\u4f5c\u5904\u7406\u7ed3\u679c return BaseApiOut ( data = dict ( item_id = item_id , data = data , items = list ( items ))) @site . register_admin class ArticleAdmin ( admin . ModelAdmin ): group_schema = 'Articles' page_schema = PageSchema ( label = '\u6587\u7ae0\u7ba1\u7406' , icon = 'fa fa-file' ) model = Article # \u6dfb\u52a0\u81ea\u5b9a\u4e49\u6279\u91cf\u64cd\u4f5c\u52a8\u4f5c async def get_actions_on_bulk ( self , request : Request ) -> List [ Action ]: actions = await super () . get_actions_on_bulk ( request ) action = await self . test_form_action . get_action ( request ) action . label = '\u81ea\u5b9a\u4e49\u6279\u91cf\u64cd\u4f5c\u52a8\u4f5c' actions . append ( action . copy ()) return actions # \u6ce8\u518c\u81ea\u5b9a\u4e49\u8def\u7531 def register_router ( self ): super () . register_router () # \u6ce8\u518c\u52a8\u4f5c\u8def\u7531 self . test_form_action = TestFormAction ( self ) . register_router () \u793a\u4f8b-3\u4e0e\u793a\u4f8b-2\u975e\u5e38\u663e\u793a, \u4f46\u662f\u5b83\u5141\u8bb8\u7528\u6237\u6dfb\u52a0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u8868\u5355,\u8fd9\u4e2a\u5728\u5f88\u591a\u60c5\u51b5\u4e0b,\u975e\u5e38\u6709\u7528. schema \u7684\u5b9a\u4e49\u4e0e\u4f7f\u7528\u4e0e FormAdmin \u975e\u5e38\u76f8\u4f3c. \u66f4\u591a\u7528\u6cd5 \u00b6 \u8bf7\u53c2\u8003 demo\u7a0b\u5e8f ,\u6216\u9605\u8bfb\u4ee5\u4e0b\u76f8\u5173\u6587\u6863,\u5e94\u8be5\u4f1a\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9. ModelAdmin ModelAction Action \u884c\u4e3a\u6309\u94ae","title":"\u6a21\u578b\u52a8\u4f5c"},{"location":"tutorials/basic/ModelAction/#_1","text":"\u6a21\u578b\u7ba1\u7406\u52a8\u4f5c\u6307\u7684\u662f\u9488\u5bf9\u67d0\u4e00\u9879\u6216\u591a\u9879\u6a21\u578b\u6570\u636e\u6240\u8fdb\u884c\u7684\u64cd\u4f5c.\u4f8b\u5982:\u6700\u57fa\u672c\u7684\u64cd\u4f5c\u6709\u589e\u52a0/\u8bfb\u53d6/\u66f4\u65b0/\u5220\u9664; \u4f46\u662f\u5f88\u591a\u65f6\u5019\u4f60\u53ef\u80fd\u9700\u8981\u6dfb\u52a0\u67d0\u4e9b\u7279\u6b8a\u7684\u64cd\u4f5c\u547d\u4ee4.\u4f8b\u5982:\u6539\u53d8\u6570\u636e\u72b6\u6001, \u6267\u884c\u67d0\u4e9b\u4efb\u52a1.\u8fd9\u65f6\u5019\u4f60\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5b9a\u4e49\u6a21\u578b\u7ba1\u7406\u52a8\u4f5c. fastapi_amis_admin \u62e5\u6709\u591a\u79cd\u7c7b\u578b\u6a21\u578b\u52a8\u4f5c,\u4e0b\u9762\u7b80\u5355\u6f14\u793a\u51e0\u79cd\u53ef\u80fd\u5e38\u7528\u7684\u52a8\u4f5c\u65b9\u5f0f.","title":"\u6a21\u578b\u52a8\u4f5c"},{"location":"tutorials/basic/ModelAction/#_2","text":"","title":"\u81ea\u5b9a\u4e49\u5de5\u5177\u6761\u52a8\u4f5c"},{"location":"tutorials/basic/ModelAction/#-1","text":"@site . register_admin class ArticleAdmin ( admin . ModelAdmin ): group_schema = 'Articles' page_schema = PageSchema ( label = '\u6587\u7ae0\u7ba1\u7406' , icon = 'fa fa-file' ) model = Article # \u6dfb\u52a0\u81ea\u5b9a\u4e49\u5de5\u5177\u6761\u52a8\u4f5c async def get_actions_on_header_toolbar ( self , request : Request ) -> List [ Action ]: actions = await super () . get_actions_on_header_toolbar ( request ) actions . append ( ActionType . Ajax ( label = '\u5de5\u5177\u6761ajax\u52a8\u4f5c' , api = 'https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock/mock2/form/saveForm' )) actions . append ( ActionType . Link ( label = '\u5de5\u5177\u6761link\u52a8\u4f5c' , link = 'https://github.com/amisadmin/fastapi_amis_admin' )) return actions \u5728\u672c\u793a\u4f8b\u4e2d,\u901a\u8fc7\u91cd\u8f7d get_actions_on_header_toolbar \u65b9\u6cd5,\u5728\u6a21\u578b\u5217\u8868\u8868\u683c\u5de5\u5177\u6761\u6dfb\u52a0\u4e86\u4e24\u4e2a\u7b80\u5355\u7684\u6a21\u578b\u52a8\u4f5c: ActionType.Ajax \u52a8\u4f5c\u5c06\u53d1\u9001\u4e00\u4e2aajax\u8bf7\u6c42,\u5230\u6307\u5b9a\u7684api. ActionType.Link \u52a8\u4f5c\u70b9\u51fb\u540e\u5c06\u8df3\u8f6c\u5230\u6307\u5b9a\u7684\u94fe\u63a5. \u5173\u4e8e ActionType ActionType\u4e8b\u5b9e\u4e0a\u662f amis Action \u884c\u4e3a\u6309\u94ae \u7ec4\u4ef6\u7684\u4e00\u4e2apython\u6a21\u578b\u6620\u5c04,\u5b83\u652f\u6301\u591a\u79cd\u5e38\u89c1\u7684\u884c\u4e3a\u7c7b\u578b.\u4f8b\u5982:ajax\u8bf7\u6c42/\u4e0b\u8f7d\u8bf7\u6c42/\u8df3\u8f6c\u94fe\u63a5/\u53d1\u9001\u90ae\u4ef6/\u5f39\u7a97/\u62bd\u5c49/\u590d\u5236\u6587\u672c\u7b49\u7b49. fastapi_amis_admin\u7684\u7075\u6d3b\u6027\u5f3a\u4f53\u73b0\u4e4b\u4e00,\u662f\u56e0\u4e3a\u5b83\u662f\u57fa\u4e8eamis\u7684\u7ec4\u4ef6\u5f0f\u5f00\u53d1,\u4f60\u53ef\u4ee5\u5728\u5f88\u591a\u5730\u65b9\u81ea\u7531\u7684\u66ff\u6362\u6216\u6dfb\u52a0\u5185\u7f6e\u7684amis\u7ec4\u4ef6.\u5728\u6b64\u4e4b\u524d\u5e0c\u671b\u4f60\u80fd\u9605\u8bfb amis\u6587\u6863 ,\u5bf9amis\u6838\u5fc3\u7ec4\u4ef6\u6709\u4e00\u5b9a\u7684\u4e86\u89e3.","title":"\u793a\u4f8b-1"},{"location":"tutorials/basic/ModelAction/#_3","text":"","title":"\u81ea\u5b9a\u4e49\u5355\u9879\u64cd\u4f5c\u52a8\u4f5c"},{"location":"tutorials/basic/ModelAction/#-2","text":"# \u521b\u5efa\u666e\u901aajax\u52a8\u4f5c class TestAction ( admin . ModelAction ): # \u914d\u7f6e\u52a8\u4f5c\u57fa\u672c\u4fe1\u606f action = ActionType . Dialog ( label = '\u81ea\u5b9a\u4e49\u666e\u901a\u5904\u7406\u52a8\u4f5c' , dialog = Dialog ()) # \u52a8\u4f5c\u5904\u7406 async def handle ( self , request : Request , item_id : List [ str ], data : Optional [ BaseModel ], session : AsyncSession , ** kwargs ): # \u4ece\u6570\u636e\u5e93\u83b7\u53d6\u7528\u6237\u9009\u62e9\u7684\u6570\u636e\u5217\u8868 items = await self . fetch_item_scalars ( session , item_id ) # \u6267\u884c\u52a8\u4f5c\u5904\u7406 ... # \u8fd4\u56de\u52a8\u4f5c\u5904\u7406\u7ed3\u679c return BaseApiOut ( data = dict ( item_id = item_id , data = data , items = list ( items ))) @site . register_admin class ArticleAdmin ( admin . ModelAdmin ): group_schema = 'Articles' page_schema = PageSchema ( label = '\u6587\u7ae0\u7ba1\u7406' , icon = 'fa fa-file' ) model = Article # \u6dfb\u52a0\u81ea\u5b9a\u4e49\u5355\u9879\u64cd\u4f5c\u52a8\u4f5c async def get_actions_on_item ( self , request : Request ) -> List [ Action ]: actions = await super () . get_actions_on_item ( request ) action = await self . test_action . get_action ( request ) actions . append ( action ) return actions # \u6ce8\u518c\u81ea\u5b9a\u4e49\u8def\u7531 def register_router ( self ): super () . register_router () # \u6ce8\u518c\u52a8\u4f5c\u8def\u7531 self . test_action = TestAction ( self ) . register_router () \u793a\u4f8b-2\u4e2d\u6240\u5b8c\u6210\u7684\u5de5\u4f5c: \u5b9a\u4e49\u4e86\u4e00\u4e2a\u6700\u57fa\u7840\u7684\u6a21\u578b\u52a8\u4f5c\u7c7b TestAction ,\u5b83\u7684\u6838\u5fc3\u662f handle \u65b9\u6cd5.\u5177\u4f53\u8bf7\u53c2\u8003: ModelAction \u901a\u8fc7\u91cd\u8f7d register_router \u65b9\u6cd5,\u5b9e\u4f8b\u5316 TestAction \u7c7b,\u5e76\u4e14\u6ce8\u518c\u8def\u7531,\u7ed1\u5b9a\u5230\u5f53\u524d\u6a21\u578b\u7ba1\u7406\u7c7b\u5c5e\u6027\u5b57\u6bb5\u5f53\u4e2d. \u91cd\u8f7d get_actions_on_item \u65b9\u6cd5,\u6dfb\u52a0 TestAction \u5b9e\u4f8b\u5bf9\u5e94\u7684\u6a21\u578b\u52a8\u4f5c,\u5230\u5355\u9879\u64cd\u4f5c\u52a8\u4f5c\u5217\u8868.","title":"\u793a\u4f8b-2"},{"location":"tutorials/basic/ModelAction/#_4","text":"","title":"\u81ea\u5b9a\u4e49\u6279\u91cf\u64cd\u4f5c\u52a8\u4f5c"},{"location":"tutorials/basic/ModelAction/#-3","text":"# \u521b\u5efa\u8868\u5355ajax\u52a8\u4f5c class TestFormAction ( admin . ModelAction ): # \u914d\u7f6e\u52a8\u4f5c\u57fa\u672c\u4fe1\u606f action = ActionType . Dialog ( label = '\u81ea\u5b9a\u4e49\u8868\u5355\u52a8\u4f5c' , dialog = Dialog ()) # \u521b\u5efa\u52a8\u4f5c\u8868\u5355\u6570\u636e\u6a21\u578b class schema ( BaseModel ): username : str = Field ( ... , title = '\u7528\u6237\u540d' ) password : str = Field ( ... , title = '\u5bc6\u7801' , amis_form_item = 'input-password' ) is_active : bool = Field ( True , title = '\u662f\u5426\u6fc0\u6d3b' ) # \u52a8\u4f5c\u5904\u7406 async def handle ( self , request : Request , item_id : List [ str ], data : schema , session : AsyncSession , ** kwargs ): # \u4ece\u6570\u636e\u5e93\u83b7\u53d6\u7528\u6237\u9009\u62e9\u7684\u6570\u636e\u5217\u8868 items = await self . fetch_item_scalars ( session , item_id ) # \u6267\u884c\u52a8\u4f5c\u5904\u7406 ... # \u8fd4\u56de\u52a8\u4f5c\u5904\u7406\u7ed3\u679c return BaseApiOut ( data = dict ( item_id = item_id , data = data , items = list ( items ))) @site . register_admin class ArticleAdmin ( admin . ModelAdmin ): group_schema = 'Articles' page_schema = PageSchema ( label = '\u6587\u7ae0\u7ba1\u7406' , icon = 'fa fa-file' ) model = Article # \u6dfb\u52a0\u81ea\u5b9a\u4e49\u6279\u91cf\u64cd\u4f5c\u52a8\u4f5c async def get_actions_on_bulk ( self , request : Request ) -> List [ Action ]: actions = await super () . get_actions_on_bulk ( request ) action = await self . test_form_action . get_action ( request ) action . label = '\u81ea\u5b9a\u4e49\u6279\u91cf\u64cd\u4f5c\u52a8\u4f5c' actions . append ( action . copy ()) return actions # \u6ce8\u518c\u81ea\u5b9a\u4e49\u8def\u7531 def register_router ( self ): super () . register_router () # \u6ce8\u518c\u52a8\u4f5c\u8def\u7531 self . test_form_action = TestFormAction ( self ) . register_router () \u793a\u4f8b-3\u4e0e\u793a\u4f8b-2\u975e\u5e38\u663e\u793a, \u4f46\u662f\u5b83\u5141\u8bb8\u7528\u6237\u6dfb\u52a0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u8868\u5355,\u8fd9\u4e2a\u5728\u5f88\u591a\u60c5\u51b5\u4e0b,\u975e\u5e38\u6709\u7528. schema \u7684\u5b9a\u4e49\u4e0e\u4f7f\u7528\u4e0e FormAdmin \u975e\u5e38\u76f8\u4f3c.","title":"\u793a\u4f8b-3"},{"location":"tutorials/basic/ModelAction/#_5","text":"\u8bf7\u53c2\u8003 demo\u7a0b\u5e8f ,\u6216\u9605\u8bfb\u4ee5\u4e0b\u76f8\u5173\u6587\u6863,\u5e94\u8be5\u4f1a\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9. ModelAdmin ModelAction Action \u884c\u4e3a\u6309\u94ae","title":"\u66f4\u591a\u7528\u6cd5"},{"location":"tutorials/basic/ModelAdmin/","text":"\u6a21\u578b\u7ba1\u7406 \u00b6 \u6a21\u578b\u7ba1\u7406\u5728\u540e\u53f0\u7ba1\u7406\u4e2d\u662f\u6700\u4e3a\u5e38\u7528\u7684\u4e00\u4e2a\u7ba1\u7406\u7c7b,\u5176\u4f7f\u7528\u529f\u80fd\u4e5f\u662f\u6700\u4e3a\u4e30\u5bcc\u7684. amis-admin\u76ee\u524d\u5df2\u7ecf\u5b9e\u73b0\u9488\u5bf9\u6570\u636e\u6a21\u578b\u5e38\u7528\u7684\u5404\u79cd\u57fa\u672c\u64cd\u4f5c, \u5e76\u4e14\u4f60\u4ecd\u7136\u53ef\u4ee5\u5728\u6b64\u57fa\u7840\u4e0a\u505a\u51fa\u66f4\u591a\u4e2a\u6027\u5316\u7684\u62d3\u5c55. \u793a\u4f8b-1 \u00b6 # \u5148\u521b\u5efa\u4e00\u4e2aSQLModel\u6a21\u578b,\u8be6\u7ec6\u8bf7\u53c2\u8003: https://sqlmodel.tiangolo.com/ class Category ( SQLModel , table = True ): id : int = Field ( default = None , primary_key = True , nullable = False ) name : str = Field ( title = 'CategoryName' ) description : str = Field ( default = '' , title = 'Description' ) # \u6ce8\u518cModelAdmin @site . register_admin class CategoryAdmin ( admin . ModelAdmin ): page_schema = '\u5206\u7c7b\u7ba1\u7406' # \u914d\u7f6e\u7ba1\u7406\u6a21\u578b model = Category \u5148\u770b\u4e00\u4e0b\u8fd9\u4e2a\u7b80\u5355\u7684\u793a\u4f8b-1\u5427.\u5b83\u5b8c\u6210\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4: \u5b9a\u4e49\u4e86\u4e00\u4e2a Category \u6a21\u578b. \u5b9a\u4e49\u4e00\u4e2a\u6a21\u578b\u7ba1\u7406\u7c7b, \u7ee7\u627f admin.ModelAdmin . \u914d\u7f6e\u6a21\u578b,\u5e76\u6ce8\u518c\u5230\u7ba1\u7406\u7ad9\u70b9. \u5173\u4e8eSQLModel\u6a21\u578b \u4e8b\u5b9e\u4e0a\u8fd9\u90e8\u5206\u4ee3\u7801\u5e76\u4e0d\u5c5e\u4e8e amis-admin \u7684\u4ee3\u7801,\u56e0\u4e3a\u5b83\u53ef\u4ee5\u7528\u91cd\u7528\u5728\u4efb\u4f55\u9700\u8981ORM\u6620\u5c04\u7684\u5730\u65b9, \u5728\u9879\u76ee\u4e2d\u4f60\u5e94\u8be5\u5355\u72ec\u5b9a\u4e49\u4e00\u4e2a models.py \u6587\u4ef6\u7f16\u5199\u8fd9\u90e8\u5206\u4ee3\u7801. SQLModel\u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u79c0\u7684Python ORM\u5e93,\u7531FastAPI\u540c\u4e00\u4f4d\u4f5c\u8005\u7f16\u5199,\u5b8c\u7f8e\u7684\u7ed3\u5408\u4e86SQLAlchemy\u548cPydantic.\u8bf7\u9605\u8bfb\u5b83\u7684\u5b98\u65b9\u6587\u6863: https://sqlmodel.tiangolo.com/ \u793a\u4f8b-2 \u00b6 # \u521b\u5efa\u4e00\u4e2aSQLModel\u6a21\u578b,\u8be6\u7ec6\u8bf7\u53c2\u8003: https://sqlmodel.tiangolo.com/ class Article ( SQLModel , table = True ): id : int = Field ( default = None , primary_key = True , nullable = False ) title : str = Field ( title = 'ArticleTitle' , max_length = 200 ) description : Optional [ str ] = Field ( default = '' , title = 'ArticleDescription' , max_length = 400 ) status : bool = Field ( None , title = 'status' ) content : str = Field ( title = 'ArticleContent' ) # \u5173\u8054Category\u6a21\u578b,\u6a21\u578b\u5b9a\u4e49\u53c2\u8003[\u793a\u4f8b-1] category_id : Optional [ int ] = Field ( default = None , foreign_key = \"category.id\" , title = 'CategoryId' ) category : Optional [ Category ] = Relationship ( back_populates = \"articles\" ) @site . register_admin class ArticleAdmin ( admin . ModelAdmin ): page_schema = '\u6587\u7ae0\u7ba1\u7406' model = Article # \u8bbe\u7f6e\u9700\u8981\u5c55\u793a\u7684\u5b57\u6bb5 list_display = [ Article . id , Article . title , Article . description , Article . status , Category . name ] # \u8bbe\u7f6e\u6a21\u7cca\u641c\u7d22\u5b57\u6bb5 search_fields = [ Article . title , Category . name ] # \u81ea\u5b9a\u4e49\u57fa\u7840\u9009\u62e9\u5668 async def get_select ( self , request : Request ) -> Select : stmt = await super () . get_select ( request ) stmt . join ( Category , Article . category_id == Category . id , isouter = True ) return stmt \u793a\u4f8b2\u76f8\u6bd4\u4e8e\u793a\u4f8b1\u663e\u5f97\u66f4\u4e3a\u590d\u6742. \u4f46\u662f\u5982\u679c\u4f60\u719f\u6089 Django-Admin \u4f60\u4f1a\u53d1\u73b0\u4ed6\u4eec\u975e\u5e38\u7684\u76f8\u4f3c,\u662f\u7684. fastapi_amis_admin \u542f\u53d1\u81ea Django-Admin ,\u6240\u4ee5\u5f88\u591a\u529f\u80fd\u7684\u8bbe\u8ba1\u90fd\u4e0e\u4e4b\u7c7b\u4f3c, \u5e76\u4e14 fastapi_amis_admin \u7684\u529f\u80fd\u66f4\u52a0\u4e30\u5bcc,\u914d\u7f6e\u66f4\u52a0\u7075\u6d3b. \u914d\u7f6e\u5c55\u793a\u5b57\u6bb5 \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u7ba1\u7406\u5217\u8868\u975e\u5c55\u793a\u5f53\u524d\u6a21\u578b\u7684\u5168\u90e8\u5b57\u6bb5.\u4f46\u662f\u5982\u679c\u4f60\u53ea\u9700\u8981\u5c55\u793a\u90e8\u5206\u5b57\u6bb5,\u6216\u8005\u4f60\u8fd8\u9700\u8981\u5c55\u793a\u76f8\u5173\u6a21\u578b\u7684\u5176\u4ed6\u5b57\u6bb5,\u4f60\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e list_display \u6765\u81ea\u5b9a\u4e49\u9700\u8981\u5c55\u793a\u7684\u5b57\u6bb5. \u4f8b\u5982\u5728\u793a\u4f8b2\u4e2d: Article.content \u4e0e Article.category_id \u5e76\u4e0d\u5305\u62ec\u5728\u5c55\u793a\u5b57\u6bb5\u5f53\u4e2d. Category.name \u662f\u53e6\u4e00\u4e2a\u6a21\u578b\u7684\u5b57\u6bb5,\u4e5f\u53ef\u4ee5\u5305\u62ec\u5728\u5c55\u793a\u5b57\u6bb5\u4e2d, \u4f46\u662f\u8fd9\u91cc\u9700\u8981\u901a\u8fc7 get_select \u65b9\u6cd5\u81ea\u5b9a\u4e49\u9009\u62e9\u5668 left join Category \u6a21\u578b. \u914d\u7f6e\u6a21\u7cca\u641c\u7d22\u5b57\u6bb5 \u00b6 search_fields \u914d\u7f6e\u9488\u5bf9\u5b57\u7b26\u4e32\u5b57\u6bb5\u67e5\u8be2\u65b9\u5f0f\u4e3a like \u8fc7\u6ee4.\u5982\u679c\u4e0d\u914d\u7f6e search_fields ,\u5219\u9ed8\u8ba4\u4e3a equal \u67e5\u8be2\u65b9\u5f0f. \u81ea\u5b9a\u4e49\u9009\u62e9\u5668 \u00b6 get_select \u81ea\u5b9a\u4e49\u9009\u62e9\u5668\u53ef\u4ee5\u5b9e\u73b0\u9488\u5bf9\u4e0d\u540c\u8bf7\u6c42\u7684\u83b7\u53d6\u4e0d\u540c\u7684\u521d\u59cb\u5316\u6570\u636e\u67e5\u8be2\u6761\u4ef6,\u7c7b\u4f3c\u4e8e django-admin \u5f53\u4e2d\u7684 get_queryset \u65b9\u6cd5. \u66f4\u591a\u7528\u6cd5 \u00b6 ModelAdmin \u7684\u7528\u6cd5\u975e\u5e38\u7075\u6d3b,\u8fd9\u91cc\u4ec5\u4ec5\u5c55\u793a\u4e86\u6700\u4e3a\u57fa\u672c\u7684\u7528\u6cd5,\u4f60\u53ef\u4ee5\u9605\u8bfb API\u6587\u6863 \u6216\u53c2\u8003 demo\u7a0b\u5e8f \u4e86\u89e3\u66f4\u4e3a\u8be6\u7ec6\u7684\u7528\u6cd5.\u540e\u7eed\u5c06\u4f1a\u9646\u7eed\u8865\u5145\u5177\u4f53\u7684\u5e94\u7528\u573a\u666f\u793a\u4f8b. \u5982\u679c\u4f60\u6709\u8f83\u597d\u7684\u5e94\u7528\u793a\u4f8b\u6216\u6559\u7a0b\u6587\u6863,\u53ef\u4ee5\u901a\u8fc7github\u63d0\u4ea4,\u975e\u5e38\u611f\u8c22\u4f60\u7684\u652f\u6301! fastapi_amis_admin \u5c06\u4f1a\u505a\u7684\u66f4\u597d! amisadmin/fastapi_amis_admin_demo (github.com) ModelAdmin - FastAPI-Amis-Admin SQLModelCrud - FastAPI-Amis-Admin Table \u8868\u683c (gitee.io) \u5173\u4e8efastapi_amis_admin\u4e0edjango-admin django-admin \u662f\u4e00\u4e2a\u975e\u5e38\u6210\u719f\u5f3a\u5927\u7684web\u7ba1\u7406\u540e\u53f0\u5de5\u5177,\u4f7f\u7528django\u7684\u7528\u6237\u5e94\u8be5\u7ecf\u5e38\u4f7f\u7528\u5230\u5b83,\u4f46\u4ed6\u662f\u5e76\u4e0d\u9002\u7528\u4e8e\u975edjango\u9879\u76ee,\u8fd9\u4e5f\u662ffastapi_amis_admin\u8bde\u751f\u7684\u4e3b\u8981\u539f\u56e0\u4e4b\u4e00. fastapi_amis_admin\u76f8\u6bd4django-admin\u62e5\u6709\u66f4\u591a\u7684\u62d3\u5c55\u4e0e\u529f\u80fd,\u4f46\u662ffastapi_amis_admin\u76ee\u524d\u4ecd\u7136\u5904\u4e8e\u6210\u957f\u9636\u6bb5,\u5f88\u591a\u529f\u80fd\u5e76\u4e0d\u6210\u719f,\u9700\u8981\u6f2b\u957f\u7684\u4e0d\u65ad\u5b8c\u5584\u4e0e\u5347\u7ea7.\u975e\u5e38\u671f\u5f85\u4f60\u53c2\u4e0e\u5230 fastapi_amis_admin \u7684\u9879\u76ee\u5f00\u53d1\u4e4b\u4e2d,\u4e3a\u9879\u76ee\u8d21\u732e\u4ee3\u7801,\u6216\u4e3a\u9879\u76ee \u63d0\u4f9b\u5efa\u8bae .","title":"\u6a21\u578b\u7ba1\u7406"},{"location":"tutorials/basic/ModelAdmin/#_1","text":"\u6a21\u578b\u7ba1\u7406\u5728\u540e\u53f0\u7ba1\u7406\u4e2d\u662f\u6700\u4e3a\u5e38\u7528\u7684\u4e00\u4e2a\u7ba1\u7406\u7c7b,\u5176\u4f7f\u7528\u529f\u80fd\u4e5f\u662f\u6700\u4e3a\u4e30\u5bcc\u7684. amis-admin\u76ee\u524d\u5df2\u7ecf\u5b9e\u73b0\u9488\u5bf9\u6570\u636e\u6a21\u578b\u5e38\u7528\u7684\u5404\u79cd\u57fa\u672c\u64cd\u4f5c, \u5e76\u4e14\u4f60\u4ecd\u7136\u53ef\u4ee5\u5728\u6b64\u57fa\u7840\u4e0a\u505a\u51fa\u66f4\u591a\u4e2a\u6027\u5316\u7684\u62d3\u5c55.","title":"\u6a21\u578b\u7ba1\u7406"},{"location":"tutorials/basic/ModelAdmin/#-1","text":"# \u5148\u521b\u5efa\u4e00\u4e2aSQLModel\u6a21\u578b,\u8be6\u7ec6\u8bf7\u53c2\u8003: https://sqlmodel.tiangolo.com/ class Category ( SQLModel , table = True ): id : int = Field ( default = None , primary_key = True , nullable = False ) name : str = Field ( title = 'CategoryName' ) description : str = Field ( default = '' , title = 'Description' ) # \u6ce8\u518cModelAdmin @site . register_admin class CategoryAdmin ( admin . ModelAdmin ): page_schema = '\u5206\u7c7b\u7ba1\u7406' # \u914d\u7f6e\u7ba1\u7406\u6a21\u578b model = Category \u5148\u770b\u4e00\u4e0b\u8fd9\u4e2a\u7b80\u5355\u7684\u793a\u4f8b-1\u5427.\u5b83\u5b8c\u6210\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4: \u5b9a\u4e49\u4e86\u4e00\u4e2a Category \u6a21\u578b. \u5b9a\u4e49\u4e00\u4e2a\u6a21\u578b\u7ba1\u7406\u7c7b, \u7ee7\u627f admin.ModelAdmin . \u914d\u7f6e\u6a21\u578b,\u5e76\u6ce8\u518c\u5230\u7ba1\u7406\u7ad9\u70b9. \u5173\u4e8eSQLModel\u6a21\u578b \u4e8b\u5b9e\u4e0a\u8fd9\u90e8\u5206\u4ee3\u7801\u5e76\u4e0d\u5c5e\u4e8e amis-admin \u7684\u4ee3\u7801,\u56e0\u4e3a\u5b83\u53ef\u4ee5\u7528\u91cd\u7528\u5728\u4efb\u4f55\u9700\u8981ORM\u6620\u5c04\u7684\u5730\u65b9, \u5728\u9879\u76ee\u4e2d\u4f60\u5e94\u8be5\u5355\u72ec\u5b9a\u4e49\u4e00\u4e2a models.py \u6587\u4ef6\u7f16\u5199\u8fd9\u90e8\u5206\u4ee3\u7801. SQLModel\u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u79c0\u7684Python ORM\u5e93,\u7531FastAPI\u540c\u4e00\u4f4d\u4f5c\u8005\u7f16\u5199,\u5b8c\u7f8e\u7684\u7ed3\u5408\u4e86SQLAlchemy\u548cPydantic.\u8bf7\u9605\u8bfb\u5b83\u7684\u5b98\u65b9\u6587\u6863: https://sqlmodel.tiangolo.com/","title":"\u793a\u4f8b-1"},{"location":"tutorials/basic/ModelAdmin/#-2","text":"# \u521b\u5efa\u4e00\u4e2aSQLModel\u6a21\u578b,\u8be6\u7ec6\u8bf7\u53c2\u8003: https://sqlmodel.tiangolo.com/ class Article ( SQLModel , table = True ): id : int = Field ( default = None , primary_key = True , nullable = False ) title : str = Field ( title = 'ArticleTitle' , max_length = 200 ) description : Optional [ str ] = Field ( default = '' , title = 'ArticleDescription' , max_length = 400 ) status : bool = Field ( None , title = 'status' ) content : str = Field ( title = 'ArticleContent' ) # \u5173\u8054Category\u6a21\u578b,\u6a21\u578b\u5b9a\u4e49\u53c2\u8003[\u793a\u4f8b-1] category_id : Optional [ int ] = Field ( default = None , foreign_key = \"category.id\" , title = 'CategoryId' ) category : Optional [ Category ] = Relationship ( back_populates = \"articles\" ) @site . register_admin class ArticleAdmin ( admin . ModelAdmin ): page_schema = '\u6587\u7ae0\u7ba1\u7406' model = Article # \u8bbe\u7f6e\u9700\u8981\u5c55\u793a\u7684\u5b57\u6bb5 list_display = [ Article . id , Article . title , Article . description , Article . status , Category . name ] # \u8bbe\u7f6e\u6a21\u7cca\u641c\u7d22\u5b57\u6bb5 search_fields = [ Article . title , Category . name ] # \u81ea\u5b9a\u4e49\u57fa\u7840\u9009\u62e9\u5668 async def get_select ( self , request : Request ) -> Select : stmt = await super () . get_select ( request ) stmt . join ( Category , Article . category_id == Category . id , isouter = True ) return stmt \u793a\u4f8b2\u76f8\u6bd4\u4e8e\u793a\u4f8b1\u663e\u5f97\u66f4\u4e3a\u590d\u6742. \u4f46\u662f\u5982\u679c\u4f60\u719f\u6089 Django-Admin \u4f60\u4f1a\u53d1\u73b0\u4ed6\u4eec\u975e\u5e38\u7684\u76f8\u4f3c,\u662f\u7684. fastapi_amis_admin \u542f\u53d1\u81ea Django-Admin ,\u6240\u4ee5\u5f88\u591a\u529f\u80fd\u7684\u8bbe\u8ba1\u90fd\u4e0e\u4e4b\u7c7b\u4f3c, \u5e76\u4e14 fastapi_amis_admin \u7684\u529f\u80fd\u66f4\u52a0\u4e30\u5bcc,\u914d\u7f6e\u66f4\u52a0\u7075\u6d3b.","title":"\u793a\u4f8b-2"},{"location":"tutorials/basic/ModelAdmin/#_2","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u7ba1\u7406\u5217\u8868\u975e\u5c55\u793a\u5f53\u524d\u6a21\u578b\u7684\u5168\u90e8\u5b57\u6bb5.\u4f46\u662f\u5982\u679c\u4f60\u53ea\u9700\u8981\u5c55\u793a\u90e8\u5206\u5b57\u6bb5,\u6216\u8005\u4f60\u8fd8\u9700\u8981\u5c55\u793a\u76f8\u5173\u6a21\u578b\u7684\u5176\u4ed6\u5b57\u6bb5,\u4f60\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e list_display \u6765\u81ea\u5b9a\u4e49\u9700\u8981\u5c55\u793a\u7684\u5b57\u6bb5. \u4f8b\u5982\u5728\u793a\u4f8b2\u4e2d: Article.content \u4e0e Article.category_id \u5e76\u4e0d\u5305\u62ec\u5728\u5c55\u793a\u5b57\u6bb5\u5f53\u4e2d. Category.name \u662f\u53e6\u4e00\u4e2a\u6a21\u578b\u7684\u5b57\u6bb5,\u4e5f\u53ef\u4ee5\u5305\u62ec\u5728\u5c55\u793a\u5b57\u6bb5\u4e2d, \u4f46\u662f\u8fd9\u91cc\u9700\u8981\u901a\u8fc7 get_select \u65b9\u6cd5\u81ea\u5b9a\u4e49\u9009\u62e9\u5668 left join Category \u6a21\u578b.","title":"\u914d\u7f6e\u5c55\u793a\u5b57\u6bb5"},{"location":"tutorials/basic/ModelAdmin/#_3","text":"search_fields \u914d\u7f6e\u9488\u5bf9\u5b57\u7b26\u4e32\u5b57\u6bb5\u67e5\u8be2\u65b9\u5f0f\u4e3a like \u8fc7\u6ee4.\u5982\u679c\u4e0d\u914d\u7f6e search_fields ,\u5219\u9ed8\u8ba4\u4e3a equal \u67e5\u8be2\u65b9\u5f0f.","title":"\u914d\u7f6e\u6a21\u7cca\u641c\u7d22\u5b57\u6bb5"},{"location":"tutorials/basic/ModelAdmin/#_4","text":"get_select \u81ea\u5b9a\u4e49\u9009\u62e9\u5668\u53ef\u4ee5\u5b9e\u73b0\u9488\u5bf9\u4e0d\u540c\u8bf7\u6c42\u7684\u83b7\u53d6\u4e0d\u540c\u7684\u521d\u59cb\u5316\u6570\u636e\u67e5\u8be2\u6761\u4ef6,\u7c7b\u4f3c\u4e8e django-admin \u5f53\u4e2d\u7684 get_queryset \u65b9\u6cd5.","title":"\u81ea\u5b9a\u4e49\u9009\u62e9\u5668"},{"location":"tutorials/basic/ModelAdmin/#_5","text":"ModelAdmin \u7684\u7528\u6cd5\u975e\u5e38\u7075\u6d3b,\u8fd9\u91cc\u4ec5\u4ec5\u5c55\u793a\u4e86\u6700\u4e3a\u57fa\u672c\u7684\u7528\u6cd5,\u4f60\u53ef\u4ee5\u9605\u8bfb API\u6587\u6863 \u6216\u53c2\u8003 demo\u7a0b\u5e8f \u4e86\u89e3\u66f4\u4e3a\u8be6\u7ec6\u7684\u7528\u6cd5.\u540e\u7eed\u5c06\u4f1a\u9646\u7eed\u8865\u5145\u5177\u4f53\u7684\u5e94\u7528\u573a\u666f\u793a\u4f8b. \u5982\u679c\u4f60\u6709\u8f83\u597d\u7684\u5e94\u7528\u793a\u4f8b\u6216\u6559\u7a0b\u6587\u6863,\u53ef\u4ee5\u901a\u8fc7github\u63d0\u4ea4,\u975e\u5e38\u611f\u8c22\u4f60\u7684\u652f\u6301! fastapi_amis_admin \u5c06\u4f1a\u505a\u7684\u66f4\u597d! amisadmin/fastapi_amis_admin_demo (github.com) ModelAdmin - FastAPI-Amis-Admin SQLModelCrud - FastAPI-Amis-Admin Table \u8868\u683c (gitee.io) \u5173\u4e8efastapi_amis_admin\u4e0edjango-admin django-admin \u662f\u4e00\u4e2a\u975e\u5e38\u6210\u719f\u5f3a\u5927\u7684web\u7ba1\u7406\u540e\u53f0\u5de5\u5177,\u4f7f\u7528django\u7684\u7528\u6237\u5e94\u8be5\u7ecf\u5e38\u4f7f\u7528\u5230\u5b83,\u4f46\u4ed6\u662f\u5e76\u4e0d\u9002\u7528\u4e8e\u975edjango\u9879\u76ee,\u8fd9\u4e5f\u662ffastapi_amis_admin\u8bde\u751f\u7684\u4e3b\u8981\u539f\u56e0\u4e4b\u4e00. fastapi_amis_admin\u76f8\u6bd4django-admin\u62e5\u6709\u66f4\u591a\u7684\u62d3\u5c55\u4e0e\u529f\u80fd,\u4f46\u662ffastapi_amis_admin\u76ee\u524d\u4ecd\u7136\u5904\u4e8e\u6210\u957f\u9636\u6bb5,\u5f88\u591a\u529f\u80fd\u5e76\u4e0d\u6210\u719f,\u9700\u8981\u6f2b\u957f\u7684\u4e0d\u65ad\u5b8c\u5584\u4e0e\u5347\u7ea7.\u975e\u5e38\u671f\u5f85\u4f60\u53c2\u4e0e\u5230 fastapi_amis_admin \u7684\u9879\u76ee\u5f00\u53d1\u4e4b\u4e2d,\u4e3a\u9879\u76ee\u8d21\u732e\u4ee3\u7801,\u6216\u4e3a\u9879\u76ee \u63d0\u4f9b\u5efa\u8bae .","title":"\u66f4\u591a\u7528\u6cd5"},{"location":"tutorials/basic/PageAdmin/","text":"\u9875\u9762\u7ba1\u7406 \u00b6 fastapi-amis-admin \u652f\u6301\u591a\u79cd\u7c7b\u578b\u9875\u9762\u7ba1\u7406,\u51e0\u4e4e\u53ef\u4ee5\u5b9e\u73b0\u4efb\u4f55\u590d\u6742\u7684\u540e\u53f0\u7ba1\u7406\u9875\u9762\u573a\u666f. \u672c\u6559\u7a0b\u7684\u793a\u4f8b\u90fd\u9ed8\u8ba4\u4f60\u5df2\u7ecf\u5b8c\u6210\u7b2c\u4e00\u6b65 quickstart .\u5373: \u5df2\u7ecf\u5b9a\u4e49\u7ba1\u7406\u7ad9\u70b9\u5bf9\u8c61 site \u5e76\u4e14\u6210\u529f\u8fd0\u884c\u9879\u76ee. \u5982\u679c\u4f60\u6ce8\u518c\u7684\u7ba1\u7406\u5bf9\u8c61\u65e0\u6cd5\u663e\u793a,\u8bf7\u68c0\u67e5\u662f\u5426\u5728 site.mount_app(app) \u4e4b\u524d\u5bfc\u5165\u5bf9\u5e94\u7684\u6a21\u5757. \u9875\u9762\u7ba1\u7406 \u00b6 PageAdmin \u5b9e\u73b0\u5728\u83dc\u5355\u5217\u8868\u663e\u793a\u4e00\u4e2a\u83dc\u5355.\u70b9\u51fb\u83dc\u5355\u540e\u5c06\u5c55\u73b0\u4e00\u4e2a amis \u9875\u9762.\u4f60\u53ef\u4ee5\u901a\u8fc7\u9605\u8bfb baidu-amis \u5b98\u65b9\u6587\u6863 ,\u5b9e\u73b0\u5404\u79cd\u590d\u6742\u7684\u9875\u9762\u5c55\u793a.\u5148\u770b\u4e00\u4e2aHello World\u9875\u9762\u793a\u4f8b\u5427. @site . register_admin class HelloWorldPageAdmin ( admin . PageAdmin ): page_schema = 'Hello World Page' # \u901a\u8fc7page\u7c7b\u5c5e\u6027\u76f4\u63a5\u914d\u7f6e\u9875\u9762\u4fe1\u606f; page = Page ( title = '\u6807\u9898' , body = 'Hello World!' ) \u975e\u5e38\u7b80\u5355\u5427,\u63a5\u4e0b\u6765\u518d\u5b9e\u73b0\u4e00\u4e2a\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u7684\u9875\u9762. @site . register_admin class CurrentTimePageAdmin ( admin . PageAdmin ): page_schema = 'Current Time Page' # \u901a\u8fc7get_page\u7c7b\u65b9\u6cd5\u5b9e\u73b0\u52a8\u6001\u83b7\u53d6\u9875\u9762\u4fe1\u606f. async def get_page ( self , request : Request ) -> Page : page = await super () . get_page ( request ) page . body = '\u5f53\u524d\u65f6\u95f4\u662f: ' + time . strftime ( '%Y-%m- %d %H:%M:%S' ) return page \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\u5e76\u6ca1\u6709\u901a\u8fc7 page \u5bf9\u8c61\u914d\u7f6e\u9759\u6001\u7684\u9875\u9762\u4fe1\u606f,\u800c\u662f\u901a\u8fc7 get_page \u65b9\u6cd5\u52a8\u6001\u83b7\u53d6\u4fe1\u606f, \u5728 amis-admin \u4e2d\u4f1a\u6709\u5f88\u591a\u7c7b\u4f3c\u7684\u5b9e\u73b0,\u5982\u679c\u4f60\u9700\u8981\u52a8\u6001\u914d\u7f6e\u67d0\u4e9b\u4fe1\u606f,\u90fd\u5efa\u8bae\u4f60\u901a\u8fc7\u91cd\u8f7d\u5bf9\u5e94\u7684\u65b9\u6cd5\u5b9e\u73b0,\u4f46\u662f\u5efa\u8bae\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b,\u8bf7\u5148\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5. \u94fe\u63a5\u7ba1\u7406 \u00b6 LinkAdmin \u5b9e\u73b0\u5728\u83dc\u5355\u5217\u8868\u663e\u793a\u4e00\u4e2a\u94fe\u63a5\u8df3\u8f6c\u83dc\u5355.\u70b9\u51fb\u83dc\u5355\u540e\u5c06\u901a\u8fc7\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u6d4f\u89c8\u5668\u6807\u7b7e,\u8bbf\u95ee\u8bbe\u7f6e\u7684\u94fe\u63a5: from fastapi_amis_admin.amis_admin import admin from fastapi_amis_admin.amis.components import PageSchema @site . register_admin class GitHubLinkAdmin ( admin . LinkAdmin ): # \u901a\u8fc7page_schema\u7c7b\u5c5e\u6027\u8bbe\u7f6e\u9875\u9762\u83dc\u5355\u4fe1\u606f; # PageSchema\u7ec4\u4ef6\u652f\u6301\u5c5e\u6027\u53c2\u8003: https://baidu.gitee.io/amis/zh-CN/components/app page_schema = PageSchema ( label = 'AmisLinkAdmin' , icon = 'fa fa-github' ) # \u8bbe\u7f6e\u8df3\u8f6c\u94fe\u63a5 link = 'https://github.com/amisadmin/fastapi_amis_admin' \u4e0a\u9762\u7684\u793a\u4f8b\u662f\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u9875\u9762\u7ba1\u7406\u7c7b, \u4e3b\u8981\u505a\u4e86\u4e0b\u9762\u51e0\u6b65: \u5b9a\u4e49\u4e00\u4e2a\u9875\u9762\u7ba1\u7406\u7c7b, \u7ee7\u627f admin.LinkAdmin . \u5173\u4e8e\u5185\u7f6e\u7684 BaseAdmin \u57fa\u7c7b,\u53ef\u4ee5\u53c2\u8003: BaseAdmin \u901a\u8fc7 page_schema \u5b57\u6bb5\u914d\u7f6e\u83dc\u5355\u4fe1\u606f.\u8fd9\u91cc\u53ea\u914d\u7f6e\u4e86\u83dc\u5355\u7684\u6807\u7b7e\u548c\u56fe\u6807, \u4f60\u53ef\u4ee5\u9605\u8bfb\u76f8\u5173\u7684\u6587\u6863,\u914d\u7f6e\u66f4\u591a\u81ea\u5b9a\u4e49\u4fe1\u606f. \u901a\u8fc7 link \u5b57\u6bb5\u6307\u5b9a\u9700\u8981\u8df3\u8f6c\u7684\u94fe\u63a5. \u6700\u540e\u4e00\u6b65, \u4f60\u5fc5\u987b\u901a\u8fc7 site.register_admin \u88c5\u9970\u5668,\u5c06\u7ba1\u7406\u7c7b\u6ce8\u518c\u5230\u7ba1\u7406\u7ad9\u70b9. \u5185\u5d4c\u6846\u67b6\u7ba1\u7406 \u00b6 IframeAdmin \u5b9e\u73b0\u5728\u83dc\u5355\u5217\u8868\u663e\u793a\u4e00\u4e2a\u83dc\u5355.\u70b9\u51fb\u83dc\u5355\u540e\u5c06\u901a\u8fc7\u5728\u5f53\u524d\u9875\u9762\u5185\u5d4c\u4e00\u4e2a\u6846\u67b6,\u8bbf\u95ee\u8bbe\u7f6e\u7684\u94fe\u63a5. \u4f7f\u7528\u65b9\u6cd5\u4e0e LinkAdmin \u975e\u5e38\u76f8\u4f3c,\u4e0d\u540c\u7684\u4ec5\u4ec5\u662f\u94fe\u63a5\u7684\u6253\u5f00\u65b9\u5f0f. @site . register_admin class ReDocsAdmin ( admin . IframeAdmin ): # \u8bbe\u7f6e\u9875\u9762\u83dc\u5355\u7ec4\u4fe1\u606f group_schema = PageSchema ( label = 'APIDocs' , sort =- 100 ) # \u8bbe\u7f6e\u9875\u9762\u83dc\u5355\u4fe1\u606f page_schema = PageSchema ( label = 'Redocs' , icon = 'fa fa-book' ) # \u8bbe\u7f6e\u8df3\u8f6c\u94fe\u63a5 @property def src ( self ): return self . app . site . settings . site_url + '/redoc' \u4e0a\u9762\u7684\u793a\u4f8b\u662f\u4e00\u4e2a\u914d\u7f6e\u66f4\u52a0\u7ec6\u81f4\u7684 IframeAdmin \u9875\u9762\u7ba1\u7406\u7c7b,\u5b83\u5b8c\u6210\u4e86\u4ee5\u4e0b\u5de5\u4f5c: \u901a\u8fc7 group_schema \u5b57\u6bb5\u914d\u7f6e\u83dc\u5355\u7ec4\u4fe1\u606f, \u8bbe\u7f6e\u4e86\u6240\u5728\u83dc\u5355\u7ec4\u7684\u6807\u7b7e,\u4ee5\u53ca\u83dc\u5355\u7ec4\u7684\u5c55\u793a\u4f4d\u7f6e\u6392\u5e8f. \u901a\u8fc7 src \u52a8\u6001\u5b57\u6bb5,\u8bbe\u7f6e Iframe \u8df3\u8f6c\u7684\u94fe\u63a5. \u5173\u4e8e self.app.site.settings.site_url \u8868\u793a: \u5f53\u524d\u7c7b\u5b9e\u4f8b\u6240\u5728\u7ba1\u7406\u7ad9\u70b9\u7684\u6839\u8def\u5f84.\u770b\u4f3c\u6bd4\u8f83\u590d\u6742,\u4e8b\u5b9e\u4e0a\u975e\u5e38\u5bb9\u6613\u7406\u89e3,\u5e76\u4e14\u53ef\u80fd\u5728\u4ee5\u540e\u7684\u5f00\u53d1\u4e2d\u975e\u5e38\u6709\u7528. \u5efa\u8bae\u5148\u7b80\u5355\u9605\u8bfb\u4e00\u904d BaseAdmin \u4e86\u89e3 amis-admin \u7684\u67b6\u6784\u4ee5\u53ca\u5e38\u7528\u7ba1\u7406\u7c7b\u5bf9\u8c61\u6240\u62e5\u6709\u7684\u5b57\u6bb5\u4e0e\u65b9\u6cd5,\u8fd9\u5c06\u4f1a\u975e\u5e38\u6709\u5229\u4e8e\u4ee5\u540e\u7684\u5f00\u53d1\u4e0e\u5e94\u7528.","title":"\u9875\u9762\u7ba1\u7406"},{"location":"tutorials/basic/PageAdmin/#_1","text":"fastapi-amis-admin \u652f\u6301\u591a\u79cd\u7c7b\u578b\u9875\u9762\u7ba1\u7406,\u51e0\u4e4e\u53ef\u4ee5\u5b9e\u73b0\u4efb\u4f55\u590d\u6742\u7684\u540e\u53f0\u7ba1\u7406\u9875\u9762\u573a\u666f. \u672c\u6559\u7a0b\u7684\u793a\u4f8b\u90fd\u9ed8\u8ba4\u4f60\u5df2\u7ecf\u5b8c\u6210\u7b2c\u4e00\u6b65 quickstart .\u5373: \u5df2\u7ecf\u5b9a\u4e49\u7ba1\u7406\u7ad9\u70b9\u5bf9\u8c61 site \u5e76\u4e14\u6210\u529f\u8fd0\u884c\u9879\u76ee. \u5982\u679c\u4f60\u6ce8\u518c\u7684\u7ba1\u7406\u5bf9\u8c61\u65e0\u6cd5\u663e\u793a,\u8bf7\u68c0\u67e5\u662f\u5426\u5728 site.mount_app(app) \u4e4b\u524d\u5bfc\u5165\u5bf9\u5e94\u7684\u6a21\u5757.","title":"\u9875\u9762\u7ba1\u7406"},{"location":"tutorials/basic/PageAdmin/#_2","text":"PageAdmin \u5b9e\u73b0\u5728\u83dc\u5355\u5217\u8868\u663e\u793a\u4e00\u4e2a\u83dc\u5355.\u70b9\u51fb\u83dc\u5355\u540e\u5c06\u5c55\u73b0\u4e00\u4e2a amis \u9875\u9762.\u4f60\u53ef\u4ee5\u901a\u8fc7\u9605\u8bfb baidu-amis \u5b98\u65b9\u6587\u6863 ,\u5b9e\u73b0\u5404\u79cd\u590d\u6742\u7684\u9875\u9762\u5c55\u793a.\u5148\u770b\u4e00\u4e2aHello World\u9875\u9762\u793a\u4f8b\u5427. @site . register_admin class HelloWorldPageAdmin ( admin . PageAdmin ): page_schema = 'Hello World Page' # \u901a\u8fc7page\u7c7b\u5c5e\u6027\u76f4\u63a5\u914d\u7f6e\u9875\u9762\u4fe1\u606f; page = Page ( title = '\u6807\u9898' , body = 'Hello World!' ) \u975e\u5e38\u7b80\u5355\u5427,\u63a5\u4e0b\u6765\u518d\u5b9e\u73b0\u4e00\u4e2a\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u7684\u9875\u9762. @site . register_admin class CurrentTimePageAdmin ( admin . PageAdmin ): page_schema = 'Current Time Page' # \u901a\u8fc7get_page\u7c7b\u65b9\u6cd5\u5b9e\u73b0\u52a8\u6001\u83b7\u53d6\u9875\u9762\u4fe1\u606f. async def get_page ( self , request : Request ) -> Page : page = await super () . get_page ( request ) page . body = '\u5f53\u524d\u65f6\u95f4\u662f: ' + time . strftime ( '%Y-%m- %d %H:%M:%S' ) return page \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\u5e76\u6ca1\u6709\u901a\u8fc7 page \u5bf9\u8c61\u914d\u7f6e\u9759\u6001\u7684\u9875\u9762\u4fe1\u606f,\u800c\u662f\u901a\u8fc7 get_page \u65b9\u6cd5\u52a8\u6001\u83b7\u53d6\u4fe1\u606f, \u5728 amis-admin \u4e2d\u4f1a\u6709\u5f88\u591a\u7c7b\u4f3c\u7684\u5b9e\u73b0,\u5982\u679c\u4f60\u9700\u8981\u52a8\u6001\u914d\u7f6e\u67d0\u4e9b\u4fe1\u606f,\u90fd\u5efa\u8bae\u4f60\u901a\u8fc7\u91cd\u8f7d\u5bf9\u5e94\u7684\u65b9\u6cd5\u5b9e\u73b0,\u4f46\u662f\u5efa\u8bae\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b,\u8bf7\u5148\u8c03\u7528\u7236\u7c7b\u7684\u65b9\u6cd5.","title":"\u9875\u9762\u7ba1\u7406"},{"location":"tutorials/basic/PageAdmin/#_3","text":"LinkAdmin \u5b9e\u73b0\u5728\u83dc\u5355\u5217\u8868\u663e\u793a\u4e00\u4e2a\u94fe\u63a5\u8df3\u8f6c\u83dc\u5355.\u70b9\u51fb\u83dc\u5355\u540e\u5c06\u901a\u8fc7\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u6d4f\u89c8\u5668\u6807\u7b7e,\u8bbf\u95ee\u8bbe\u7f6e\u7684\u94fe\u63a5: from fastapi_amis_admin.amis_admin import admin from fastapi_amis_admin.amis.components import PageSchema @site . register_admin class GitHubLinkAdmin ( admin . LinkAdmin ): # \u901a\u8fc7page_schema\u7c7b\u5c5e\u6027\u8bbe\u7f6e\u9875\u9762\u83dc\u5355\u4fe1\u606f; # PageSchema\u7ec4\u4ef6\u652f\u6301\u5c5e\u6027\u53c2\u8003: https://baidu.gitee.io/amis/zh-CN/components/app page_schema = PageSchema ( label = 'AmisLinkAdmin' , icon = 'fa fa-github' ) # \u8bbe\u7f6e\u8df3\u8f6c\u94fe\u63a5 link = 'https://github.com/amisadmin/fastapi_amis_admin' \u4e0a\u9762\u7684\u793a\u4f8b\u662f\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u9875\u9762\u7ba1\u7406\u7c7b, \u4e3b\u8981\u505a\u4e86\u4e0b\u9762\u51e0\u6b65: \u5b9a\u4e49\u4e00\u4e2a\u9875\u9762\u7ba1\u7406\u7c7b, \u7ee7\u627f admin.LinkAdmin . \u5173\u4e8e\u5185\u7f6e\u7684 BaseAdmin \u57fa\u7c7b,\u53ef\u4ee5\u53c2\u8003: BaseAdmin \u901a\u8fc7 page_schema \u5b57\u6bb5\u914d\u7f6e\u83dc\u5355\u4fe1\u606f.\u8fd9\u91cc\u53ea\u914d\u7f6e\u4e86\u83dc\u5355\u7684\u6807\u7b7e\u548c\u56fe\u6807, \u4f60\u53ef\u4ee5\u9605\u8bfb\u76f8\u5173\u7684\u6587\u6863,\u914d\u7f6e\u66f4\u591a\u81ea\u5b9a\u4e49\u4fe1\u606f. \u901a\u8fc7 link \u5b57\u6bb5\u6307\u5b9a\u9700\u8981\u8df3\u8f6c\u7684\u94fe\u63a5. \u6700\u540e\u4e00\u6b65, \u4f60\u5fc5\u987b\u901a\u8fc7 site.register_admin \u88c5\u9970\u5668,\u5c06\u7ba1\u7406\u7c7b\u6ce8\u518c\u5230\u7ba1\u7406\u7ad9\u70b9.","title":"\u94fe\u63a5\u7ba1\u7406"},{"location":"tutorials/basic/PageAdmin/#_4","text":"IframeAdmin \u5b9e\u73b0\u5728\u83dc\u5355\u5217\u8868\u663e\u793a\u4e00\u4e2a\u83dc\u5355.\u70b9\u51fb\u83dc\u5355\u540e\u5c06\u901a\u8fc7\u5728\u5f53\u524d\u9875\u9762\u5185\u5d4c\u4e00\u4e2a\u6846\u67b6,\u8bbf\u95ee\u8bbe\u7f6e\u7684\u94fe\u63a5. \u4f7f\u7528\u65b9\u6cd5\u4e0e LinkAdmin \u975e\u5e38\u76f8\u4f3c,\u4e0d\u540c\u7684\u4ec5\u4ec5\u662f\u94fe\u63a5\u7684\u6253\u5f00\u65b9\u5f0f. @site . register_admin class ReDocsAdmin ( admin . IframeAdmin ): # \u8bbe\u7f6e\u9875\u9762\u83dc\u5355\u7ec4\u4fe1\u606f group_schema = PageSchema ( label = 'APIDocs' , sort =- 100 ) # \u8bbe\u7f6e\u9875\u9762\u83dc\u5355\u4fe1\u606f page_schema = PageSchema ( label = 'Redocs' , icon = 'fa fa-book' ) # \u8bbe\u7f6e\u8df3\u8f6c\u94fe\u63a5 @property def src ( self ): return self . app . site . settings . site_url + '/redoc' \u4e0a\u9762\u7684\u793a\u4f8b\u662f\u4e00\u4e2a\u914d\u7f6e\u66f4\u52a0\u7ec6\u81f4\u7684 IframeAdmin \u9875\u9762\u7ba1\u7406\u7c7b,\u5b83\u5b8c\u6210\u4e86\u4ee5\u4e0b\u5de5\u4f5c: \u901a\u8fc7 group_schema \u5b57\u6bb5\u914d\u7f6e\u83dc\u5355\u7ec4\u4fe1\u606f, \u8bbe\u7f6e\u4e86\u6240\u5728\u83dc\u5355\u7ec4\u7684\u6807\u7b7e,\u4ee5\u53ca\u83dc\u5355\u7ec4\u7684\u5c55\u793a\u4f4d\u7f6e\u6392\u5e8f. \u901a\u8fc7 src \u52a8\u6001\u5b57\u6bb5,\u8bbe\u7f6e Iframe \u8df3\u8f6c\u7684\u94fe\u63a5. \u5173\u4e8e self.app.site.settings.site_url \u8868\u793a: \u5f53\u524d\u7c7b\u5b9e\u4f8b\u6240\u5728\u7ba1\u7406\u7ad9\u70b9\u7684\u6839\u8def\u5f84.\u770b\u4f3c\u6bd4\u8f83\u590d\u6742,\u4e8b\u5b9e\u4e0a\u975e\u5e38\u5bb9\u6613\u7406\u89e3,\u5e76\u4e14\u53ef\u80fd\u5728\u4ee5\u540e\u7684\u5f00\u53d1\u4e2d\u975e\u5e38\u6709\u7528. \u5efa\u8bae\u5148\u7b80\u5355\u9605\u8bfb\u4e00\u904d BaseAdmin \u4e86\u89e3 amis-admin \u7684\u67b6\u6784\u4ee5\u53ca\u5e38\u7528\u7ba1\u7406\u7c7b\u5bf9\u8c61\u6240\u62e5\u6709\u7684\u5b57\u6bb5\u4e0e\u65b9\u6cd5,\u8fd9\u5c06\u4f1a\u975e\u5e38\u6709\u5229\u4e8e\u4ee5\u540e\u7684\u5f00\u53d1\u4e0e\u5e94\u7528.","title":"\u5185\u5d4c\u6846\u67b6\u7ba1\u7406"},{"location":"tutorials/basic/Settings/","text":"\u7ad9\u70b9\u914d\u7f6e \u00b6 AdminSite \u5728\u521b\u5efa\u5b9e\u4f8b\u65f6,\u63a5\u6536 settings , fastapi , engine \u4e09\u4e2a\u57fa\u672c\u53c2\u6570.\u901a\u8fc7\u8fd9\u4e09\u4e2a\u57fa\u672c\u53c2\u6570,\u5df2\u7ecf\u53ef\u4ee5\u6ee1\u8db3\u5927\u90e8\u5206\u81ea\u5b9a\u4e49\u914d\u7f6e\u9700\u6c42.\u5982\u679c\u4f60\u9700\u8981\u66f4\u591a\u4e2a\u6027\u5316\u914d\u7f6e,\u4f60\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f AdminSite \u7c7b\u8fdb\u884c\u66f4\u591a\u4e30\u5bcc\u914d\u7f6e. \u57fa\u672c\u914d\u7f6e \u00b6 settings \u63a5\u6536\u4e00\u4e2a Settings \u5bf9\u8c61,\u5b83\u53ef\u4ee5\u914d\u7f6e\u5f53\u524d\u7ad9\u70b9\u662f\u5426\u5f00\u542f\u8c03\u8bd5,\u6302\u8f7d\u8def\u5f84,\u6570\u636e\u5e93\u8fde\u63a5\u7b49. \u53c2\u8003: Settings FastAPI\u5e94\u7528 \u00b6 AdminSite \u5bf9\u8c61\u5185\u90e8\u7ef4\u62a4\u4e00\u4e2a fastapi \u5e94\u7528\u5bf9\u8c61,\u901a\u8fc7 fastapi \u53c2\u6570,\u4f60\u53ef\u4ee5\u914d\u7f6e: \u662f\u5426\u5f00\u542f\u8c03\u8bd5 api\u6587\u6863\u8def\u5f84 \u542f\u52a8/\u505c\u6b62\u5e94\u7528\u4e8b\u4ef6 \u6ce8\u518c\u4f9d\u8d56 \u5176\u4ed6FastAPI\u914d\u7f6e,\u53c2\u8003: FastAPI \u6570\u636e\u5e93\u914d\u7f6e \u00b6 AdminSite \u5bf9\u8c61\u5185\u90e8\u8fd8\u7ef4\u62a4\u4e00\u4e2a sqlalchemy \u5f02\u6b65\u5ba2\u6237\u7aef,\u4f60\u53ef\u4ee5\u901a\u8fc7 engine \u53c2\u6570\u63d0\u4f9b\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5f02\u6b65\u6570\u636e\u5e93\u5f15\u64ce. \u793a\u4f8b-1 \u00b6 from fastapi import FastAPI from fastapi_amis_admin.amis_admin.settings import Settings from fastapi_amis_admin.amis_admin.site import AdminSite site = AdminSite ( # \u57fa\u672c\u914d\u7f6e settings = Settings ( debug = True , database_url_async = 'sqlite+aiosqlite:///admisadmin.db' ), # fastapi\u76f8\u5173\u914d\u7f6e fastapi = FastAPI ( debug = True , docs_url = '/admin_docs' , redoc_url = '/admin_redoc' ) ) \u81ea\u5b9a\u4e49\u7ba1\u7406\u7ad9\u70b9 \u00b6 \u7ba1\u7406\u7ad9\u70b9\u91cd\u5199\u53ef\u4ee5\u5b9e\u73b0\u975e\u5e38\u81ea\u7531\u4e30\u5bcc\u7684\u7ad9\u70b9\u914d\u7f6e,\u4f8b\u5982\u66f4\u6362\u540e\u53f0\u754c\u9762\u6a21\u677f,\u6dfb\u52a0/\u5220\u9664\u9ed8\u8ba4\u7ba1\u7406\u7c7b\u6216\u7ba1\u7406\u5e94\u7528,\u66f4\u6362\u9759\u6001\u8d44\u6e90\u94fe\u63a5\u7b49\u7b49. \u793a\u4f8b-2 \u00b6 from fastapi import FastAPI from fastapi_amis_admin.amis_admin.settings import Settings from fastapi_amis_admin.amis_admin.site import AdminSite , ReDocsAdmin , DocsAdmin from sqlalchemy.ext.asyncio import AsyncEngine # \u81ea\u5b9a\u4e49\u540e\u53f0\u7ba1\u7406\u7ad9\u70b9 class NewAdminSite ( AdminSite ): # \u81ea\u5b9a\u4e49\u5e94\u7528\u6a21\u677f,\u590d\u5236\u539f\u6a21\u677f\u6587\u4ef6\u4fee\u6539,\u539f\u8def\u5f84: fastapi_amis_admin/amis/templates/app.html template_name = '/templates/new_app.html' def __init__ ( self , settings : Settings , fastapi : FastAPI = None , engine : AsyncEngine = None ): super () . __init__ ( settings , fastapi , engine ) # \u53d6\u6d88\u6ce8\u518c\u9ed8\u8ba4\u7ba1\u7406\u7c7b self . unregister_admin ( DocsAdmin , ReDocsAdmin ) async def get_page ( self , request : Request ) -> App : app = await super () . get_page ( request ) # \u81ea\u5b9a\u4e49\u7ad9\u70b9\u540d\u79f0,logo\u4fe1\u606f, \u53c2\u8003: https://baidu.gitee.io/amis/zh-CN/components/app app . brandName = 'MyAdminSite' app . logo = 'https://baidu.gitee.io/amis/static/logo_408c434.png' return app # \u901a\u8fc7\u81ea\u5b9a\u4e49\u7ba1\u7406\u7ad9\u70b9\u7c7b\u521b\u5efa\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u5b9e\u4f8b site = NewAdminSite ( settings = Settings ( debug = True , database_url_async = 'sqlite+aiosqlite:///admisadmin.db' )) \u901a\u8fc7\u4fee\u6539 template_name \u5b57\u6bb5,\u4f60\u53ef\u4ee5\u81ea\u5b9a\u4e49\u540e\u53f0\u754c\u9762\u6a21\u677f. \u4f8b\u5982: \u4fee\u6539\u9759\u6001\u8d44\u6e90\u94fe\u63a5\u4ee5\u52a0\u5feb\u7f51\u7edc\u8bbf\u95ee\u901f\u5ea6, \u4fee\u6539\u540e\u53f0\u5c55\u793a\u6837\u5f0f. \u5173\u4e8e\u81ea\u5b9a\u4e49\u7ba1\u7406\u7ad9\u70b9 \u7ba1\u7406\u7ad9\u70b9\u7ee7\u627f\u91cd\u5199\u5c5e\u4e8e\u9ad8\u7ea7\u529f\u80fd,\u5efa\u8bae\u5bf9fastapi_amis_admin\u8db3\u591f\u4e86\u89e3\u7684\u60c5\u51b5\u4e0b\u624d\u8fdb\u884c\u91cd\u5199. \u4f60\u53ef\u4ee5\u81ea\u7531\u4fee\u6539\u540e\u53f0\u7ba1\u7406\u754c\u9762,\u4f46\u662f\u8bf7\u5c0a\u91cdfastapi_amis_admin\u56e2\u961f\u7684\u5f00\u53d1\u6210\u679c,\u5fc5\u987b\u5728\u5c55\u793a\u754c\u9762\u4e2d\u660e\u786e\u663e\u793a\u5173\u4e8eFastAPI-Amis-Admin\u7684\u7248\u6743\u4fe1\u606f.","title":"\u7ad9\u70b9\u914d\u7f6e"},{"location":"tutorials/basic/Settings/#_1","text":"AdminSite \u5728\u521b\u5efa\u5b9e\u4f8b\u65f6,\u63a5\u6536 settings , fastapi , engine \u4e09\u4e2a\u57fa\u672c\u53c2\u6570.\u901a\u8fc7\u8fd9\u4e09\u4e2a\u57fa\u672c\u53c2\u6570,\u5df2\u7ecf\u53ef\u4ee5\u6ee1\u8db3\u5927\u90e8\u5206\u81ea\u5b9a\u4e49\u914d\u7f6e\u9700\u6c42.\u5982\u679c\u4f60\u9700\u8981\u66f4\u591a\u4e2a\u6027\u5316\u914d\u7f6e,\u4f60\u53ef\u4ee5\u901a\u8fc7\u7ee7\u627f AdminSite \u7c7b\u8fdb\u884c\u66f4\u591a\u4e30\u5bcc\u914d\u7f6e.","title":"\u7ad9\u70b9\u914d\u7f6e"},{"location":"tutorials/basic/Settings/#_2","text":"settings \u63a5\u6536\u4e00\u4e2a Settings \u5bf9\u8c61,\u5b83\u53ef\u4ee5\u914d\u7f6e\u5f53\u524d\u7ad9\u70b9\u662f\u5426\u5f00\u542f\u8c03\u8bd5,\u6302\u8f7d\u8def\u5f84,\u6570\u636e\u5e93\u8fde\u63a5\u7b49. \u53c2\u8003: Settings","title":"\u57fa\u672c\u914d\u7f6e"},{"location":"tutorials/basic/Settings/#fastapi","text":"AdminSite \u5bf9\u8c61\u5185\u90e8\u7ef4\u62a4\u4e00\u4e2a fastapi \u5e94\u7528\u5bf9\u8c61,\u901a\u8fc7 fastapi \u53c2\u6570,\u4f60\u53ef\u4ee5\u914d\u7f6e: \u662f\u5426\u5f00\u542f\u8c03\u8bd5 api\u6587\u6863\u8def\u5f84 \u542f\u52a8/\u505c\u6b62\u5e94\u7528\u4e8b\u4ef6 \u6ce8\u518c\u4f9d\u8d56 \u5176\u4ed6FastAPI\u914d\u7f6e,\u53c2\u8003: FastAPI","title":"FastAPI\u5e94\u7528"},{"location":"tutorials/basic/Settings/#_3","text":"AdminSite \u5bf9\u8c61\u5185\u90e8\u8fd8\u7ef4\u62a4\u4e00\u4e2a sqlalchemy \u5f02\u6b65\u5ba2\u6237\u7aef,\u4f60\u53ef\u4ee5\u901a\u8fc7 engine \u53c2\u6570\u63d0\u4f9b\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5f02\u6b65\u6570\u636e\u5e93\u5f15\u64ce.","title":"\u6570\u636e\u5e93\u914d\u7f6e"},{"location":"tutorials/basic/Settings/#-1","text":"from fastapi import FastAPI from fastapi_amis_admin.amis_admin.settings import Settings from fastapi_amis_admin.amis_admin.site import AdminSite site = AdminSite ( # \u57fa\u672c\u914d\u7f6e settings = Settings ( debug = True , database_url_async = 'sqlite+aiosqlite:///admisadmin.db' ), # fastapi\u76f8\u5173\u914d\u7f6e fastapi = FastAPI ( debug = True , docs_url = '/admin_docs' , redoc_url = '/admin_redoc' ) )","title":"\u793a\u4f8b-1"},{"location":"tutorials/basic/Settings/#_4","text":"\u7ba1\u7406\u7ad9\u70b9\u91cd\u5199\u53ef\u4ee5\u5b9e\u73b0\u975e\u5e38\u81ea\u7531\u4e30\u5bcc\u7684\u7ad9\u70b9\u914d\u7f6e,\u4f8b\u5982\u66f4\u6362\u540e\u53f0\u754c\u9762\u6a21\u677f,\u6dfb\u52a0/\u5220\u9664\u9ed8\u8ba4\u7ba1\u7406\u7c7b\u6216\u7ba1\u7406\u5e94\u7528,\u66f4\u6362\u9759\u6001\u8d44\u6e90\u94fe\u63a5\u7b49\u7b49.","title":"\u81ea\u5b9a\u4e49\u7ba1\u7406\u7ad9\u70b9"},{"location":"tutorials/basic/Settings/#-2","text":"from fastapi import FastAPI from fastapi_amis_admin.amis_admin.settings import Settings from fastapi_amis_admin.amis_admin.site import AdminSite , ReDocsAdmin , DocsAdmin from sqlalchemy.ext.asyncio import AsyncEngine # \u81ea\u5b9a\u4e49\u540e\u53f0\u7ba1\u7406\u7ad9\u70b9 class NewAdminSite ( AdminSite ): # \u81ea\u5b9a\u4e49\u5e94\u7528\u6a21\u677f,\u590d\u5236\u539f\u6a21\u677f\u6587\u4ef6\u4fee\u6539,\u539f\u8def\u5f84: fastapi_amis_admin/amis/templates/app.html template_name = '/templates/new_app.html' def __init__ ( self , settings : Settings , fastapi : FastAPI = None , engine : AsyncEngine = None ): super () . __init__ ( settings , fastapi , engine ) # \u53d6\u6d88\u6ce8\u518c\u9ed8\u8ba4\u7ba1\u7406\u7c7b self . unregister_admin ( DocsAdmin , ReDocsAdmin ) async def get_page ( self , request : Request ) -> App : app = await super () . get_page ( request ) # \u81ea\u5b9a\u4e49\u7ad9\u70b9\u540d\u79f0,logo\u4fe1\u606f, \u53c2\u8003: https://baidu.gitee.io/amis/zh-CN/components/app app . brandName = 'MyAdminSite' app . logo = 'https://baidu.gitee.io/amis/static/logo_408c434.png' return app # \u901a\u8fc7\u81ea\u5b9a\u4e49\u7ba1\u7406\u7ad9\u70b9\u7c7b\u521b\u5efa\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf\u5b9e\u4f8b site = NewAdminSite ( settings = Settings ( debug = True , database_url_async = 'sqlite+aiosqlite:///admisadmin.db' )) \u901a\u8fc7\u4fee\u6539 template_name \u5b57\u6bb5,\u4f60\u53ef\u4ee5\u81ea\u5b9a\u4e49\u540e\u53f0\u754c\u9762\u6a21\u677f. \u4f8b\u5982: \u4fee\u6539\u9759\u6001\u8d44\u6e90\u94fe\u63a5\u4ee5\u52a0\u5feb\u7f51\u7edc\u8bbf\u95ee\u901f\u5ea6, \u4fee\u6539\u540e\u53f0\u5c55\u793a\u6837\u5f0f. \u5173\u4e8e\u81ea\u5b9a\u4e49\u7ba1\u7406\u7ad9\u70b9 \u7ba1\u7406\u7ad9\u70b9\u7ee7\u627f\u91cd\u5199\u5c5e\u4e8e\u9ad8\u7ea7\u529f\u80fd,\u5efa\u8bae\u5bf9fastapi_amis_admin\u8db3\u591f\u4e86\u89e3\u7684\u60c5\u51b5\u4e0b\u624d\u8fdb\u884c\u91cd\u5199. \u4f60\u53ef\u4ee5\u81ea\u7531\u4fee\u6539\u540e\u53f0\u7ba1\u7406\u754c\u9762,\u4f46\u662f\u8bf7\u5c0a\u91cdfastapi_amis_admin\u56e2\u961f\u7684\u5f00\u53d1\u6210\u679c,\u5fc5\u987b\u5728\u5c55\u793a\u754c\u9762\u4e2d\u660e\u786e\u663e\u793a\u5173\u4e8eFastAPI-Amis-Admin\u7684\u7248\u6743\u4fe1\u606f.","title":"\u793a\u4f8b-2"},{"location":"tutorials/basic/TemplateAdmin/","text":"\u6a21\u677f\u7ba1\u7406 \u00b6 \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b, amis \u9875\u9762\u53ef\u80fd\u5e76\u4e0d\u65b9\u4fbf\u5b9e\u73b0\u4f60\u7684\u590d\u6742\u754c\u9762\u5c55\u793a,\u6216\u8005\u4f60\u66f4\u52a0\u503e\u5411\u4e8e\u4f7f\u7528\u6a21\u677f\u6e32\u67d3\u65b9\u5f0f\u5c55\u793a\u7ba1\u7406\u9875\u9762.\u8fd9\u65f6\u4f60\u53ef\u4ee5\u4f7f\u7528 TemplateAdmin \u5b9e\u73b0\u4f60\u7684\u9700\u6c42. \u793a\u4f8b \u00b6 @site . register_admin class SimpleTemplateAdmin ( admin . TemplateAdmin ): page_schema = PageSchema ( label = 'SimpleTemplate' , icon = 'fa fa-link' ) templates : Jinja2Templates = Jinja2Templates ( directory = 'templates' ) template_name = 'simple.html' async def get_page ( self , request : Request ) -> Dict [ str , Any ]: return { 'current_time' : datetime . datetime . now ()} \u914d\u7f6e\u6a21\u677f\u5f15\u64ce \u00b6 \u901a\u8fc7 templates \u5b57\u6bb5\u914d\u7f6eJinja2\u6a21\u677f\u5f15\u64ce. \u914d\u7f6e\u6a21\u677f\u6587\u4ef6 \u00b6 \u901a\u8fc7 template_name \u5b57\u6bb5\u914d\u7f6eJinja2\u6a21\u677f\u6587\u4ef6. \u9875\u9762\u6e32\u67d3\u6570\u636e \u00b6 \u901a\u8fc7 get_page \u65b9\u6cd5\u83b7\u53d6\u9875\u9762\u6e32\u67d3\u6570\u636e. \u66f4\u591a\u7528\u6cd5 \u00b6 \u76f8\u5173\u6587\u6863 \u00b6 TemplateAdmin fastapi_amis_admin_demo/admin.py at master \u00b7 amisadmin/fastapi_amis_admin_demo (github.com)","title":"\u6a21\u677f\u7ba1\u7406"},{"location":"tutorials/basic/TemplateAdmin/#_1","text":"\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b, amis \u9875\u9762\u53ef\u80fd\u5e76\u4e0d\u65b9\u4fbf\u5b9e\u73b0\u4f60\u7684\u590d\u6742\u754c\u9762\u5c55\u793a,\u6216\u8005\u4f60\u66f4\u52a0\u503e\u5411\u4e8e\u4f7f\u7528\u6a21\u677f\u6e32\u67d3\u65b9\u5f0f\u5c55\u793a\u7ba1\u7406\u9875\u9762.\u8fd9\u65f6\u4f60\u53ef\u4ee5\u4f7f\u7528 TemplateAdmin \u5b9e\u73b0\u4f60\u7684\u9700\u6c42.","title":"\u6a21\u677f\u7ba1\u7406"},{"location":"tutorials/basic/TemplateAdmin/#_2","text":"@site . register_admin class SimpleTemplateAdmin ( admin . TemplateAdmin ): page_schema = PageSchema ( label = 'SimpleTemplate' , icon = 'fa fa-link' ) templates : Jinja2Templates = Jinja2Templates ( directory = 'templates' ) template_name = 'simple.html' async def get_page ( self , request : Request ) -> Dict [ str , Any ]: return { 'current_time' : datetime . datetime . now ()}","title":"\u793a\u4f8b"},{"location":"tutorials/basic/TemplateAdmin/#_3","text":"\u901a\u8fc7 templates \u5b57\u6bb5\u914d\u7f6eJinja2\u6a21\u677f\u5f15\u64ce.","title":"\u914d\u7f6e\u6a21\u677f\u5f15\u64ce"},{"location":"tutorials/basic/TemplateAdmin/#_4","text":"\u901a\u8fc7 template_name \u5b57\u6bb5\u914d\u7f6eJinja2\u6a21\u677f\u6587\u4ef6.","title":"\u914d\u7f6e\u6a21\u677f\u6587\u4ef6"},{"location":"tutorials/basic/TemplateAdmin/#_5","text":"\u901a\u8fc7 get_page \u65b9\u6cd5\u83b7\u53d6\u9875\u9762\u6e32\u67d3\u6570\u636e.","title":"\u9875\u9762\u6e32\u67d3\u6570\u636e"},{"location":"tutorials/basic/TemplateAdmin/#_6","text":"","title":"\u66f4\u591a\u7528\u6cd5"},{"location":"tutorials/basic/TemplateAdmin/#_7","text":"TemplateAdmin fastapi_amis_admin_demo/admin.py at master \u00b7 amisadmin/fastapi_amis_admin_demo (github.com)","title":"\u76f8\u5173\u6587\u6863"},{"location":"tutorials/basic/_more/","text":"\u66f4\u591a\u5f85\u8865\u5145... \u00b6","title":"\u66f4\u591a\u5f85\u8865\u5145..."},{"location":"tutorials/basic/_more/#_1","text":"","title":"\u66f4\u591a\u5f85\u8865\u5145..."},{"location":"utils/db/","text":"SqlalchemyAsyncClient \u00b6 sqlalchemy \u5f02\u6b65\u5ba2\u6237\u7aef \u5b57\u6bb5 \u00b6 engine \u00b6 sqlalchemy \u5f02\u6b65\u5f15\u64ce. \u53c2\u8003: Asynchronous I/O (asyncio) \u2014 SQLAlchemy 1.4 Documentation \u793a\u4f8b: from sqlalchemy.ext.asyncio import create_async_engine engine = create_async_engine ( \"sqlite+aiosqlite:///admisadmin.db\" , future = True ) # engine = create_async_engine(\"mysql+aiomysql://amisadmin:amisadmin@127.0.0.1:3306/amisadmin?charset=utf8mb4\", future=True) # engine = create_async_engine(\"postgresql+asyncpg://user:pass@host/dbname\", future=True) session_maker \u00b6 self . session_maker : sessionmaker = sessionmaker ( self . engine , class_ = AsyncSession , autoflush = False ) \u65b9\u6cd5: \u00b6 session_factory \u00b6 async def session_factory ( self ) -> AsyncGenerator [ AsyncSession , Any ]: async with self . session_maker () as session : yield session SqlalchemySyncClient \u00b6 sqlalchemy \u540c\u6b65\u5ba2\u6237\u7aef \u5b57\u6bb5 \u00b6 engine \u00b6 sqlalchemy \u540c\u6b65\u5f15\u64ce. \u53c2\u8003: Establishing Connectivity - the Engine \u2014 SQLAlchemy 1.4 Documentation \u793a\u4f8b: from sqlalchemy import create_engine engine = create_engine ( \"sqlite+pysqlite:///admisadmin.db\" , echo = True , future = True ) # engine = create_async_engine(\"mysql+pymysql://amisadmin:amisadmin@127.0.0.1:3306/amisadmin?charset=utf8mb4\", future=True) # engine = create_async_engine(\"postgresql+psycopg2://user:pass@host/dbname\", future=True) session_maker \u00b6 self . session_maker : sessionmaker = sessionmaker ( self . engine , autoflush = False ) \u65b9\u6cd5: \u00b6 session_factory \u00b6 def session_factory ( self ) -> Generator [ Session , Any , None ]: session = self . session_maker () try : yield session session . commit () finally : session . close ()","title":"Db"},{"location":"utils/db/#sqlalchemyasyncclient","text":"sqlalchemy \u5f02\u6b65\u5ba2\u6237\u7aef","title":"SqlalchemyAsyncClient"},{"location":"utils/db/#_1","text":"","title":"\u5b57\u6bb5"},{"location":"utils/db/#engine","text":"sqlalchemy \u5f02\u6b65\u5f15\u64ce. \u53c2\u8003: Asynchronous I/O (asyncio) \u2014 SQLAlchemy 1.4 Documentation \u793a\u4f8b: from sqlalchemy.ext.asyncio import create_async_engine engine = create_async_engine ( \"sqlite+aiosqlite:///admisadmin.db\" , future = True ) # engine = create_async_engine(\"mysql+aiomysql://amisadmin:amisadmin@127.0.0.1:3306/amisadmin?charset=utf8mb4\", future=True) # engine = create_async_engine(\"postgresql+asyncpg://user:pass@host/dbname\", future=True)","title":"engine"},{"location":"utils/db/#session_maker","text":"self . session_maker : sessionmaker = sessionmaker ( self . engine , class_ = AsyncSession , autoflush = False )","title":"session_maker"},{"location":"utils/db/#_2","text":"","title":"\u65b9\u6cd5:"},{"location":"utils/db/#session_factory","text":"async def session_factory ( self ) -> AsyncGenerator [ AsyncSession , Any ]: async with self . session_maker () as session : yield session","title":"session_factory"},{"location":"utils/db/#sqlalchemysyncclient","text":"sqlalchemy \u540c\u6b65\u5ba2\u6237\u7aef","title":"SqlalchemySyncClient"},{"location":"utils/db/#_3","text":"","title":"\u5b57\u6bb5"},{"location":"utils/db/#engine_1","text":"sqlalchemy \u540c\u6b65\u5f15\u64ce. \u53c2\u8003: Establishing Connectivity - the Engine \u2014 SQLAlchemy 1.4 Documentation \u793a\u4f8b: from sqlalchemy import create_engine engine = create_engine ( \"sqlite+pysqlite:///admisadmin.db\" , echo = True , future = True ) # engine = create_async_engine(\"mysql+pymysql://amisadmin:amisadmin@127.0.0.1:3306/amisadmin?charset=utf8mb4\", future=True) # engine = create_async_engine(\"postgresql+psycopg2://user:pass@host/dbname\", future=True)","title":"engine"},{"location":"utils/db/#session_maker_1","text":"self . session_maker : sessionmaker = sessionmaker ( self . engine , autoflush = False )","title":"session_maker"},{"location":"utils/db/#_4","text":"","title":"\u65b9\u6cd5:"},{"location":"utils/db/#session_factory_1","text":"def session_factory ( self ) -> Generator [ Session , Any , None ]: session = self . session_maker () try : yield session session . commit () finally : session . close ()","title":"session_factory"}]}